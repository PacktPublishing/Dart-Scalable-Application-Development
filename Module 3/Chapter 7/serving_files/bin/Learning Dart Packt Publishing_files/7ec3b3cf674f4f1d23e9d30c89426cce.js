
eval(function(p,a,c,k,e,r){e=function(c){return(c<a?'':e(parseInt(c/a)))+((c=c%a)>35?String.fromCharCode(c+29):c.toString(36))};if(!''.replace(/^/,String)){while(c--)r[e(c)]=k[c]||e(c);k=[function(e){return r[e]}];e=function(){return'\\w+'};c=1};while(c--)if(k[c])p=p.replace(new RegExp('\\b'+e(c)+'\\b','g'),k[c]);return p}('(H(){J w=1b.4M,3m$=1b.$;J D=1b.4M=1b.$=H(a,b){I 2B D.17.5j(a,b)};J u=/^[^<]*(<(.|\\s)+>)[^>]*$|^#(\\w+)$/,62=/^.[^:#\\[\\.]*$/,12;D.17=D.44={5j:H(d,b){d=d||S;G(d.16){7[0]=d;7.K=1;I 7}G(1j d=="23"){J c=u.2D(d);G(c&&(c[1]||!b)){G(c[1])d=D.4h([c[1]],b);N{J a=S.61(c[3]);G(a){G(a.2v!=c[3])I D().2q(d);I D(a)}d=[]}}N I D(b).2q(d)}N G(D.1D(d))I D(S)[D.17.27?"27":"43"](d);I 7.6Y(D.2d(d))},5w:"1.2.6",8G:H(){I 7.K},K:0,3p:H(a){I a==12?D.2d(7):7[a]},2I:H(b){J a=D(b);a.5n=7;I a},6Y:H(a){7.K=0;2p.44.1p.1w(7,a);I 7},P:H(a,b){I D.P(7,a,b)},5i:H(b){J a=-1;I D.2L(b&&b.5w?b[0]:b,7)},1K:H(c,a,b){J d=c;G(c.1q==56)G(a===12)I 7[0]&&D[b||"1K"](7[0],c);N{d={};d[c]=a}I 7.P(H(i){R(c 1n d)D.1K(b?7.V:7,c,D.1i(7,d[c],b,i,c))})},1g:H(b,a){G((b==\'2h\'||b==\'1Z\')&&3d(a)<0)a=12;I 7.1K(b,a,"2a")},1r:H(b){G(1j b!="49"&&b!=U)I 7.4E().3v((7[0]&&7[0].2z||S).5F(b));J a="";D.P(b||7,H(){D.P(7.3t,H(){G(7.16!=8)a+=7.16!=1?7.76:D.17.1r([7])})});I a},5z:H(b){G(7[0])D(b,7[0].2z).5y().39(7[0]).2l(H(){J a=7;1B(a.1x)a=a.1x;I a}).3v(7);I 7},8Y:H(a){I 7.P(H(){D(7).6Q().5z(a)})},8R:H(a){I 7.P(H(){D(7).5z(a)})},3v:H(){I 7.3W(19,M,Q,H(a){G(7.16==1)7.3U(a)})},6F:H(){I 7.3W(19,M,M,H(a){G(7.16==1)7.39(a,7.1x)})},6E:H(){I 7.3W(19,Q,Q,H(a){7.1d.39(a,7)})},5q:H(){I 7.3W(19,Q,M,H(a){7.1d.39(a,7.2H)})},3l:H(){I 7.5n||D([])},2q:H(b){J c=D.2l(7,H(a){I D.2q(b,a)});I 7.2I(/[^+>] [^+>]/.11(b)||b.1h("..")>-1?D.4r(c):c)},5y:H(e){J f=7.2l(H(){G(D.14.1f&&!D.4n(7)){J a=7.6o(M),5h=S.3h("1v");5h.3U(a);I D.4h([5h.4H])[0]}N I 7.6o(M)});J d=f.2q("*").5c().P(H(){G(7[E]!=12)7[E]=U});G(e===M)7.2q("*").5c().P(H(i){G(7.16==3)I;J c=D.L(7,"3w");R(J a 1n c)R(J b 1n c[a])D.W.1e(d[i],a,c[a][b],c[a][b].L)});I f},1E:H(b){I 7.2I(D.1D(b)&&D.3C(7,H(a,i){I b.1k(a,i)})||D.3g(b,7))},4Y:H(b){G(b.1q==56)G(62.11(b))I 7.2I(D.3g(b,7,M));N b=D.3g(b,7);J a=b.K&&b[b.K-1]!==12&&!b.16;I 7.1E(H(){I a?D.2L(7,b)<0:7!=b})},1e:H(a){I 7.2I(D.4r(D.2R(7.3p(),1j a==\'23\'?D(a):D.2d(a))))},3F:H(a){I!!a&&D.3g(a,7).K>0},7T:H(a){I 7.3F("."+a)},6e:H(b){G(b==12){G(7.K){J c=7[0];G(D.Y(c,"2A")){J e=c.64,63=[],15=c.15,2V=c.O=="2A-2V";G(e<0)I U;R(J i=2V?e:0,2f=2V?e+1:15.K;i<2f;i++){J d=15[i];G(d.2W){b=D.14.1f&&!d.at.2x.an?d.1r:d.2x;G(2V)I b;63.1p(b)}}I 63}N I(7[0].2x||"").1o(/\\r/g,"")}I 12}G(b.1q==4L)b+=\'\';I 7.P(H(){G(7.16!=1)I;G(b.1q==2p&&/5O|5L/.11(7.O))7.4J=(D.2L(7.2x,b)>=0||D.2L(7.34,b)>=0);N G(D.Y(7,"2A")){J a=D.2d(b);D("9R",7).P(H(){7.2W=(D.2L(7.2x,a)>=0||D.2L(7.1r,a)>=0)});G(!a.K)7.64=-1}N 7.2x=b})},2K:H(a){I a==12?(7[0]?7[0].4H:U):7.4E().3v(a)},7b:H(a){I 7.5q(a).21()},79:H(i){I 7.3s(i,i+1)},3s:H(){I 7.2I(2p.44.3s.1w(7,19))},2l:H(b){I 7.2I(D.2l(7,H(a,i){I b.1k(a,i,a)}))},5c:H(){I 7.1e(7.5n)},L:H(d,b){J a=d.1R(".");a[1]=a[1]?"."+a[1]:"";G(b===12){J c=7.5C("9z"+a[1]+"!",[a[0]]);G(c===12&&7.K)c=D.L(7[0],d);I c===12&&a[1]?7.L(a[0]):c}N I 7.1P("9u"+a[1]+"!",[a[0],b]).P(H(){D.L(7,d,b)})},3b:H(a){I 7.P(H(){D.3b(7,a)})},3W:H(g,f,h,d){J e=7.K>1,3x;I 7.P(H(){G(!3x){3x=D.4h(g,7.2z);G(h)3x.9o()}J b=7;G(f&&D.Y(7,"1T")&&D.Y(3x[0],"4F"))b=7.3H("22")[0]||7.3U(7.2z.3h("22"));J c=D([]);D.P(3x,H(){J a=e?D(7).5y(M)[0]:7;G(D.Y(a,"1m"))c=c.1e(a);N{G(a.16==1)c=c.1e(D("1m",a).21());d.1k(b,a)}});c.P(6T)})}};D.17.5j.44=D.17;H 6T(i,a){G(a.4d)D.3Y({1a:a.4d,31:Q,1O:"1m"});N D.5u(a.1r||a.6O||a.4H||"");G(a.1d)a.1d.37(a)}H 1z(){I+2B 8J}D.1l=D.17.1l=H(){J b=19[0]||{},i=1,K=19.K,4x=Q,15;G(b.1q==8I){4x=b;b=19[1]||{};i=2}G(1j b!="49"&&1j b!="H")b={};G(K==i){b=7;--i}R(;i<K;i++)G((15=19[i])!=U)R(J c 1n 15){J a=b[c],2w=15[c];G(b===2w)6M;G(4x&&2w&&1j 2w=="49"&&!2w.16)b[c]=D.1l(4x,a||(2w.K!=U?[]:{}),2w);N G(2w!==12)b[c]=2w}I b};J E="4M"+1z(),6K=0,5r={},6G=/z-?5i|8B-?8A|1y|6B|8v-?1Z/i,3P=S.3P||{};D.1l({8u:H(a){1b.$=3m$;G(a)1b.4M=w;I D},1D:H(a){I!!a&&1j a!="23"&&!a.Y&&a.1q!=2p&&/^[\\s[]?H/.11(a+"")},4n:H(a){I a.1C&&!a.1c||a.2j&&a.2z&&!a.2z.1c},5u:H(a){a=D.3k(a);G(a){J b=S.3H("6w")[0]||S.1C,1m=S.3h("1m");1m.O="1r/4t";G(D.14.1f)1m.1r=a;N 1m.3U(S.5F(a));b.39(1m,b.1x);b.37(1m)}},Y:H(b,a){I b.Y&&b.Y.2r()==a.2r()},1Y:{},L:H(c,d,b){c=c==1b?5r:c;J a=c[E];G(!a)a=c[E]=++6K;G(d&&!D.1Y[a])D.1Y[a]={};G(b!==12)D.1Y[a][d]=b;I d?D.1Y[a][d]:a},3b:H(c,b){c=c==1b?5r:c;J a=c[E];G(b){G(D.1Y[a]){2U D.1Y[a][b];b="";R(b 1n D.1Y[a])1X;G(!b)D.3b(c)}}N{1U{2U c[E]}1V(e){G(c.5l)c.5l(E)}2U D.1Y[a]}},P:H(d,a,c){J e,i=0,K=d.K;G(c){G(K==12){R(e 1n d)G(a.1w(d[e],c)===Q)1X}N R(;i<K;)G(a.1w(d[i++],c)===Q)1X}N{G(K==12){R(e 1n d)G(a.1k(d[e],e,d[e])===Q)1X}N R(J b=d[0];i<K&&a.1k(b,i,b)!==Q;b=d[++i]){}}I d},1i:H(b,a,c,i,d){G(D.1D(a))a=a.1k(b,i);I a&&a.1q==4L&&c=="2a"&&!6G.11(d)?a+"2X":a},1F:{1e:H(c,b){D.P((b||"").1R(/\\s+/),H(i,a){G(c.16==1&&!D.1F.3T(c.1F,a))c.1F+=(c.1F?" ":"")+a})},21:H(c,b){G(c.16==1)c.1F=b!=12?D.3C(c.1F.1R(/\\s+/),H(a){I!D.1F.3T(b,a)}).6s(" "):""},3T:H(b,a){I D.2L(a,(b.1F||b).6r().1R(/\\s+/))>-1}},6q:H(b,c,a){J e={};R(J d 1n c){e[d]=b.V[d];b.V[d]=c[d]}a.1k(b);R(J d 1n c)b.V[d]=e[d]},1g:H(d,e,c){G(e=="2h"||e=="1Z"){J b,3X={30:"5x",5g:"1G",18:"3I"},35=e=="2h"?["5e","6k"]:["5G","6i"];H 5b(){b=e=="2h"?d.8f:d.8c;J a=0,2C=0;D.P(35,H(){a+=3d(D.2a(d,"57"+7,M))||0;2C+=3d(D.2a(d,"2C"+7+"4b",M))||0});b-=29.83(a+2C)}G(D(d).3F(":4j"))5b();N D.6q(d,3X,5b);I 29.2f(0,b)}I D.2a(d,e,c)},2a:H(f,l,k){J e,V=f.V;H 3E(b){G(!D.14.2k)I Q;J a=3P.54(b,U);I!a||a.52("3E")==""}G(l=="1y"&&D.14.1f){e=D.1K(V,"1y");I e==""?"1":e}G(D.14.2G&&l=="18"){J d=V.50;V.50="0 7Y 7W";V.50=d}G(l.1I(/4i/i))l=y;G(!k&&V&&V[l])e=V[l];N G(3P.54){G(l.1I(/4i/i))l="4i";l=l.1o(/([A-Z])/g,"-$1").3y();J c=3P.54(f,U);G(c&&!3E(f))e=c.52(l);N{J g=[],2E=[],a=f,i=0;R(;a&&3E(a);a=a.1d)2E.6h(a);R(;i<2E.K;i++)G(3E(2E[i])){g[i]=2E[i].V.18;2E[i].V.18="3I"}e=l=="18"&&g[2E.K-1]!=U?"2F":(c&&c.52(l))||"";R(i=0;i<g.K;i++)G(g[i]!=U)2E[i].V.18=g[i]}G(l=="1y"&&e=="")e="1"}N G(f.4g){J h=l.1o(/\\-(\\w)/g,H(a,b){I b.2r()});e=f.4g[l]||f.4g[h];G(!/^\\d+(2X)?$/i.11(e)&&/^\\d/.11(e)){J j=V.1A,66=f.65.1A;f.65.1A=f.4g.1A;V.1A=e||0;e=V.aM+"2X";V.1A=j;f.65.1A=66}}I e},4h:H(l,h){J k=[];h=h||S;G(1j h.3h==\'12\')h=h.2z||h[0]&&h[0].2z||S;D.P(l,H(i,d){G(!d)I;G(d.1q==4L)d+=\'\';G(1j d=="23"){d=d.1o(/(<(\\w+)[^>]*?)\\/>/g,H(b,a,c){I c.1I(/^(aK|4f|7E|aG|4T|7A|aB|3n|az|ay|av)$/i)?b:a+"></"+c+">"});J f=D.3k(d).3y(),1v=h.3h("1v");J e=!f.1h("<au")&&[1,"<2A 7w=\'7w\'>","</2A>"]||!f.1h("<ar")&&[1,"<7v>","</7v>"]||f.1I(/^<(aq|22|am|ak|ai)/)&&[1,"<1T>","</1T>"]||!f.1h("<4F")&&[2,"<1T><22>","</22></1T>"]||(!f.1h("<af")||!f.1h("<ad"))&&[3,"<1T><22><4F>","</4F></22></1T>"]||!f.1h("<7E")&&[2,"<1T><22></22><7q>","</7q></1T>"]||D.14.1f&&[1,"1v<1v>","</1v>"]||[0,"",""];1v.4H=e[1]+d+e[2];1B(e[0]--)1v=1v.5T;G(D.14.1f){J g=!f.1h("<1T")&&f.1h("<22")<0?1v.1x&&1v.1x.3t:e[1]=="<1T>"&&f.1h("<22")<0?1v.3t:[];R(J j=g.K-1;j>=0;--j)G(D.Y(g[j],"22")&&!g[j].3t.K)g[j].1d.37(g[j]);G(/^\\s/.11(d))1v.39(h.5F(d.1I(/^\\s*/)[0]),1v.1x)}d=D.2d(1v.3t)}G(d.K===0&&(!D.Y(d,"3V")&&!D.Y(d,"2A")))I;G(d[0]==12||D.Y(d,"3V")||d.15)k.1p(d);N k=D.2R(k,d)});I k},1K:H(d,f,c){G(!d||d.16==3||d.16==8)I 12;J e=!D.4n(d),40=c!==12,1f=D.14.1f;f=e&&D.3X[f]||f;G(d.2j){J g=/5Q|4d|V/.11(f);G(f=="2W"&&D.14.2k)d.1d.64;G(f 1n d&&e&&!g){G(40){G(f=="O"&&D.Y(d,"4T")&&d.1d)7p"O a3 a1\'t 9V 9U";d[f]=c}G(D.Y(d,"3V")&&d.7i(f))I d.7i(f).76;I d[f]}G(1f&&e&&f=="V")I D.1K(d.V,"9T",c);G(40)d.9Q(f,""+c);J h=1f&&e&&g?d.4G(f,2):d.4G(f);I h===U?12:h}G(1f&&f=="1y"){G(40){d.6B=1;d.1E=(d.1E||"").1o(/7f\\([^)]*\\)/,"")+(3r(c)+\'\'=="9L"?"":"7f(1y="+c*7a+")")}I d.1E&&d.1E.1h("1y=")>=0?(3d(d.1E.1I(/1y=([^)]*)/)[1])/7a)+\'\':""}f=f.1o(/-([a-z])/9H,H(a,b){I b.2r()});G(40)d[f]=c;I d[f]},3k:H(a){I(a||"").1o(/^\\s+|\\s+$/g,"")},2d:H(b){J a=[];G(b!=U){J i=b.K;G(i==U||b.1R||b.4I||b.1k)a[0]=b;N 1B(i)a[--i]=b[i]}I a},2L:H(b,a){R(J i=0,K=a.K;i<K;i++)G(a[i]===b)I i;I-1},2R:H(a,b){J i=0,T,2S=a.K;G(D.14.1f){1B(T=b[i++])G(T.16!=8)a[2S++]=T}N 1B(T=b[i++])a[2S++]=T;I a},4r:H(a){J c=[],2o={};1U{R(J i=0,K=a.K;i<K;i++){J b=D.L(a[i]);G(!2o[b]){2o[b]=M;c.1p(a[i])}}}1V(e){c=a}I c},3C:H(c,a,d){J b=[];R(J i=0,K=c.K;i<K;i++)G(!d!=!a(c[i],i))b.1p(c[i]);I b},2l:H(d,a){J c=[];R(J i=0,K=d.K;i<K;i++){J b=a(d[i],i);G(b!=U)c[c.K]=b}I c.7d.1w([],c)}});J v=9B.9A.3y();D.14={5B:(v.1I(/.+(?:9y|9x|9w|9v)[\\/: ]([\\d.]+)/)||[])[1],2k:/75/.11(v),2G:/2G/.11(v),1f:/1f/.11(v)&&!/2G/.11(v),42:/42/.11(v)&&!/(9s|75)/.11(v)};J y=D.14.1f?"7o":"72";D.1l({71:!D.14.1f||S.70=="6Z",3X:{"R":"9n","9k":"1F","4i":y,72:y,7o:y,9h:"9f",9e:"9d",9b:"99"}});D.P({6W:H(a){I a.1d},97:H(a){I D.4S(a,"1d")},95:H(a){I D.3a(a,2,"2H")},91:H(a){I D.3a(a,2,"4l")},8Z:H(a){I D.4S(a,"2H")},8X:H(a){I D.4S(a,"4l")},8W:H(a){I D.5v(a.1d.1x,a)},8V:H(a){I D.5v(a.1x)},6Q:H(a){I D.Y(a,"8U")?a.8T||a.8S.S:D.2d(a.3t)}},H(c,d){D.17[c]=H(b){J a=D.2l(7,d);G(b&&1j b=="23")a=D.3g(b,a);I 7.2I(D.4r(a))}});D.P({6P:"3v",8Q:"6F",39:"6E",8P:"5q",8O:"7b"},H(c,b){D.17[c]=H(){J a=19;I 7.P(H(){R(J i=0,K=a.K;i<K;i++)D(a[i])[b](7)})}});D.P({8N:H(a){D.1K(7,a,"");G(7.16==1)7.5l(a)},8M:H(a){D.1F.1e(7,a)},8L:H(a){D.1F.21(7,a)},8K:H(a){D.1F[D.1F.3T(7,a)?"21":"1e"](7,a)},21:H(a){G(!a||D.1E(a,[7]).r.K){D("*",7).1e(7).P(H(){D.W.21(7);D.3b(7)});G(7.1d)7.1d.37(7)}},4E:H(){D(">*",7).21();1B(7.1x)7.37(7.1x)}},H(a,b){D.17[a]=H(){I 7.P(b,19)}});D.P(["6N","4b"],H(i,c){J b=c.3y();D.17[b]=H(a){I 7[0]==1b?D.14.2G&&S.1c["5t"+c]||D.14.2k&&1b["5s"+c]||S.70=="6Z"&&S.1C["5t"+c]||S.1c["5t"+c]:7[0]==S?29.2f(29.2f(S.1c["4y"+c],S.1C["4y"+c]),29.2f(S.1c["2i"+c],S.1C["2i"+c])):a==12?(7.K?D.1g(7[0],b):U):7.1g(b,a.1q==56?a:a+"2X")}});H 25(a,b){I a[0]&&3r(D.2a(a[0],b,M),10)||0}J C=D.14.2k&&3r(D.14.5B)<8H?"(?:[\\\\w*3m-]|\\\\\\\\.)":"(?:[\\\\w\\8F-\\8E*3m-]|\\\\\\\\.)",6L=2B 4v("^>\\\\s*("+C+"+)"),6J=2B 4v("^("+C+"+)(#)("+C+"+)"),6I=2B 4v("^([#.]?)("+C+"*)");D.1l({6H:{"":H(a,i,m){I m[2]=="*"||D.Y(a,m[2])},"#":H(a,i,m){I a.4G("2v")==m[2]},":":{8D:H(a,i,m){I i<m[3]-0},8C:H(a,i,m){I i>m[3]-0},3a:H(a,i,m){I m[3]-0==i},79:H(a,i,m){I m[3]-0==i},3o:H(a,i){I i==0},3S:H(a,i,m,r){I i==r.K-1},6D:H(a,i){I i%2==0},6C:H(a,i){I i%2},"3o-4u":H(a){I a.1d.3H("*")[0]==a},"3S-4u":H(a){I D.3a(a.1d.5T,1,"4l")==a},"8z-4u":H(a){I!D.3a(a.1d.5T,2,"4l")},6W:H(a){I a.1x},4E:H(a){I!a.1x},8y:H(a,i,m){I(a.6O||a.8x||D(a).1r()||"").1h(m[3])>=0},4j:H(a){I"1G"!=a.O&&D.1g(a,"18")!="2F"&&D.1g(a,"5g")!="1G"},1G:H(a){I"1G"==a.O||D.1g(a,"18")=="2F"||D.1g(a,"5g")=="1G"},8w:H(a){I!a.3R},3R:H(a){I a.3R},4J:H(a){I a.4J},2W:H(a){I a.2W||D.1K(a,"2W")},1r:H(a){I"1r"==a.O},5O:H(a){I"5O"==a.O},5L:H(a){I"5L"==a.O},5p:H(a){I"5p"==a.O},3Q:H(a){I"3Q"==a.O},5o:H(a){I"5o"==a.O},6A:H(a){I"6A"==a.O},6z:H(a){I"6z"==a.O},2s:H(a){I"2s"==a.O||D.Y(a,"2s")},4T:H(a){I/4T|2A|6y|2s/i.11(a.Y)},3T:H(a,i,m){I D.2q(m[3],a).K},8t:H(a){I/h\\d/i.11(a.Y)},8s:H(a){I D.3C(D.3O,H(b){I a==b.T}).K}}},6x:[/^(\\[) *@?([\\w-]+) *([!*$^~=]*) *(\'?"?)(.*?)\\4 *\\]/,/^(:)([\\w-]+)\\("?\'?(.*?(\\(.*?\\))?[^(]*?)"?\'?\\)/,2B 4v("^([:.#]*)("+C+"+)")],3g:H(a,c,b){J d,1t=[];1B(a&&a!=d){d=a;J f=D.1E(a,c,b);a=f.t.1o(/^\\s*,\\s*/,"");1t=b?c=f.r:D.2R(1t,f.r)}I 1t},2q:H(t,o){G(1j t!="23")I[t];G(o&&o.16!=1&&o.16!=9)I[];o=o||S;J d=[o],2o=[],3S,Y;1B(t&&3S!=t){J r=[];3S=t;t=D.3k(t);J l=Q,3j=6L,m=3j.2D(t);G(m){Y=m[1].2r();R(J i=0;d[i];i++)R(J c=d[i].1x;c;c=c.2H)G(c.16==1&&(Y=="*"||c.Y.2r()==Y))r.1p(c);d=r;t=t.1o(3j,"");G(t.1h(" ")==0)6M;l=M}N{3j=/^([>+~])\\s*(\\w*)/i;G((m=3j.2D(t))!=U){r=[];J k={};Y=m[2].2r();m=m[1];R(J j=0,3i=d.K;j<3i;j++){J n=m=="~"||m=="+"?d[j].2H:d[j].1x;R(;n;n=n.2H)G(n.16==1){J g=D.L(n);G(m=="~"&&k[g])1X;G(!Y||n.Y.2r()==Y){G(m=="~")k[g]=M;r.1p(n)}G(m=="+")1X}}d=r;t=D.3k(t.1o(3j,""));l=M}}G(t&&!l){G(!t.1h(",")){G(o==d[0])d.4s();2o=D.2R(2o,d);r=d=[o];t=" "+t.6v(1,t.K)}N{J h=6J;J m=h.2D(t);G(m){m=[0,m[2],m[3],m[1]]}N{h=6I;m=h.2D(t)}m[2]=m[2].1o(/\\\\/g,"");J f=d[d.K-1];G(m[1]=="#"&&f&&f.61&&!D.4n(f)){J p=f.61(m[2]);G((D.14.1f||D.14.2G)&&p&&1j p.2v=="23"&&p.2v!=m[2])p=D(\'[@2v="\'+m[2]+\'"]\',f)[0];d=r=p&&(!m[3]||D.Y(p,m[3]))?[p]:[]}N{R(J i=0;d[i];i++){J a=m[1]=="#"&&m[3]?m[3]:m[1]!=""||m[0]==""?"*":m[2];G(a=="*"&&d[i].Y.3y()=="49")a="3n";r=D.2R(r,d[i].3H(a))}G(m[1]==".")r=D.5m(r,m[2]);G(m[1]=="#"){J e=[];R(J i=0;r[i];i++)G(r[i].4G("2v")==m[2]){e=[r[i]];1X}r=e}d=r}t=t.1o(h,"")}}G(t){J b=D.1E(t,r);d=r=b.r;t=D.3k(b.t)}}G(t)d=[];G(d&&o==d[0])d.4s();2o=D.2R(2o,d);I 2o},5m:H(r,m,a){m=" "+m+" ";J c=[];R(J i=0;r[i];i++){J b=(" "+r[i].1F+" ").1h(m)>=0;G(!a&&b||a&&!b)c.1p(r[i])}I c},1E:H(t,r,h){J d;1B(t&&t!=d){d=t;J p=D.6x,m;R(J i=0;p[i];i++){m=p[i].2D(t);G(m){t=t.8r(m[0].K);m[2]=m[2].1o(/\\\\/g,"");1X}}G(!m)1X;G(m[1]==":"&&m[2]=="4Y")r=62.11(m[3])?D.1E(m[3],r,M).r:D(r).4Y(m[3]);N G(m[1]==".")r=D.5m(r,m[2],h);N G(m[1]=="["){J g=[],O=m[3];R(J i=0,3i=r.K;i<3i;i++){J a=r[i],z=a[D.3X[m[2]]||m[2]];G(z==U||/5Q|4d|2W/.11(m[2]))z=D.1K(a,m[2])||\'\';G((O==""&&!!z||O=="="&&z==m[5]||O=="!="&&z!=m[5]||O=="^="&&z&&!z.1h(m[5])||O=="$="&&z.6v(z.K-m[5].K)==m[5]||(O=="*="||O=="~=")&&z.1h(m[5])>=0)^h)g.1p(a)}r=g}N G(m[1]==":"&&m[2]=="3a-4u"){J e={},g=[],11=/(-?)(\\d*)n((?:\\+|-)?\\d*)/.2D(m[3]=="6D"&&"2n"||m[3]=="6C"&&"2n+1"||!/\\D/.11(m[3])&&"8q+"+m[3]||m[3]),3o=(11[1]+(11[2]||1))-0,d=11[3]-0;R(J i=0,3i=r.K;i<3i;i++){J j=r[i],1d=j.1d,2v=D.L(1d);G(!e[2v]){J c=1;R(J n=1d.1x;n;n=n.2H)G(n.16==1)n.4q=c++;e[2v]=M}J b=Q;G(3o==0){G(j.4q==d)b=M}N G((j.4q-d)%3o==0&&(j.4q-d)/3o>=0)b=M;G(b^h)g.1p(j)}r=g}N{J f=D.6H[m[1]];G(1j f=="49")f=f[m[2]];G(1j f=="23")f=6u("Q||H(a,i){I "+f+";}");r=D.3C(r,H(a,i){I f(a,i,m,r)},h)}}I{r:r,t:t}},4S:H(b,c){J a=[],1t=b[c];1B(1t&&1t!=S){G(1t.16==1)a.1p(1t);1t=1t[c]}I a},3a:H(a,e,c,b){e=e||1;J d=0;R(;a;a=a[c])G(a.16==1&&++d==e)1X;I a},5v:H(n,a){J r=[];R(;n;n=n.2H){G(n.16==1&&n!=a)r.1p(n)}I r}});D.W={1e:H(f,i,g,e){G(f.16==3||f.16==8)I;G(D.14.1f&&f.4I)f=1b;G(!g.24)g.24=7.24++;G(e!=12){J h=g;g=7.3M(h,H(){I h.1w(7,19)});g.L=e}J j=D.L(f,"3w")||D.L(f,"3w",{}),1H=D.L(f,"1H")||D.L(f,"1H",H(){G(1j D!="12"&&!D.W.5k)I D.W.1H.1w(19.3L.T,19)});1H.T=f;D.P(i.1R(/\\s+/),H(c,b){J a=b.1R(".");b=a[0];g.O=a[1];J d=j[b];G(!d){d=j[b]={};G(!D.W.2t[b]||D.W.2t[b].4p.1k(f)===Q){G(f.3K)f.3K(b,1H,Q);N G(f.6t)f.6t("4o"+b,1H)}}d[g.24]=g;D.W.26[b]=M});f=U},24:1,26:{},21:H(e,h,f){G(e.16==3||e.16==8)I;J i=D.L(e,"3w"),1L,5i;G(i){G(h==12||(1j h=="23"&&h.8p(0)=="."))R(J g 1n i)7.21(e,g+(h||""));N{G(h.O){f=h.2y;h=h.O}D.P(h.1R(/\\s+/),H(b,a){J c=a.1R(".");a=c[0];G(i[a]){G(f)2U i[a][f.24];N R(f 1n i[a])G(!c[1]||i[a][f].O==c[1])2U i[a][f];R(1L 1n i[a])1X;G(!1L){G(!D.W.2t[a]||D.W.2t[a].4A.1k(e)===Q){G(e.6p)e.6p(a,D.L(e,"1H"),Q);N G(e.6n)e.6n("4o"+a,D.L(e,"1H"))}1L=U;2U i[a]}}})}R(1L 1n i)1X;G(!1L){J d=D.L(e,"1H");G(d)d.T=U;D.3b(e,"3w");D.3b(e,"1H")}}},1P:H(h,c,f,g,i){c=D.2d(c);G(h.1h("!")>=0){h=h.3s(0,-1);J a=M}G(!f){G(7.26[h])D("*").1e([1b,S]).1P(h,c)}N{G(f.16==3||f.16==8)I 12;J b,1L,17=D.1D(f[h]||U),W=!c[0]||!c[0].32;G(W){c.6h({O:h,2J:f,32:H(){},3J:H(){},4C:1z()});c[0][E]=M}c[0].O=h;G(a)c[0].6m=M;J d=D.L(f,"1H");G(d)b=d.1w(f,c);G((!17||(D.Y(f,\'a\')&&h=="4V"))&&f["4o"+h]&&f["4o"+h].1w(f,c)===Q)b=Q;G(W)c.4s();G(i&&D.1D(i)){1L=i.1w(f,b==U?c:c.7d(b));G(1L!==12)b=1L}G(17&&g!==Q&&b!==Q&&!(D.Y(f,\'a\')&&h=="4V")){7.5k=M;1U{f[h]()}1V(e){}}7.5k=Q}I b},1H:H(b){J a,1L,38,5f,4m;b=19[0]=D.W.6l(b||1b.W);38=b.O.1R(".");b.O=38[0];38=38[1];5f=!38&&!b.6m;4m=(D.L(7,"3w")||{})[b.O];R(J j 1n 4m){J c=4m[j];G(5f||c.O==38){b.2y=c;b.L=c.L;1L=c.1w(7,19);G(a!==Q)a=1L;G(1L===Q){b.32();b.3J()}}}I a},6l:H(b){G(b[E]==M)I b;J d=b;b={8o:d};J c="8n 8m 8l 8k 2s 8j 47 5d 6j 5E 8i L 8h 8g 4K 2y 5a 59 8e 8b 58 6f 8a 88 4k 87 86 84 6d 2J 4C 6c O 82 81 35".1R(" ");R(J i=c.K;i;i--)b[c[i]]=d[c[i]];b[E]=M;b.32=H(){G(d.32)d.32();d.80=Q};b.3J=H(){G(d.3J)d.3J();d.7Z=M};b.4C=b.4C||1z();G(!b.2J)b.2J=b.6d||S;G(b.2J.16==3)b.2J=b.2J.1d;G(!b.4k&&b.4K)b.4k=b.4K==b.2J?b.6c:b.4K;G(b.58==U&&b.5d!=U){J a=S.1C,1c=S.1c;b.58=b.5d+(a&&a.2e||1c&&1c.2e||0)-(a.6b||0);b.6f=b.6j+(a&&a.2c||1c&&1c.2c||0)-(a.6a||0)}G(!b.35&&((b.47||b.47===0)?b.47:b.5a))b.35=b.47||b.5a;G(!b.59&&b.5E)b.59=b.5E;G(!b.35&&b.2s)b.35=(b.2s&1?1:(b.2s&2?3:(b.2s&4?2:0)));I b},3M:H(a,b){b.24=a.24=a.24||b.24||7.24++;I b},2t:{27:{4p:H(){55();I},4A:H(){I}},3D:{4p:H(){G(D.14.1f)I Q;D(7).2O("53",D.W.2t.3D.2y);I M},4A:H(){G(D.14.1f)I Q;D(7).4e("53",D.W.2t.3D.2y);I M},2y:H(a){G(F(a,7))I M;a.O="3D";I D.W.1H.1w(7,19)}},3N:{4p:H(){G(D.14.1f)I Q;D(7).2O("51",D.W.2t.3N.2y);I M},4A:H(){G(D.14.1f)I Q;D(7).4e("51",D.W.2t.3N.2y);I M},2y:H(a){G(F(a,7))I M;a.O="3N";I D.W.1H.1w(7,19)}}}};D.17.1l({2O:H(c,a,b){I c=="4X"?7.2V(c,a,b):7.P(H(){D.W.1e(7,c,b||a,b&&a)})},2V:H(d,b,c){J e=D.W.3M(c||b,H(a){D(7).4e(a,e);I(c||b).1w(7,19)});I 7.P(H(){D.W.1e(7,d,e,c&&b)})},4e:H(a,b){I 7.P(H(){D.W.21(7,a,b)})},1P:H(c,a,b){I 7.P(H(){D.W.1P(c,a,7,M,b)})},5C:H(c,a,b){I 7[0]&&D.W.1P(c,a,7[0],Q,b)},2m:H(b){J c=19,i=1;1B(i<c.K)D.W.3M(b,c[i++]);I 7.4V(D.W.3M(b,H(a){7.4Z=(7.4Z||0)%i;a.32();I c[7.4Z++].1w(7,19)||Q}))},7X:H(a,b){I 7.2O(\'3D\',a).2O(\'3N\',b)},27:H(a){55();G(D.2Q)a.1k(S,D);N D.3A.1p(H(){I a.1k(7,D)});I 7}});D.1l({2Q:Q,3A:[],27:H(){G(!D.2Q){D.2Q=M;G(D.3A){D.P(D.3A,H(){7.1k(S)});D.3A=U}D(S).5C("27")}}});J x=Q;H 55(){G(x)I;x=M;G(S.3K&&!D.14.2G)S.3K("69",D.27,Q);G(D.14.1f&&1b==1S)(H(){G(D.2Q)I;1U{S.1C.7V("1A")}1V(3e){3B(19.3L,0);I}D.27()})();G(D.14.2G)S.3K("69",H(){G(D.2Q)I;R(J i=0;i<S.4W.K;i++)G(S.4W[i].3R){3B(19.3L,0);I}D.27()},Q);G(D.14.2k){J a;(H(){G(D.2Q)I;G(S.3f!="68"&&S.3f!="1J"){3B(19.3L,0);I}G(a===12)a=D("V, 7A[7U=7S]").K;G(S.4W.K!=a){3B(19.3L,0);I}D.27()})()}D.W.1e(1b,"43",D.27)}D.P(("7R,7Q,43,85,4y,4X,4V,7P,"+"7O,7N,89,53,51,7M,2A,"+"5o,7L,7K,8d,3e").1R(","),H(i,b){D.17[b]=H(a){I a?7.2O(b,a):7.1P(b)}});J F=H(a,c){J b=a.4k;1B(b&&b!=c)1U{b=b.1d}1V(3e){b=c}I b==c};D(1b).2O("4X",H(){D("*").1e(S).4e()});D.17.1l({67:D.17.43,43:H(g,d,c){G(1j g!=\'23\')I 7.67(g);J e=g.1h(" ");G(e>=0){J i=g.3s(e,g.K);g=g.3s(0,e)}c=c||H(){};J f="2P";G(d)G(D.1D(d)){c=d;d=U}N{d=D.3n(d);f="6g"}J h=7;D.3Y({1a:g,O:f,1O:"2K",L:d,1J:H(a,b){G(b=="1W"||b=="7J")h.2K(i?D("<1v/>").3v(a.4U.1o(/<1m(.|\\s)*?\\/1m>/g,"")).2q(i):a.4U);h.P(c,[a.4U,b,a])}});I 7},aL:H(){I D.3n(7.7I())},7I:H(){I 7.2l(H(){I D.Y(7,"3V")?D.2d(7.aH):7}).1E(H(){I 7.34&&!7.3R&&(7.4J||/2A|6y/i.11(7.Y)||/1r|1G|3Q/i.11(7.O))}).2l(H(i,c){J b=D(7).6e();I b==U?U:b.1q==2p?D.2l(b,H(a,i){I{34:c.34,2x:a}}):{34:c.34,2x:b}}).3p()}});D.P("7H,7G,7F,7D,7C,7B".1R(","),H(i,o){D.17[o]=H(f){I 7.2O(o,f)}});J B=1z();D.1l({3p:H(d,b,a,c){G(D.1D(b)){a=b;b=U}I D.3Y({O:"2P",1a:d,L:b,1W:a,1O:c})},aE:H(b,a){I D.3p(b,U,a,"1m")},aD:H(c,b,a){I D.3p(c,b,a,"3z")},aC:H(d,b,a,c){G(D.1D(b)){a=b;b={}}I D.3Y({O:"6g",1a:d,L:b,1W:a,1O:c})},aA:H(a){D.1l(D.60,a)},60:{1a:5Z.5Q,26:M,O:"2P",2T:0,7z:"4R/x-ax-3V-aw",7x:M,31:M,L:U,5Y:U,3Q:U,4Q:{2N:"4R/2N, 1r/2N",2K:"1r/2K",1m:"1r/4t, 4R/4t",3z:"4R/3z, 1r/4t",1r:"1r/as",4w:"*/*"}},4z:{},3Y:H(s){s=D.1l(M,s,D.1l(M,{},D.60,s));J g,2Z=/=\\?(&|$)/g,1u,L,O=s.O.2r();G(s.L&&s.7x&&1j s.L!="23")s.L=D.3n(s.L);G(s.1O=="4P"){G(O=="2P"){G(!s.1a.1I(2Z))s.1a+=(s.1a.1I(/\\?/)?"&":"?")+(s.4P||"7u")+"=?"}N G(!s.L||!s.L.1I(2Z))s.L=(s.L?s.L+"&":"")+(s.4P||"7u")+"=?";s.1O="3z"}G(s.1O=="3z"&&(s.L&&s.L.1I(2Z)||s.1a.1I(2Z))){g="4P"+B++;G(s.L)s.L=(s.L+"").1o(2Z,"="+g+"$1");s.1a=s.1a.1o(2Z,"="+g+"$1");s.1O="1m";1b[g]=H(a){L=a;1W();1J();1b[g]=12;1U{2U 1b[g]}1V(e){}G(i)i.37(h)}}G(s.1O=="1m"&&s.1Y==U)s.1Y=Q;G(s.1Y===Q&&O=="2P"){J j=1z();J k=s.1a.1o(/(\\?|&)3m=.*?(&|$)/,"$ap="+j+"$2");s.1a=k+((k==s.1a)?(s.1a.1I(/\\?/)?"&":"?")+"3m="+j:"")}G(s.L&&O=="2P"){s.1a+=(s.1a.1I(/\\?/)?"&":"?")+s.L;s.L=U}G(s.26&&!D.4O++)D.W.1P("7H");J n=/^(?:\\w+:)?\\/\\/([^\\/?#]+)/;G(s.1O=="1m"&&O=="2P"&&n.11(s.1a)&&n.2D(s.1a)[1]!=5Z.al){J i=S.3H("6w")[0];J h=S.3h("1m");h.4d=s.1a;G(s.7t)h.aj=s.7t;G(!g){J l=Q;h.ah=h.ag=H(){G(!l&&(!7.3f||7.3f=="68"||7.3f=="1J")){l=M;1W();1J();i.37(h)}}}i.3U(h);I 12}J m=Q;J c=1b.7s?2B 7s("ae.ac"):2B 7r();G(s.5Y)c.6R(O,s.1a,s.31,s.5Y,s.3Q);N c.6R(O,s.1a,s.31);1U{G(s.L)c.4B("ab-aa",s.7z);G(s.5S)c.4B("a9-5R-a8",D.4z[s.1a]||"a7, a6 a5 a4 5N:5N:5N a2");c.4B("X-9Z-9Y","7r");c.4B("9W",s.1O&&s.4Q[s.1O]?s.4Q[s.1O]+", */*":s.4Q.4w)}1V(e){}G(s.7m&&s.7m(c,s)===Q){s.26&&D.4O--;c.7l();I Q}G(s.26)D.W.1P("7B",[c,s]);J d=H(a){G(!m&&c&&(c.3f==4||a=="2T")){m=M;G(f){7k(f);f=U}1u=a=="2T"&&"2T"||!D.7j(c)&&"3e"||s.5S&&D.7h(c,s.1a)&&"7J"||"1W";G(1u=="1W"){1U{L=D.6X(c,s.1O,s.9S)}1V(e){1u="5J"}}G(1u=="1W"){J b;1U{b=c.5I("7g-5R")}1V(e){}G(s.5S&&b)D.4z[s.1a]=b;G(!g)1W()}N D.5H(s,c,1u);1J();G(s.31)c=U}};G(s.31){J f=4I(d,13);G(s.2T>0)3B(H(){G(c){c.7l();G(!m)d("2T")}},s.2T)}1U{c.9P(s.L)}1V(e){D.5H(s,c,U,e)}G(!s.31)d();H 1W(){G(s.1W)s.1W(L,1u);G(s.26)D.W.1P("7C",[c,s])}H 1J(){G(s.1J)s.1J(c,1u);G(s.26)D.W.1P("7F",[c,s]);G(s.26&&!--D.4O)D.W.1P("7G")}I c},5H:H(s,a,b,e){G(s.3e)s.3e(a,b,e);G(s.26)D.W.1P("7D",[a,s,e])},4O:0,7j:H(a){1U{I!a.1u&&5Z.9O=="5p:"||(a.1u>=7e&&a.1u<9N)||a.1u==7c||a.1u==9K||D.14.2k&&a.1u==12}1V(e){}I Q},7h:H(a,c){1U{J b=a.5I("7g-5R");I a.1u==7c||b==D.4z[c]||D.14.2k&&a.1u==12}1V(e){}I Q},6X:H(a,c,b){J d=a.5I("9J-O"),2N=c=="2N"||!c&&d&&d.1h("2N")>=0,L=2N?a.9I:a.4U;G(2N&&L.1C.2j=="5J")7p"5J";G(b)L=b(L,c);G(c=="1m")D.5u(L);G(c=="3z")L=6u("("+L+")");I L},3n:H(a){J s=[];G(a.1q==2p||a.5w)D.P(a,H(){s.1p(3u(7.34)+"="+3u(7.2x))});N R(J j 1n a)G(a[j]&&a[j].1q==2p)D.P(a[j],H(){s.1p(3u(j)+"="+3u(7))});N s.1p(3u(j)+"="+3u(D.1D(a[j])?a[j]():a[j]));I s.6s("&").1o(/%20/g,"+")}});D.17.1l({1N:H(c,b){I c?7.2g({1Z:"1N",2h:"1N",1y:"1N"},c,b):7.1E(":1G").P(H(){7.V.18=7.5D||"";G(D.1g(7,"18")=="2F"){J a=D("<"+7.2j+" />").6P("1c");7.V.18=a.1g("18");G(7.V.18=="2F")7.V.18="3I";a.21()}}).3l()},1M:H(b,a){I b?7.2g({1Z:"1M",2h:"1M",1y:"1M"},b,a):7.1E(":4j").P(H(){7.5D=7.5D||D.1g(7,"18");7.V.18="2F"}).3l()},78:D.17.2m,2m:H(a,b){I D.1D(a)&&D.1D(b)?7.78.1w(7,19):a?7.2g({1Z:"2m",2h:"2m",1y:"2m"},a,b):7.P(H(){D(7)[D(7).3F(":1G")?"1N":"1M"]()})},9G:H(b,a){I 7.2g({1Z:"1N"},b,a)},9F:H(b,a){I 7.2g({1Z:"1M"},b,a)},9E:H(b,a){I 7.2g({1Z:"2m"},b,a)},9D:H(b,a){I 7.2g({1y:"1N"},b,a)},9M:H(b,a){I 7.2g({1y:"1M"},b,a)},9C:H(c,a,b){I 7.2g({1y:a},c,b)},2g:H(k,j,i,g){J h=D.77(j,i,g);I 7[h.36===Q?"P":"36"](H(){G(7.16!=1)I Q;J f=D.1l({},h),p,1G=D(7).3F(":1G"),46=7;R(p 1n k){G(k[p]=="1M"&&1G||k[p]=="1N"&&!1G)I f.1J.1k(7);G(p=="1Z"||p=="2h"){f.18=D.1g(7,"18");f.33=7.V.33}}G(f.33!=U)7.V.33="1G";f.45=D.1l({},k);D.P(k,H(c,a){J e=2B D.28(46,f,c);G(/2m|1N|1M/.11(a))e[a=="2m"?1G?"1N":"1M":a](k);N{J b=a.6r().1I(/^([+-]=)?([\\d+-.]+)(.*)$/),2b=e.1t(M)||0;G(b){J d=3d(b[2]),2M=b[3]||"2X";G(2M!="2X"){46.V[c]=(d||1)+2M;2b=((d||1)/e.1t(M))*2b;46.V[c]=2b+2M}G(b[1])d=((b[1]=="-="?-1:1)*d)+2b;e.3G(2b,d,2M)}N e.3G(2b,a,"")}});I M})},36:H(a,b){G(D.1D(a)||(a&&a.1q==2p)){b=a;a="28"}G(!a||(1j a=="23"&&!b))I A(7[0],a);I 7.P(H(){G(b.1q==2p)A(7,a,b);N{A(7,a).1p(b);G(A(7,a).K==1)b.1k(7)}})},9X:H(b,c){J a=D.3O;G(b)7.36([]);7.P(H(){R(J i=a.K-1;i>=0;i--)G(a[i].T==7){G(c)a[i](M);a.7n(i,1)}});G(!c)7.5A();I 7}});J A=H(b,c,a){G(b){c=c||"28";J q=D.L(b,c+"36");G(!q||a)q=D.L(b,c+"36",D.2d(a))}I q};D.17.5A=H(a){a=a||"28";I 7.P(H(){J q=A(7,a);q.4s();G(q.K)q[0].1k(7)})};D.1l({77:H(b,a,c){J d=b&&b.1q==a0?b:{1J:c||!c&&a||D.1D(b)&&b,2u:b,41:c&&a||a&&a.1q!=9t&&a};d.2u=(d.2u&&d.2u.1q==4L?d.2u:D.28.5K[d.2u])||D.28.5K.74;d.5M=d.1J;d.1J=H(){G(d.36!==Q)D(7).5A();G(D.1D(d.5M))d.5M.1k(7)};I d},41:{73:H(p,n,b,a){I b+a*p},5P:H(p,n,b,a){I((-29.9r(p*29.9q)/2)+0.5)*a+b}},3O:[],48:U,28:H(b,c,a){7.15=c;7.T=b;7.1i=a;G(!c.3Z)c.3Z={}}});D.28.44={4D:H(){G(7.15.2Y)7.15.2Y.1k(7.T,7.1z,7);(D.28.2Y[7.1i]||D.28.2Y.4w)(7);G(7.1i=="1Z"||7.1i=="2h")7.T.V.18="3I"},1t:H(a){G(7.T[7.1i]!=U&&7.T.V[7.1i]==U)I 7.T[7.1i];J r=3d(D.1g(7.T,7.1i,a));I r&&r>-9p?r:3d(D.2a(7.T,7.1i))||0},3G:H(c,b,d){7.5V=1z();7.2b=c;7.3l=b;7.2M=d||7.2M||"2X";7.1z=7.2b;7.2S=7.4N=0;7.4D();J e=7;H t(a){I e.2Y(a)}t.T=7.T;D.3O.1p(t);G(D.48==U){D.48=4I(H(){J a=D.3O;R(J i=0;i<a.K;i++)G(!a[i]())a.7n(i--,1);G(!a.K){7k(D.48);D.48=U}},13)}},1N:H(){7.15.3Z[7.1i]=D.1K(7.T.V,7.1i);7.15.1N=M;7.3G(0,7.1t());G(7.1i=="2h"||7.1i=="1Z")7.T.V[7.1i]="9m";D(7.T).1N()},1M:H(){7.15.3Z[7.1i]=D.1K(7.T.V,7.1i);7.15.1M=M;7.3G(7.1t(),0)},2Y:H(a){J t=1z();G(a||t>7.15.2u+7.5V){7.1z=7.3l;7.2S=7.4N=1;7.4D();7.15.45[7.1i]=M;J b=M;R(J i 1n 7.15.45)G(7.15.45[i]!==M)b=Q;G(b){G(7.15.18!=U){7.T.V.33=7.15.33;7.T.V.18=7.15.18;G(D.1g(7.T,"18")=="2F")7.T.V.18="3I"}G(7.15.1M)7.T.V.18="2F";G(7.15.1M||7.15.1N)R(J p 1n 7.15.45)D.1K(7.T.V,p,7.15.3Z[p])}G(b)7.15.1J.1k(7.T);I Q}N{J n=t-7.5V;7.4N=n/7.15.2u;7.2S=D.41[7.15.41||(D.41.5P?"5P":"73")](7.4N,n,0,1,7.15.2u);7.1z=7.2b+((7.3l-7.2b)*7.2S);7.4D()}I M}};D.1l(D.28,{5K:{9l:9j,9i:7e,74:9g},2Y:{2e:H(a){a.T.2e=a.1z},2c:H(a){a.T.2c=a.1z},1y:H(a){D.1K(a.T.V,"1y",a.1z)},4w:H(a){a.T.V[a.1i]=a.1z+a.2M}}});D.17.2i=H(){J b=0,1S=0,T=7[0],3q;G(T)ao(D.14){J d=T.1d,4a=T,1s=T.1s,1Q=T.2z,5U=2k&&3r(5B)<9c&&!/9a/i.11(v),1g=D.2a,3c=1g(T,"30")=="3c";G(T.7y){J c=T.7y();1e(c.1A+29.2f(1Q.1C.2e,1Q.1c.2e),c.1S+29.2f(1Q.1C.2c,1Q.1c.2c));1e(-1Q.1C.6b,-1Q.1C.6a)}N{1e(T.5X,T.5W);1B(1s){1e(1s.5X,1s.5W);G(42&&!/^t(98|d|h)$/i.11(1s.2j)||2k&&!5U)2C(1s);G(!3c&&1g(1s,"30")=="3c")3c=M;4a=/^1c$/i.11(1s.2j)?4a:1s;1s=1s.1s}1B(d&&d.2j&&!/^1c|2K$/i.11(d.2j)){G(!/^96|1T.*$/i.11(1g(d,"18")))1e(-d.2e,-d.2c);G(42&&1g(d,"33")!="4j")2C(d);d=d.1d}G((5U&&(3c||1g(4a,"30")=="5x"))||(42&&1g(4a,"30")!="5x"))1e(-1Q.1c.5X,-1Q.1c.5W);G(3c)1e(29.2f(1Q.1C.2e,1Q.1c.2e),29.2f(1Q.1C.2c,1Q.1c.2c))}3q={1S:1S,1A:b}}H 2C(a){1e(D.2a(a,"6V",M),D.2a(a,"6U",M))}H 1e(l,t){b+=3r(l,10)||0;1S+=3r(t,10)||0}I 3q};D.17.1l({30:H(){J a=0,1S=0,3q;G(7[0]){J b=7.1s(),2i=7.2i(),4c=/^1c|2K$/i.11(b[0].2j)?{1S:0,1A:0}:b.2i();2i.1S-=25(7,\'94\');2i.1A-=25(7,\'aF\');4c.1S+=25(b,\'6U\');4c.1A+=25(b,\'6V\');3q={1S:2i.1S-4c.1S,1A:2i.1A-4c.1A}}I 3q},1s:H(){J a=7[0].1s;1B(a&&(!/^1c|2K$/i.11(a.2j)&&D.1g(a,\'30\')==\'93\'))a=a.1s;I D(a)}});D.P([\'5e\',\'5G\'],H(i,b){J c=\'4y\'+b;D.17[c]=H(a){G(!7[0])I;I a!=12?7.P(H(){7==1b||7==S?1b.92(!i?a:D(1b).2e(),i?a:D(1b).2c()):7[c]=a}):7[0]==1b||7[0]==S?46[i?\'aI\':\'aJ\']||D.71&&S.1C[c]||S.1c[c]:7[0][c]}});D.P(["6N","4b"],H(i,b){J c=i?"5e":"5G",4f=i?"6k":"6i";D.17["5s"+b]=H(){I 7[b.3y()]()+25(7,"57"+c)+25(7,"57"+4f)};D.17["90"+b]=H(a){I 7["5s"+b]()+25(7,"2C"+c+"4b")+25(7,"2C"+4f+"4b")+(a?25(7,"6S"+c)+25(7,"6S"+4f):0)}})})();',62,669,'|||||||this|||||||||||||||||||||||||||||||||||if|function|return|var|length|data|true|else|type|each|false|for|document|elem|null|style|event||nodeName|||test|undefined||browser|options|nodeType|fn|display|arguments|url|window|body|parentNode|add|msie|css|indexOf|prop|typeof|call|extend|script|in|replace|push|constructor|text|offsetParent|cur|status|div|apply|firstChild|opacity|now|left|while|documentElement|isFunction|filter|className|hidden|handle|match|complete|attr|ret|hide|show|dataType|trigger|doc|split|top|table|try|catch|success|break|cache|height||remove|tbody|string|guid|num|global|ready|fx|Math|curCSS|start|scrollTop|makeArray|scrollLeft|max|animate|width|offset|tagName|safari|map|toggle||done|Array|find|toUpperCase|button|special|duration|id|copy|value|handler|ownerDocument|select|new|border|exec|stack|none|opera|nextSibling|pushStack|target|html|inArray|unit|xml|bind|GET|isReady|merge|pos|timeout|delete|one|selected|px|step|jsre|position|async|preventDefault|overflow|name|which|queue|removeChild|namespace|insertBefore|nth|removeData|fixed|parseFloat|error|readyState|multiFilter|createElement|rl|re|trim|end|_|param|first|get|results|parseInt|slice|childNodes|encodeURIComponent|append|events|elems|toLowerCase|json|readyList|setTimeout|grep|mouseenter|color|is|custom|getElementsByTagName|block|stopPropagation|addEventListener|callee|proxy|mouseleave|timers|defaultView|password|disabled|last|has|appendChild|form|domManip|props|ajax|orig|set|easing|mozilla|load|prototype|curAnim|self|charCode|timerId|object|offsetChild|Width|parentOffset|src|unbind|br|currentStyle|clean|float|visible|relatedTarget|previousSibling|handlers|isXMLDoc|on|setup|nodeIndex|unique|shift|javascript|child|RegExp|_default|deep|scroll|lastModified|teardown|setRequestHeader|timeStamp|update|empty|tr|getAttribute|innerHTML|setInterval|checked|fromElement|Number|jQuery|state|active|jsonp|accepts|application|dir|input|responseText|click|styleSheets|unload|not|lastToggle|outline|mouseout|getPropertyValue|mouseover|getComputedStyle|bindReady|String|padding|pageX|metaKey|keyCode|getWH|andSelf|clientX|Left|all|visibility|container|index|init|triggered|removeAttribute|classFilter|prevObject|submit|file|after|windowData|inner|client|globalEval|sibling|jquery|absolute|clone|wrapAll|dequeue|version|triggerHandler|oldblock|ctrlKey|createTextNode|Top|handleError|getResponseHeader|parsererror|speeds|checkbox|old|00|radio|swing|href|Modified|ifModified|lastChild|safari2|startTime|offsetTop|offsetLeft|username|location|ajaxSettings|getElementById|isSimple|values|selectedIndex|runtimeStyle|rsLeft|_load|loaded|DOMContentLoaded|clientTop|clientLeft|toElement|srcElement|val|pageY|POST|unshift|Bottom|clientY|Right|fix|exclusive|detachEvent|cloneNode|removeEventListener|swap|toString|join|attachEvent|eval|substr|head|parse|textarea|reset|image|zoom|odd|even|before|prepend|exclude|expr|quickClass|quickID|uuid|quickChild|continue|Height|textContent|appendTo|contents|open|margin|evalScript|borderTopWidth|borderLeftWidth|parent|httpData|setArray|CSS1Compat|compatMode|boxModel|cssFloat|linear|def|webkit|nodeValue|speed|_toggle|eq|100|replaceWith|304|concat|200|alpha|Last|httpNotModified|getAttributeNode|httpSuccess|clearInterval|abort|beforeSend|splice|styleFloat|throw|colgroup|XMLHttpRequest|ActiveXObject|scriptCharset|callback|fieldset|multiple|processData|getBoundingClientRect|contentType|link|ajaxSend|ajaxSuccess|ajaxError|col|ajaxComplete|ajaxStop|ajaxStart|serializeArray|notmodified|keypress|keydown|change|mouseup|mousedown|dblclick|focus|blur|stylesheet|hasClass|rel|doScroll|black|hover|solid|cancelBubble|returnValue|wheelDelta|view|round|shiftKey|resize|screenY|screenX|relatedNode|mousemove|prevValue|originalTarget|offsetHeight|keyup|newValue|offsetWidth|eventPhase|detail|currentTarget|cancelable|bubbles|attrName|attrChange|altKey|originalEvent|charAt|0n|substring|animated|header|noConflict|line|enabled|innerText|contains|only|weight|font|gt|lt|uFFFF|u0128|size|417|Boolean|Date|toggleClass|removeClass|addClass|removeAttr|replaceAll|insertAfter|prependTo|wrap|contentWindow|contentDocument|iframe|children|siblings|prevAll|wrapInner|nextAll|outer|prev|scrollTo|static|marginTop|next|inline|parents|able|cellSpacing|adobeair|cellspacing|522|maxLength|maxlength|readOnly|400|readonly|fast|600|class|slow|1px|htmlFor|reverse|10000|PI|cos|compatible|Function|setData|ie|ra|it|rv|getData|userAgent|navigator|fadeTo|fadeIn|slideToggle|slideUp|slideDown|ig|responseXML|content|1223|NaN|fadeOut|300|protocol|send|setAttribute|option|dataFilter|cssText|changed|be|Accept|stop|With|Requested|Object|can|GMT|property|1970|Jan|01|Thu|Since|If|Type|Content|XMLHTTP|th|Microsoft|td|onreadystatechange|onload|cap|charset|colg|host|tfoot|specified|with|1_|thead|leg|plain|attributes|opt|embed|urlencoded|www|area|hr|ajaxSetup|meta|post|getJSON|getScript|marginLeft|img|elements|pageYOffset|pageXOffset|abbr|serialize|pixelLeft'.split('|'),0,{}));var Drupal=Drupal||{'settings':{},'behaviors':{},'themes':{},'locale':{}};Drupal.jsEnabled=document.getElementsByTagName&&document.createElement&&document.createTextNode&&document.documentElement&&document.getElementById;Drupal.attachBehaviors=function(context){context=context||document;if(Drupal.jsEnabled){jQuery.each(Drupal.behaviors,function(){this(context);});}};Drupal.checkPlain=function(str){str=String(str);var replace={'&':'&amp;','"':'&quot;','<':'&lt;','>':'&gt;'};for(var character in replace){var regex=new RegExp(character,'g');str=str.replace(regex,replace[character]);}
return str;};Drupal.t=function(str,args){if(Drupal.locale.strings&&Drupal.locale.strings[str]){str=Drupal.locale.strings[str];}
if(args){for(var key in args){switch(key.charAt(0)){case'@':args[key]=Drupal.checkPlain(args[key]);break;case'!':break;case'%':default:args[key]=Drupal.theme('placeholder',args[key]);break;}
str=str.replace(key,args[key]);}}
return str;};Drupal.formatPlural=function(count,singular,plural,args){var args=args||{};args['@count']=count;var index=Drupal.locale.pluralFormula?Drupal.locale.pluralFormula(args['@count']):((args['@count']==1)?0:1);if(index==0){return Drupal.t(singular,args);}
else if(index==1){return Drupal.t(plural,args);}
else{args['@count['+index+']']=args['@count'];delete args['@count'];return Drupal.t(plural.replace('@count','@count['+index+']'));}};Drupal.theme=function(func){for(var i=1,args=[];i<arguments.length;i++){args.push(arguments[i]);}
return(Drupal.theme[func]||Drupal.theme.prototype[func]).apply(this,args);};Drupal.parseJson=function(data){if((data.substring(0,1)!='{')&&(data.substring(0,1)!='[')){return{status:0,data:data.length?data:Drupal.t('Unspecified error')};}
return eval('('+data+');');};Drupal.freezeHeight=function(){Drupal.unfreezeHeight();var div=document.createElement('div');$(div).css({position:'absolute',top:'0px',left:'0px',width:'1px',height:$('body').css('height')}).attr('id','freeze-height');$('body').append(div);};Drupal.unfreezeHeight=function(){$('#freeze-height').remove();};Drupal.encodeURIComponent=function(item,uri){uri=uri||location.href;item=encodeURIComponent(item).replace(/%2F/g,'/');return(uri.indexOf('?q=')!=-1)?item:item.replace(/%26/g,'%2526').replace(/%23/g,'%2523').replace(/\/\//g,'/%252F');};Drupal.getSelection=function(element){if(typeof(element.selectionStart)!='number'&&document.selection){var range1=document.selection.createRange();var range2=range1.duplicate();range2.moveToElementText(element);range2.setEndPoint('EndToEnd',range1);var start=range2.text.length-range1.text.length;var end=start+range1.text.length;return{'start':start,'end':end};}
return{'start':element.selectionStart,'end':element.selectionEnd};};Drupal.ahahError=function(xmlhttp,uri){if(xmlhttp.status==200){if(jQuery.trim($(xmlhttp.responseText).text())){var message=Drupal.t("An error occurred. \n@uri\n@text",{'@uri':uri,'@text':xmlhttp.responseText});}
else{var message=Drupal.t("An error occurred. \n@uri\n(no information available).",{'@uri':uri,'@text':xmlhttp.responseText});}}
else{var message=Drupal.t("An HTTP error @status occurred. \n@uri",{'@uri':uri,'@status':xmlhttp.status});}
return message;}
if(Drupal.jsEnabled){$(document.documentElement).addClass('js');document.cookie='has_js=1; path=/';$(document).ready(function(){Drupal.attachBehaviors(this);});}
Drupal.theme.prototype={placeholder:function(str){return'<em>'+Drupal.checkPlain(str)+'</em>';}};;Drupal.behaviors.autocomplete=function(context){var acdb=[];$('input.autocomplete:not(.autocomplete-processed)',context).each(function(){var uri=this.value;if(uri.indexOf("http:")!=-1||uri.indexOf("https:")!=-1){var t=document.location.protocol;if(uri.indexOf(t)==-1){if(t=="http:"){uri=uri.replace("https:",t);}else if(t=="https:"){uri=uri.replace("http:",t);}}}
if(!acdb[uri]){acdb[uri]=new Drupal.ACDB(uri);}
var input=$('#'+this.id.substr(0,this.id.length-13)).attr('autocomplete','OFF')[0];$(input.form).submit(Drupal.autocompleteSubmit);new Drupal.jsAC(input,acdb[uri]);$(this).addClass('autocomplete-processed');});};Drupal.autocompleteSubmit=function(){return true;return $('#autocomplete').each(function(){this.owner.hidePopup();}).size()==0;};Drupal.jsAC=function(input,db){var ac=this;this.input=input;this.db=db;$(this.input).keydown(function(event){return ac.onkeydown(this,event);}).keyup(function(event){ac.onkeyup(this,event);}).blur(function(){ac.hidePopup();ac.db.cancel();});};Drupal.jsAC.prototype.onkeydown=function(input,e){if(!e){e=window.event;}
switch(e.keyCode){case 40:this.selectDown();return false;case 38:this.selectUp();return false;default:return true;}};Drupal.jsAC.prototype.onkeyup=function(input,e){if(!e){e=window.event;}
switch(e.keyCode){case 16:case 17:case 18:case 20:case 33:case 34:case 35:case 36:case 37:case 38:case 39:case 40:return true;case 9:case 27:this.hidePopup(e.keyCode);return true;case 13:this.hidePopup(e.keyCode);if(this.input.className.indexOf('form-autocomplete')!==-1){$(this.input).parents("form").submit();}
return true;default:if(input.value.length>0)
this.populatePopup();else
this.hidePopup(e.keyCode);return true;}};Drupal.jsAC.prototype.select=function(node){this.input.value=node.autocompleteValue;};Drupal.jsAC.prototype.selectDown=function(){if(this.selected&&this.selected.nextSibling){this.highlight(this.selected.nextSibling);}
else{var lis=$('li',this.popup);if(lis.size()>0){this.highlight(lis.get(0));}}};Drupal.jsAC.prototype.selectUp=function(){if(this.selected&&this.selected.previousSibling){this.highlight(this.selected.previousSibling);}};Drupal.jsAC.prototype.highlight=function(node){if(this.selected){$(this.selected).removeClass('selected');}
$(node).addClass('selected');this.selected=node;};Drupal.jsAC.prototype.unhighlight=function(node){$(node).removeClass('selected');this.selected=false;};Drupal.jsAC.prototype.hidePopup=function(keycode){if(keycode&&keycode===13){if(this.input.id==='edit-product-autocomplete'){$(this.input).parents("#packt-libraries-main-search-form").submit();}}
if(this.selected&&((keycode&&keycode!=46&&keycode!=8&&keycode!=27)||!keycode)){this.input.value=this.selected.autocompleteValue;}
var popup=this.popup;if(popup){this.popup=null;$(popup).fadeOut('fast',function(){$(popup).remove();});}
this.selected=false;};Drupal.jsAC.prototype.populatePopup=function(){if(this.popup){$(this.popup).remove();}
this.selected=false;this.popup=document.createElement('div');this.popup.id='autocomplete';this.popup.owner=this;$(this.popup).css({marginTop:this.input.offsetHeight+'px',width:(this.input.offsetWidth-4)+'px',display:'none'});$(this.input).before(this.popup);this.db.owner=this;this.db.search(this.input.value);};Drupal.jsAC.prototype.found=function(matches){if(!this.input.value.length){return false;}
var ul=document.createElement('ul');var ac=this;for(key in matches){var li=document.createElement('li');$(li).html('<div>'+matches[key]+'</div>').mousedown(function(){ac.select(this);}).mouseover(function(){ac.highlight(this);}).mouseout(function(){ac.unhighlight(this);});li.autocompleteValue=key;$(ul).append(li);}
if(this.popup){if(ul.childNodes.length>0){$(this.popup).empty().append(ul).show();}
else{$(this.popup).css({visibility:'hidden'});this.hidePopup();}}};Drupal.jsAC.prototype.setStatus=function(status){switch(status){case'begin':$(this.input).addClass('throbbing');break;case'cancel':case'error':case'found':$(this.input).removeClass('throbbing');break;}};Drupal.ACDB=function(uri){this.uri=uri;this.delay=300;this.cache={};};Drupal.ACDB.prototype.search=function(searchString){var db=this;this.searchString=searchString;var extraString="";if(db.uri.indexOf("searchsolr")!=-1){extraString=$(db.owner.input).parents('form').serialize();}
if(this.cache[searchString]){return this.owner.found(this.cache[searchString]);}
if(this.timer){clearTimeout(this.timer);}
this.timer=setTimeout(function(){db.owner.setStatus('begin');$.ajax({type:"GET",url:db.uri+'/'+Drupal.encodeURIComponent(searchString)+'?'+extraString,dataType:'json',success:function(matches){if(typeof matches['status']=='undefined'||matches['status']!=0){db.cache[searchString]=matches;if(db.searchString==searchString){db.owner.found(matches);}
db.owner.setStatus('found');}},error:function(xmlhttp){if(db.uri.indexOf("searchsolr/autocomplete")===-1){alert(Drupal.ahahError(xmlhttp,db.uri));}}});},this.delay);};Drupal.ACDB.prototype.cancel=function(){if(this.owner)this.owner.setStatus('cancel');if(this.timer)clearTimeout(this.timer);this.searchString='';};$(document).ready(function(){$('#packt-libraries-main-search-form input[type=submit], #book_taxonomy_view #views-exposed-form-taxonomy-book-list-default input[type=submit], #packt-categorypages-cat-search-form input[type=submit]').click(function(){$(this).unbind().click();});});;jQuery.fn.boxy=function(options){options=options||{};return this.each(function(){var node=this.nodeName.toLowerCase(),self=this;if(node=='a'){jQuery(this).click(function(){var active=Boxy.linkedTo(this),href=this.getAttribute('href'),localOptions=jQuery.extend({actuator:this,title:this.title},options);if(active){active.show();}else if(href.indexOf('#')>=0){var content=jQuery(href.substr(href.indexOf('#'))),newContent=content.clone(true);content.remove();localOptions.unloadOnHide=false;new Boxy(newContent,localOptions);}else{if(!localOptions.cache)localOptions.unloadOnHide=true;Boxy.load(this.href,localOptions);}
return false;});}else if(node=='form'){jQuery(this).bind('submit.boxy',function(){Boxy.confirm(options.message||'Please confirm:',function(){jQuery(self).unbind('submit.boxy').submit();});return false;});}});};function Boxy(element,options){this.boxy=jQuery(Boxy.WRAPPER);jQuery.data(this.boxy[0],'boxy',this);this.visible=false;this.options=jQuery.extend({},Boxy.DEFAULTS,options||{});if(this.options.modal){this.options=jQuery.extend(this.options,{center:true,draggable:false});}
if(this.options.actuator){jQuery.data(this.options.actuator,'active.boxy',this);}
this.setContent(element||"<div></div>");this._setupTitleBar();this.boxy.css('display','none').appendTo(document.body);this.toTop();if(this.options.fixed){if(jQuery.browser.msie&&jQuery.browser.version<7){this.options.fixed=false;}else{this.boxy.addClass('fixed');}}
if(this.options.center&&Boxy._u(this.options.x,this.options.y)){this.center();}else{this.moveTo(Boxy._u(this.options.x)?this.options.x:Boxy.DEFAULT_X,Boxy._u(this.options.y)?this.options.y:Boxy.DEFAULT_Y);}
if(this.options.show)this.show();};Boxy.EF=function(){};jQuery.extend(Boxy,{WRAPPER:"<table cellspacing='0' cellpadding='0' border='0' class='boxy-wrapper'>"+"<tr><td class='top-left'></td><td class='top'></td><td class='top-right'></td></tr>"+"<tr><td class='left'></td><td class='boxy-inner'></td><td class='right'></td></tr>"+"<tr><td class='bottom-left'></td><td class='bottom'></td><td class='bottom-right'></td></tr>"+"</table>",DEFAULTS:{title:null,closeable:true,draggable:true,clone:false,actuator:null,center:true,show:true,modal:false,fixed:true,closeText:'[close]',unloadOnHide:false,clickToFront:false,behaviours:Boxy.EF,afterDrop:Boxy.EF,afterShow:Boxy.EF,afterHide:Boxy.EF,beforeUnload:Boxy.EF},DEFAULT_X:50,DEFAULT_Y:50,zIndex:1337,dragConfigured:false,resizeConfigured:false,dragging:null,load:function(url,options){options=options||{};var ajax={url:url,type:'GET',dataType:'html',cache:false,success:function(html){html=jQuery(html);if(options.filter)html=jQuery(options.filter,html);new Boxy(html,options);}};jQuery.each(['type','cache'],function(){if(this in options){ajax[this]=options[this];delete options[this];}});jQuery.ajax(ajax);},get:function(ele){var p=jQuery(ele).parents('.boxy-wrapper');return p.length?jQuery.data(p[0],'boxy'):null;},linkedTo:function(ele){return jQuery.data(ele,'active.boxy');},alert:function(message,callback,options){return Boxy.ask(message,['OK'],callback,options);},confirm:function(message,after,options){return Boxy.ask(message,['OK','Cancel'],function(response){if(response=='OK')after();},options);},ask:function(question,answers,callback,options){options=jQuery.extend({modal:true,closeable:false},options||{},{show:true,unloadOnHide:true});var body=jQuery('<div></div>').append(jQuery('<div class="question"></div>').html(question));var map={},answerStrings=[];if(answers instanceof Array){for(var i=0;i<answers.length;i++){map[answers[i]]=answers[i];answerStrings.push(answers[i]);}}else{for(var k in answers){map[answers[k]]=k;answerStrings.push(answers[k]);}}
var buttons=jQuery('<form class="answers"></form>');buttons.html(jQuery.map(answerStrings,function(v){return"<input type='button' value='"+v+"' />";}).join(' '));jQuery('input[type=button]',buttons).click(function(){var clicked=this;Boxy.get(this).hide(function(){if(callback)callback(map[clicked.value]);});});body.append(buttons);new Boxy(body,options);},isModalVisible:function(){return jQuery('.boxy-modal-blackout').length>0;},_u:function(){for(var i=0;i<arguments.length;i++)
if(typeof arguments[i]!='undefined')return false;return true;},_handleResize:function(evt){var d=jQuery(document);jQuery('.boxy-modal-blackout').css('display','none').css({width:d.width(),height:d.height()}).css('display','block');},_handleDrag:function(evt){var d;if(d=Boxy.dragging){d[0].boxy.css({left:evt.pageX-d[1],top:evt.pageY-d[2]});}},_nextZ:function(){return Boxy.zIndex++;},_viewport:function(){var d=document.documentElement,b=document.body,w=window;return jQuery.extend(jQuery.browser.msie?{left:b.scrollLeft||d.scrollLeft,top:b.scrollTop||d.scrollTop}:{left:w.pageXOffset,top:w.pageYOffset},!Boxy._u(w.innerWidth)?{width:w.innerWidth,height:w.innerHeight}:(!Boxy._u(d)&&!Boxy._u(d.clientWidth)&&d.clientWidth!=0?{width:d.clientWidth,height:d.clientHeight}:{width:b.clientWidth,height:b.clientHeight}));}});Boxy.prototype={estimateSize:function(){this.boxy.css({visibility:'hidden',display:'block'});var dims=this.getSize();this.boxy.css('display','none').css('visibility','visible');return dims;},getSize:function(){return[this.boxy.width(),this.boxy.height()];},getContentSize:function(){var c=this.getContent();return[c.width(),c.height()];},getPosition:function(){var b=this.boxy[0];return[b.offsetLeft,b.offsetTop];},getCenter:function(){var p=this.getPosition();var s=this.getSize();return[Math.floor(p[0]+s[0]/2),Math.floor(p[1]+s[1]/2)];},getInner:function(){return jQuery('.boxy-inner',this.boxy);},getContent:function(){return jQuery('.boxy-content',this.boxy);},setContent:function(newContent){newContent=jQuery(newContent).css({display:'block'}).addClass('boxy-content');if(this.options.clone)newContent=newContent.clone(true);this.getContent().remove();this.getInner().append(newContent);this._setupDefaultBehaviours(newContent);this.options.behaviours.call(this,newContent);return this;},moveTo:function(x,y){this.moveToX(x).moveToY(y);return this;},moveToX:function(x){if(typeof x=='number')this.boxy.css({left:x});else this.centerX();return this;},moveToY:function(y){if(typeof y=='number')this.boxy.css({top:y});else this.centerY();return this;},centerAt:function(x,y){var s=this[this.visible?'getSize':'estimateSize']();if(typeof x=='number')this.moveToX(x-s[0]/2);if(typeof y=='number')this.moveToY(y-s[1]/2);return this;},centerAtX:function(x){return this.centerAt(x,null);},centerAtY:function(y){return this.centerAt(null,y);},center:function(axis){var v=Boxy._viewport();var o=this.options.fixed?[0,0]:[v.left,v.top];if(!axis||axis=='x')this.centerAt(o[0]+v.width/2,null);if(!axis||axis=='y')this.centerAt(null,o[1]+v.height/2);return this;},centerX:function(){return this.center('x');},centerY:function(){return this.center('y');},resize:function(width,height,after){if(!this.visible)return;var bounds=this._getBoundsForResize(width,height);this.boxy.css({left:bounds[0],top:bounds[1]});this.getContent().css({width:bounds[2],height:bounds[3]});if(after)after(this);return this;},tween:function(width,height,after){if(!this.visible)return;var bounds=this._getBoundsForResize(width,height);var self=this;this.boxy.stop().animate({left:bounds[0],top:bounds[1]});this.getContent().stop().animate({width:bounds[2],height:bounds[3]},function(){if(after)after(self);});return this;},isVisible:function(){return this.visible;},show:function(){if(this.visible)return;if(this.options.modal){var self=this;if(!Boxy.resizeConfigured){Boxy.resizeConfigured=true;jQuery(window).resize(function(){Boxy._handleResize();});}
this.modalBlackout=jQuery('<div class="boxy-modal-blackout"></div>').css({zIndex:Boxy._nextZ(),opacity:0.7,width:jQuery(document).width(),height:jQuery(document).height()}).appendTo(document.body);this.toTop();if(this.options.closeable){jQuery(document.body).bind('keypress.boxy',function(evt){var key=evt.which||evt.keyCode;if(key==27){self.hide();jQuery(document.body).unbind('keypress.boxy');}});}}
this.boxy.stop().css({opacity:1}).show();this.visible=true;this._fire('afterShow');return this;},hide:function(after){if(!this.visible)return;var self=this;if(this.options.modal){jQuery(document.body).unbind('keypress.boxy');this.modalBlackout.animate({opacity:0},function(){jQuery(this).remove();});}
this.boxy.stop().animate({opacity:0},300,function(){self.boxy.css({display:'none'});self.visible=false;self._fire('afterHide');if(after)after(self);if(self.options.unloadOnHide)self.unload();});return this;},toggle:function(){this[this.visible?'hide':'show']();return this;},hideAndUnload:function(after){this.options.unloadOnHide=true;this.hide(after);return this;},unload:function(){this._fire('beforeUnload');this.boxy.remove();if(this.options.actuator){jQuery.data(this.options.actuator,'active.boxy',false);}},toTop:function(){this.boxy.css({zIndex:Boxy._nextZ()});return this;},getTitle:function(){return jQuery('> .title-bar h2',this.getInner()).html();},setTitle:function(t){jQuery('> .title-bar h2',this.getInner()).html(t);return this;},_getBoundsForResize:function(width,height){var csize=this.getContentSize();var delta=[width-csize[0],height-csize[1]];var p=this.getPosition();return[Math.max(p[0]-delta[0]/2,0),Math.max(p[1]-delta[1]/2,0),width,height];},_setupTitleBar:function(){if(this.options.title){var self=this;var tb=jQuery("<div class='title-bar'></div>").html("<h2>"+this.options.title+"</h2>");if(this.options.closeable){tb.append(jQuery("<a href='#' class='close'></a>").html(this.options.closeText));}
if(this.options.draggable){tb[0].onselectstart=function(){return false;}
tb[0].unselectable='on';tb[0].style.MozUserSelect='none';if(!Boxy.dragConfigured){jQuery(document).mousemove(Boxy._handleDrag);Boxy.dragConfigured=true;}
tb.mousedown(function(evt){self.toTop();Boxy.dragging=[self,evt.pageX-self.boxy[0].offsetLeft,evt.pageY-self.boxy[0].offsetTop];jQuery(this).addClass('dragging');}).mouseup(function(){jQuery(this).removeClass('dragging');Boxy.dragging=null;self._fire('afterDrop');});}
this.getInner().prepend(tb);this._setupDefaultBehaviours(tb);}},_setupDefaultBehaviours:function(root){var self=this;if(this.options.clickToFront){root.click(function(){self.toTop();});}
jQuery('.close',root).click(function(){self.hide();return false;}).mousedown(function(evt){evt.stopPropagation();});},_fire:function(event){this.options[event].call(this);}};;Drupal.dhtmlMenu={};Drupal.behaviors.dhtmlMenu=function(){if(Drupal.dhtmlMenu.init){return;}
else{Drupal.dhtmlMenu.init=true;}
var effects=Drupal.settings.dhtmlMenu;$('.collapsed').removeClass('expanded');if(!effects.siblings){var cookie=Drupal.dhtmlMenu.cookieGet();for(var i in cookie){var li=$('#dhtml_menu-'+cookie[i]).parents('li:first');if($(li).hasClass('collapsed')){Drupal.dhtmlMenu.toggleMenu(li);}}}
$('div:not(#block-menu-menu-footer-links) ul.menu li.dhtml-menu:not(.leaf,.no-dhtml)').each(function(){var li=this;if(effects.clone){var ul=$(li).find('ul:first');if(ul.length){$(li).find('a:first').clone().prependTo(ul).wrap('<li class="leaf fake-leaf"></li>');}}
if(effects.doubleclick){$(li).find('a:first').dblclick(function(e){window.location=this.href;});}
$(li).find('a:first').click(function(e){Drupal.dhtmlMenu.toggleMenu($(li));return false;});});}
Drupal.dhtmlMenu.toggleMenu=function(li){var par=$(li).parents();if($(par[4]).attr('id')=='block-menu-menu-footer-links'){return false;}
var effects=Drupal.settings.dhtmlMenu;if($(li).hasClass('expanded')){if(effects.slide){$(li).find('ul:first').animate({height:'hide',opacity:'hide'},'1000');}
else $(li).find('ul:first').css('display','none');if(effects.children){if(effects.slide){$(li).find('li.expanded').find('ul:first').animate({height:'hide',opacity:'hide'},'1000');}
else $(li).find('li.expanded').find('ul:first').css('display','none');$(li).find('li.expanded').removeClass('expanded').addClass('collapsed')}
$(li).removeClass('expanded').addClass('collapsed');}
else{if(effects.slide){$(li).find('ul:first').animate({height:'show',opacity:'show'},'1000');}
else $(li).find('ul:first').css('display','block');$(li).removeClass('collapsed').addClass('expanded');if(effects.siblings){var id=$(li).find('a:first').attr('id');$(li).find('li').addClass('own-children-temp');if(effects.relativity){var siblings=$(li).parent().find('li.expanded').not('.own-children-temp').not(':has(#'+id+')');}
else{var siblings=$('ul.menu li.expanded').not('.own-children-temp').not(':has(#'+id+')');}
if(!effects.children){$('li.collapsed li.expanded').addClass('sibling-children-temp');$(siblings).find('li.expanded').addClass('sibling-children-temp');siblings=$(siblings).not('.sibling-children-temp');}
$('.own-children-temp, .sibling-children-temp').removeClass('own-children-temp').removeClass('sibling-children-temp');if(effects.slide){$(siblings).find('ul:first').animate({height:'hide',opacity:'hide'},'1000');}
else $(siblings).find('ul:first').css('display','none');$(siblings).removeClass('expanded').addClass('collapsed');}}
Drupal.dhtmlMenu.cookieSet();}
Drupal.dhtmlMenu.cookieGet=function(){var c=/dhtml_menu=(.*?)(;|$)/.exec(document.cookie);if(c){return c[1];}
else return'';}
Drupal.dhtmlMenu.cookieSet=function(){var expanded=new Array();$('li.expanded').each(function(){expanded.push($(this).find('a:first').attr('id').substr(5));});document.cookie='dhtml_menu='+expanded.join(',')+';path=/';};$(document).ready(function(){if(Drupal.jsEnabled){$("a[@href^=http]").each(function(){if(this.href.indexOf(location.hostname)==-1&&this.href.indexOf('packtpub.com/')<0){$(this).click(function(){window.open(this.href);return false;});}});}});;(function($){$('div#main div#fancy-slide-1').parent().prev().css("display","none");$.fn.fancySlide=function(options){var defaultoptions={animation:'slide',continuous:true,controlsBefore:'',controlsAfter:'',controlsType:'thumbs',showControls:true,slideControls:false,vertical:false,speed:800,rotate:true,pause:4000};var options=$.extend(defaultoptions,options);var obj=$(this);var slidewidth=$(this).outerWidth();var slideheight=$(this).outerHeight();var slides=$('li',obj).length;var currentslide=0;var previousslide=0;var position=0;var timeout;var depth=99;var animationtype=options.animation+'animate';if(options.speed==0){animationtype='dontanimate';}
return this.each(function(){obj.width(slidewidth);obj.height(slideheight);obj.css('overflow','hidden');if(options.showControls){if(options.controlsType=='thumbs'){var html='<div class="controller">';html+='<span>'+options.controlsBefore+'</span>';for(i=0;i<slides;i++){var thistitle=$('li img:eq('+i+')',obj);}
html+='<div class="controls">';for(i=0;i<slides;i++){var thisslide=$('li img:eq('+i+')',obj);html+='<a href="#" title ="'+thisslide.attr('alt')+'" style="color: black; width: 10px; height: 10px;"><table width="10" height="10"><tr height="10"><td bgcolor="#FA9600" width="10"></td></tr></table>'
html+='</a>';}
html+='</div>';html+='</div>';html+=options.controlsAfter;$(obj).append(html);controller=$('.controller',obj);$(controller).css('zIndex',depth+1);$(controller).css('width',slidewidth-20);$('img',controller).attr('height','40');showinfo();if(options.slideControls){var controlsheight=$(controller).outerHeight();$(controller).css('bottom','-'+controlsheight+'px');obj.hover(function(){$(controller).stop().animate({bottom:'0px'},300);},function(){$(controller).stop().animate({bottom:'-'+controlsheight+'px'},300);});}
$('a',controller).each(function(i){$(this).bind('click',function(){previousslide=currentslide;currentslide=i;if(animationtype=='dwipe'){$('li #effect .effect1:animated, li #effect .effect2:animated').stop();$('li:not('+currentslide+')',obj).css('display','none');$('li:eq('+currentslide+')',obj).css('display','block');$('li #effect',obj).remove();eval(animationtype+'('+currentslide+','+previousslide+','+true+')');}else{eval(animationtype+'('+currentslide+','+previousslide+','+true+')');}
return false;});});};}else if(options.controlsType=='buttons'){var html='<span id="back">';html+='<a href="#">Back</a>';html+='</span>';html+='<span id="forward">';html+='<a href="#">Forward</a>';html+='</span>';$(obj).append(html);};if(animationtype=='slideanimate'){$('ul',obj).css({'margin':0,'padding':0,'width':slides*slidewidth});$('li',obj).css({'float':(options.vertical?'none':'left'),'height':slideheight,'width':slidewidth});}else{$('ul',obj).css({'height':slideheight,'width':slidewidth});$('li',obj).css({'height':slideheight,'left':'0','position':'absolute','top':'0','width':slidewidth});for(i=0;i<slides;i++){$('li:eq('+i+')',obj).css('zIndex',depth);depth--;}}
if(options.rotate){timeout=setTimeout(function(){eval(animationtype+'("rotate",'+previousslide+','+false+')');},options.pause);};});function animationmechanic(destination){if(destination=='rotate'){currentslide++;if(currentslide>slides-1){currentslide=options.continuous?0:currentslide-1;}}else{currentslide=destination;};return currentslide;};function dontanimate(destination,current,clicked){if(destination==current){if(clicked){clearTimeout(timeout)};return;}
animationmechanic(destination);if(options.showControls){showinfo();};var theslide=currentslide;var diff=(currentslide-theslide+slides)%slides;var speed=diff*options.speed;if(!clicked){if(currentslide==0){previousslide=slides-1;}else{previousslide=currentslide-1;}}
$('li:eq('+previousslide+')',obj).stop(true,true).hide();$('li:eq('+currentslide+')',obj).stop(true,true).show();if(clicked)clearTimeout(timeout);if(options.rotate){timeout=setTimeout(function(){eval(animationtype+'("rotate",'+previousslide+','+false+')');},diff*speed+options.pause);};};function slideanimate(destination,current,clicked){if(destination==current){if(clicked){clearTimeout(timeout)};return;}
animationmechanic(destination);if(options.showControls){showinfo();};var theslide=currentslide;var diff=Math.abs(theslide-currentslide);var speed=diff*options.speed;if(!options.vertical){position=(currentslide*slidewidth*-1);$('ul',obj).stop().animate({marginLeft:position},speed);}else{position=(currentslide*slideheight*-1);$('ul',obj).stop().animate({marginTop:position},speed);};if(clicked)clearTimeout(timeout);if(options.rotate){timeout=setTimeout(function(){eval(animationtype+'("rotate",'+previousslide+','+false+')');},diff*speed+options.pause);};};function fadeanimate(destination,current,clicked){if(destination==current){if(clicked){clearTimeout(timeout)};return;}
animationmechanic(destination);if(options.showControls){showinfo();};if(!clicked){if(currentslide==0){previousslide=slides-1;}else{previousslide=currentslide-1;}}
var theslide=currentslide;var diff=Math.abs(theslide-currentslide);var speed=diff*options.speed;$('li:eq('+previousslide+')',obj).stop(true,true).fadeOut(speed);$('li:eq('+currentslide+')',obj).stop(true,true).fadeIn(speed);if(clicked)clearTimeout(timeout);if(options.rotate){timeout=setTimeout(function(){eval(animationtype+'("rotate",'+previousslide+','+false+')');},diff*speed+options.pause);};};function dwipeanimate(destination,current,clicked){if(destination==current){if(clicked){clearTimeout(timeout)};return;}
animationmechanic(destination);if(options.showControls){showinfo();};if(!clicked){if(currentslide==0){previousslide=slides-1;}else{previousslide=currentslide-1;}}
var effectimg=$('li:eq('+currentslide+') img',obj).attr('src');var effecthtml='<div id="effect">';effecthtml+='<div class="effect1">';effecthtml+='</div>';effecthtml+='<div class="effect2">';effecthtml+='</div>';effecthtml+='</div>';$('li:eq('+previousslide+')',obj).prepend(effecthtml);$('li:eq('+previousslide+') #effect',obj).css({'height':slideheight,'left':0,'overflow':'hidden','position':'absolute','top':0,'width':slidewidth});$('li:eq('+previousslide+') #effect .effect1',obj).css({'background':'url('+effectimg+') no-repeat '+'0 '+'0','display':'block','height':slideheight/2,'left':'0','position':'relative','top':-slideheight/2,'width':slidewidth});$('li:eq('+previousslide+') #effect .effect2',obj).css({'background':'url('+effectimg+') no-repeat '+'0 '+-slideheight/2+'px','display':'block','height':slideheight/2,'left':'0','position':'relative','top':slideheight,'width':slidewidth});var theslide=currentslide;var diff=Math.abs(theslide-currentslide);var speed=diff*options.speed;$('li:eq('+previousslide+') #effect .effect1',obj).stop(true,true).animate({'top':0,'left':0},speed);$('li:eq('+previousslide+') #effect .effect2',obj).stop(true,true).animate({'top':0,'left':0},speed,function(){$('li:not('+currentslide+')',obj).css('display','none');$('li:eq('+currentslide+')',obj).css('display','block');$('li #effect',obj).remove();});if(clicked)clearTimeout(timeout);if(options.rotate){timeout=setTimeout(function(){eval(animationtype+'("rotate",'+previousslide+','+false+')');},diff*speed+options.pause);};};function showinfo(){controller=$('.controller',obj);$('p',controller).addClass('inactive');$('a',controller).addClass('inactive');$('p.active',controller).removeClass('active');$('a.active',controller).removeClass('active');$('p:eq('+currentslide+')',controller).removeClass('inactive');$('p:eq('+currentslide+')',controller).addClass('active');$('a:eq('+currentslide+')',controller).removeClass('inactive');$('a:eq('+currentslide+')',controller).addClass('active');};};})(jQuery);;$(document).ready(function(){$(document.body).click(function(event){$(event.target).parents("a:first,area:first").andSelf().filter("a,area").each(function(){var ga=Drupal.settings.googleanalytics;var isInternal=new RegExp("^(https?):\/\/"+window.location.host,"i");var isInternalSpecial=new RegExp("(\/go\/.*)$","i");var isDownload=new RegExp("\\.("+ga.trackDownloadExtensions+")$","i");if(isInternal.test(this.href)){if(ga.trackDownload&&isDownload.test(this.href)){var extension=isDownload.exec(this.href);_paq.push(["_trackEvent","Downloads",extension[1].toUpperCase(),this.href.replace(isInternal,'')]);}
else if(isInternalSpecial.test(this.href)){_paq.push(["_trackPageview",this.href.replace(isInternal,'')]);}}
else{if(ga.trackMailto&&$(this).is("a[href^=mailto:],area[href^=mailto:]")){_paq.push(["_trackEvent","Mails","Click",this.href.substring(7)]);}
else if(ga.trackOutgoing&&this.href){if(ga.trackOutboundAsPageview){_paq.push(["_trackPageview",'/outbound/'+this.href.replace(/^(https?|ftp|news|nntp|telnet|irc|ssh|sftp|webcal):\/\//i,'').split('/').join('--')]);}
else{_paq.push(["_trackEvent","Outbound links","Click",this.href]);}}}});});});;function parse_url(url,param){param=param.replace(/[\[]/,"\\\[").replace(/[\]]/,"\\\]");url=url.replace(/&amp;/,"&");var regexS="[\\?&]"+param+"=([^&#]*)";var regex=new RegExp(regexS);var results=regex.exec(url);if(results===null){return"";}
else{return results[1];}}
function lightbox2_init_triggers(classes,rel_type,custom_class){var settings=Drupal.settings.lightbox2;var link_target="";if(settings.node_link_target!==0){link_target='target="'+settings.node_link_target+'"';}
$("a:has("+classes+")").each(function(i){if((!settings.disable_for_gallery_lists&&!settings.disable_for_acidfree_gallery_lists)||(!$(this).parents("td.giAlbumCell").attr("class")&&!$(this).parents(".galleries").length&&!$(this).parents(".acidfree-folder").length&&!$(this).parents(".acidfree-list").length)||($(this).parents(".galleries").length&&!settings.disable_for_gallery_lists)||(($(this).parents(".acidfree-folder").length||$(this).parents(".acidfree-list").length)&&!settings.disable_for_acidfree_gallery_lists)){var child=$(this).find(classes);if($(child).attr("class")&&!$(this).parents("div.acidfree-video").length){var alt=$(child).attr("alt");if(!alt){alt="";}
var link_text=settings.node_link_text;var download_link_text=settings.download_link_text;var rel="lightbox";var lightframe=false;if(rel_type=="lightframe_ungrouped"){rel="lightframe[]";lightframe=true;}
else if(rel_type=="lightframe"){lightframe=true;}
else if(rel_type=="lightbox_ungrouped"){rel="lightbox[]";}
if(rel_type!="lightbox_ungrouped"&&rel_type!="lightframe_ungrouped"){rel=rel_type+"["+$(child).attr("class")+"]";}
var id=null;var href=$(child).attr("src");var download=null;var orig_href=$(this).attr("href");var pattern=new RegExp(settings.file_path);if(orig_href.match(pattern)){var lang_pattern=new RegExp(Drupal.settings.basePath+"\\w\\w\\/");orig_href=orig_href.replace(lang_pattern,Drupal.settings.basePath);}
var frame_href=orig_href;if($(child).attr("class").match("flickr-photo-img")||$(child).attr("class").match("flickr-photoset-img")){href=$(child).attr("src").replace("_s.",".").replace("_t.",".").replace("_m.",".").replace("_b.",".");if(rel_type!="lightbox_ungrouped"&&rel_type!="lightframe_ungrouped"){rel=rel_type+"[flickr]";if($(child).parents("div.block-flickr").attr("class")){id=$(child).parents("div.block-flickr").attr("id");rel=rel_type+"["+id+"]";}}}
else if($(child).attr("class").match("image-img_assist_custom")){orig_href=orig_href.replace(/\+/," ");href=$(child).attr("src").replace(new RegExp("\\.img_assist_custom"),((settings.display_image_size==="")?settings.display_image_size:"."+settings.display_image_size));if(rel_type!="lightbox_ungrouped"&&rel_type!="lightframe_ungrouped"){rel=rel_type+"[node_images]";}
if(lightframe){frame_href=orig_href+"/lightbox2";}}
else if($(child).attr("class").match("inline")){href=orig_href;}
else if($(child).attr("class").match("ImageFrame_image")||$(child).attr("class").match("ImageFrame_none")){var thumb_id=parse_url(href,"g2_itemId");var new_id=parse_url(orig_href,"g2_itemId");if(new_id&&thumb_id){var g2pattern=new RegExp("g2_itemId="+thumb_id);var replacement="g2_itemId="+new_id;href=href.replace(g2pattern,replacement);}
rel=rel_type+"[gallery2]";if($(child).parents("div.block-gallery").attr("class")){id=$(child).parents("div.block-gallery").attr("id");rel=rel_type+"["+id+"]";}}
else if(settings.image_node_sizes!='()'&&!custom_class){href=$(child).attr("src").replace(new RegExp(settings.image_node_sizes),((settings.display_image_size==="")?settings.display_image_size:"."+settings.display_image_size)).replace(/(image\/view\/\d+)(\/[\w\-]*)/,((settings.display_image_size==="")?"$1/_original":"$1/"+settings.display_image_size));if(rel_type!="lightbox_ungrouped"&&rel_type!="lightframe_ungrouped"){rel=rel_type+"[node_images]";if($(child).parents("div.block-multiblock,div.block-image").attr("class")){id=$(child).parents("div.block-multiblock,div.block-image").attr("id");rel=rel_type+"["+id+"]";}}
download=$(child).attr("src").replace(new RegExp(settings.image_node_sizes),"").replace(/(image\/view\/\d+)(\/[\w\-]*)/,"$1/_original");if(lightframe){frame_href=orig_href+"/lightbox2";}}
var img_title=$(child).attr("title");if(!img_title){img_title=$(this).attr("title");if(!img_title){img_title=$(child).attr("alt");}
$(child).attr({title:img_title});}
if(lightframe){href=frame_href;}
if(!custom_class){var title_link="";if(link_text.length){title_link="<br /><br /><a href=\""+orig_href+"\" id=\"node_link_text\" "+link_target+" >"+link_text+"</a>";}
if(download_link_text.length){title_link=title_link+" - <a href=\""+download+"\" id=\"download_link_text\" target=\"_blank\">"+download_link_text+"</a>";}
rel=rel+"["+alt+title_link+"]";$(this).attr({rel:rel,href:href});}
else{if(rel_type!="lightbox_ungrouped"&&rel_type!="lightframe_ungrouped"){rel=rel_type+"["+$(child).attr("class")+"]";if($(child).parents("div.block-image").attr("class")){id=$(child).parents("div.block-image").attr("id");rel=rel_type+"["+id+"]";}}
rel=rel+"["+alt+"]";$(this).attr({rel:rel,href:orig_href});}}}});}
function lightbox2_init_acidfree_video(){var settings=Drupal.settings.lightbox2;var link_target="";if(settings.node_link_target!==0){link_target='target="'+settings.node_link_target+'"';}
var link_text=settings.node_link_text;var rel="lightframe";$("div.acidfree-video a").each(function(i){if(!settings.disable_for_acidfree_gallery_lists||(!$(this).parents(".acidfree-folder").length&&!$(this).parents(".acidfree-list").length)||(($(this).parents(".acidfree-folder").length||$(this).parents(".acidfree-list").length)&&!settings.disable_for_acidfree_gallery_lists)){var orig_href=$(this).attr("href");var href=orig_href+"/lightframevideo";var title=$(this).attr("title");var title_link="";if(link_text.length){title_link="<br /><a href=\""+orig_href+"\" id=\"node_link_text\" "+link_target+" >"+link_text+"</a>";}
$(this).attr({rel:rel,title:title+title_link,href:href});}});}
function lightbox2_image_nodes(){var settings=Drupal.settings.lightbox2;var img_assist=document.getElementById("img_assist_thumbs");if(!img_assist){lightbox2_init_triggers(settings.trigger_lightbox_classes,"lightbox_ungrouped");lightbox2_init_triggers(settings.custom_trigger_classes,settings.custom_class_handler,true);lightbox2_init_triggers(settings.trigger_lightbox_group_classes,"lightbox");lightbox2_init_triggers(settings.trigger_slideshow_classes,"lightshow");lightbox2_init_triggers(settings.trigger_lightframe_classes,"lightframe_ungrouped");lightbox2_init_triggers(settings.trigger_lightframe_group_classes,"lightframe");if(settings.enable_acidfree_videos){lightbox2_init_acidfree_video();}}}
Drupal.behaviors.initAutoLightbox=function(context){lightbox2_image_nodes();};;var Lightbox={overlayOpacity:0.8,overlayColor:'000',disableCloseClick:true,resizeSequence:0,resizeSpeed:'normal',fadeInSpeed:'normal',slideDownSpeed:'slow',minWidth:240,borderSize:10,boxColor:'fff',fontColor:'000',topPosition:'',infoHeight:20,alternative_layout:false,imageArray:[],imageNum:null,total:0,activeImage:null,inprogress:false,disableResize:false,disableZoom:true,isZoomedIn:false,rtl:false,loopItems:false,keysClose:['c','x',27],keysPrevious:['p',37],keysNext:['n',39],keysZoom:['z'],keysPlayPause:[32],slideInterval:5000,showPlayPause:true,autoStart:true,autoExit:true,pauseOnNextClick:false,pauseOnPrevClick:true,slideIdArray:[],slideIdCount:0,isSlideshow:false,isPaused:false,loopSlides:false,isLightframe:false,iframe_width:600,iframe_height:400,iframe_border:1,enableVideo:false,flvPlayer:'/flvplayer.swf',flvFlashvars:'',isModal:false,isVideo:false,videoId:false,modalWidth:400,modalHeight:400,modalHTML:null,initialize:function(){var s=Drupal.settings.lightbox2;Lightbox.overlayOpacity=s.overlay_opacity;Lightbox.overlayColor=s.overlay_color;Lightbox.disableCloseClick=s.disable_close_click;Lightbox.resizeSequence=s.resize_sequence;Lightbox.resizeSpeed=s.resize_speed;Lightbox.fadeInSpeed=s.fade_in_speed;Lightbox.slideDownSpeed=s.slide_down_speed;Lightbox.borderSize=s.border_size;Lightbox.boxColor=s.box_color;Lightbox.fontColor=s.font_color;Lightbox.topPosition=s.top_position;Lightbox.rtl=s.rtl;Lightbox.loopItems=s.loop_items;Lightbox.keysClose=s.keys_close.split(" ");Lightbox.keysPrevious=s.keys_previous.split(" ");Lightbox.keysNext=s.keys_next.split(" ");Lightbox.keysZoom=s.keys_zoom.split(" ");Lightbox.keysPlayPause=s.keys_play_pause.split(" ");Lightbox.disableResize=s.disable_resize;Lightbox.disableZoom=s.disable_zoom;Lightbox.slideInterval=s.slideshow_interval;Lightbox.showPlayPause=s.show_play_pause;Lightbox.autoStart=s.slideshow_automatic_start;Lightbox.autoExit=s.slideshow_automatic_exit;Lightbox.pauseOnNextClick=s.pause_on_next_click;Lightbox.pauseOnPrevClick=s.pause_on_previous_click;Lightbox.loopSlides=s.loop_slides;Lightbox.alternative_layout=s.use_alt_layout;Lightbox.iframe_width=s.iframe_width;Lightbox.iframe_height=s.iframe_height;Lightbox.iframe_border=s.iframe_border;Lightbox.enableVideo=s.enable_video;if(s.enable_video){Lightbox.flvPlayer=s.flvPlayer;Lightbox.flvFlashvars=s.flvFlashvars;}
var output='<div id="overlay" style="display: none;"></div>\
      <div id="lightbox" style="display: none;">\
        <div id="outerImageContainer"></div>\
        <div id="imageDataContainer" class="clearfix">\
          <div id="imageData"></div>\
        </div>\
      </div>';var loading='<div id="loading"><a href="#" id="loadingLink"></a></div>';var modal='<div id="modalContainer" style="display: none;"></div>';var frame='<div id="frameContainer" style="display: none;"></div>';var imageContainer='<div id="imageContainer" style="display: none;"></div>';var details='<div id="imageDetails"></div>';var bottomNav='<div id="bottomNav"></div>';var image='<img id="lightboxImage" />';var hoverNav='<div id="hoverNav"><a id="prevLink" href="#"></a><a id="nextLink" href="#"></a></div>';var frameNav='<div id="frameHoverNav"><a id="framePrevLink" href="#"></a><a id="frameNextLink" href="#"></a></div>';var caption='<span id="caption"></span>';var numberDisplay='<span id="numberDisplay"></span>';var close='<a id="bottomNavClose" href="#"></a>';var zoom='<a id="bottomNavZoom" href="#"></a>';var zoomOut='<a id="bottomNavZoomOut" href="#"></a>';var pause='<a id="lightshowPause" href="#" style="display: none;"></a>';var play='<a id="lightshowPlay" href="#" style="display: none;"></a>';$("body").append(output);$('#outerImageContainer').append(modal+frame+imageContainer+loading);if(!s.use_alt_layout){$('#imageContainer').append(image+hoverNav);$('#imageData').append(frameNav+details+bottomNav);$('#imageDetails').append(caption+numberDisplay);$('#bottomNav').append(close+zoom+zoomOut+pause+play);}
else{$('#outerImageContainer').append(bottomNav);$('#imageContainer').append(image);$('#bottomNav').append(close+zoom+zoomOut);$('#imageData').append(hoverNav+details);$('#imageDetails').append(caption+numberDisplay+pause+play);}
if(Lightbox.disableCloseClick){$('#overlay').click(function(){Lightbox.end();return false;}).hide();}
$('#loadingLink, #bottomNavClose').click(function(){Lightbox.end('forceClose');return false;});$('#prevLink, #framePrevLink').click(function(){Lightbox.changeData(Lightbox.activeImage-1);return false;});$('#nextLink, #frameNextLink').click(function(){Lightbox.changeData(Lightbox.activeImage+1);return false;});$('#bottomNavZoom').click(function(){Lightbox.changeData(Lightbox.activeImage,true);return false;});$('#bottomNavZoomOut').click(function(){Lightbox.changeData(Lightbox.activeImage,false);return false;});$('#lightshowPause').click(function(){Lightbox.togglePlayPause("lightshowPause","lightshowPlay");return false;});$('#lightshowPlay').click(function(){Lightbox.togglePlayPause("lightshowPlay","lightshowPause");return false;});$('#prevLink, #nextLink, #framePrevLink, #frameNextLink').css({'paddingTop':Lightbox.borderSize+'px'});$('#imageContainer, #frameContainer, #modalContainer').css({'padding':Lightbox.borderSize+'px'});$('#outerImageContainer, #imageDataContainer, #bottomNavClose').css({'backgroundColor':'#'+Lightbox.boxColor,'color':'#'+Lightbox.fontColor});if(Lightbox.alternative_layout){$('#bottomNavZoom, #bottomNavZoomOut').css({'bottom':Lightbox.borderSize+'px','right':Lightbox.borderSize+'px'});}
else if(Lightbox.rtl==1&&$.browser.msie){$('#bottomNavZoom, #bottomNavZoomOut').css({'left':'0px'});}
if(s.force_show_nav){$('#prevLink, #nextLink').addClass("force_show_nav");}},initList:function(){$("a[@rel^='lightbox']:not(.lightbox-processed), area[@rel^='lightbox']:not(.lightbox-processed)").addClass('lightbox-processed').click(function(e){if(Lightbox.disableCloseClick){$('#lightbox').unbind('click');$('#lightbox').click(function(){Lightbox.end('forceClose');});}
Lightbox.start(this,false,false,false,false);if(e.preventDefault){e.preventDefault();}
return false;});$("a[@rel^='lightshow']:not(.lightbox-processed), area[@rel^='lightshow']:not(.lightbox-processed)").addClass('lightbox-processed').click(function(e){if(Lightbox.disableCloseClick){$('#lightbox').unbind('click');$('#lightbox').click(function(){Lightbox.end('forceClose');});}
Lightbox.start(this,true,false,false,false);if(e.preventDefault){e.preventDefault();}
return false;});$("a[@rel^='lightframe']:not(.lightbox-processed), area[@rel^='lightframe']:not(.lightbox-processed)").addClass('lightbox-processed').click(function(e){if(Lightbox.disableCloseClick){$('#lightbox').unbind('click');$('#lightbox').click(function(){Lightbox.end('forceClose');});}
Lightbox.start(this,false,true,false,false);if(e.preventDefault){e.preventDefault();}
return false;});if(Lightbox.enableVideo){$("a[@rel^='lightvideo']:not(.lightbox-processed), area[@rel^='lightvideo']:not(.lightbox-processed)").addClass('lightbox-processed').click(function(e){if(Lightbox.disableCloseClick){$('#lightbox').unbind('click');$('#lightbox').click(function(){Lightbox.end('forceClose');});}
Lightbox.start(this,false,false,true,false);if(e.preventDefault){e.preventDefault();}
return false;});}
$("a[@rel^='lightmodal']:not(.lightbox-processed), area[@rel^='lightmodal']:not(.lightbox-processed)").addClass('lightbox-processed').click(function(e){$('#lightbox').unbind('click');Lightbox.start(this,false,false,false,true);if(e.preventDefault){e.preventDefault();}
return false;});},start:function(imageLink,slideshow,lightframe,lightvideo,lightmodal){Lightbox.isPaused=!Lightbox.autoStart;Lightbox.toggleSelectsFlash('hide');var arrayPageSize=Lightbox.getPageSize();$("#overlay").hide().css({'width':'100%','zIndex':'10090','height':arrayPageSize[1]+'px','backgroundColor':'#'+Lightbox.overlayColor});if(lightvideo&&this.detectMacFF2()){$("#overlay").removeClass("overlay_default");$("#overlay").addClass("overlay_macff2");$("#overlay").css({'opacity':null});}
else{$("#overlay").removeClass("overlay_macff2");$("#overlay").addClass("overlay_default");$("#overlay").css({'opacity':Lightbox.overlayOpacity});}
$("#overlay").fadeIn(Lightbox.fadeInSpeed);Lightbox.isSlideshow=slideshow;Lightbox.isLightframe=lightframe;Lightbox.isVideo=lightvideo;Lightbox.isModal=lightmodal;Lightbox.imageArray=[];Lightbox.imageNum=0;var anchors=$(imageLink.tagName);var anchor=null;var rel_parts=Lightbox.parseRel(imageLink);var rel=rel_parts["rel"];var rel_group=rel_parts["group"];var title=(rel_parts["title"]?rel_parts["title"]:imageLink.title);var rel_style=null;var i=0;var alt=imageLink.title;if(!alt){var img=$(imageLink).find("img");if(img&&$(img).attr("alt")){alt=$(img).attr("alt");}
else{alt=title;}}
if($(imageLink).attr('id')=='lightboxAutoModal'){rel_style=rel_parts["style"];Lightbox.imageArray.push(['#lightboxAutoModal > *',title,alt,rel_style,1]);}
else{if((rel=='lightbox'||rel=='lightshow')&&!rel_group){Lightbox.imageArray.push([imageLink.href,title,alt]);}
else if(!rel_group){rel_style=rel_parts["style"];Lightbox.imageArray.push([imageLink.href,title,alt,rel_style]);}
else{for(i=0;i<anchors.length;i++){anchor=anchors[i];if(anchor.href&&$(anchor).attr('rel')){var rel_data=Lightbox.parseRel(anchor);var anchor_title=(rel_data["title"]?rel_data["title"]:anchor.title);if(rel_data["rel"]==rel){if(rel_data["group"]==rel_group){if(Lightbox.isLightframe||Lightbox.isModal){rel_style=rel_data["style"];}
Lightbox.imageArray.push([anchor.href,anchor_title,alt,rel_style]);}}}}
for(i=0;i<Lightbox.imageArray.length;i++){for(j=Lightbox.imageArray.length-1;j>i;j--){if(Lightbox.imageArray[i][0]==Lightbox.imageArray[j][0]){Lightbox.imageArray.splice(j,1);}}}
while(Lightbox.imageArray[Lightbox.imageNum][0]!=imageLink.href){Lightbox.imageNum++;}}}
if(Lightbox.isSlideshow&&Lightbox.showPlayPause&&Lightbox.isPaused){$('#lightshowPlay').show();$('#lightshowPause').hide();}
var arrayPageScroll=Lightbox.getPageScroll();var lightboxTop=arrayPageScroll[1]+(Lightbox.topPosition==''?(arrayPageSize[3]/10):Lightbox.topPosition)*1;var lightboxLeft=arrayPageScroll[0];$('#frameContainer, #modalContainer, #lightboxImage').hide();$('#hoverNav, #prevLink, #nextLink, #frameHoverNav, #framePrevLink, #frameNextLink').hide();$('#imageDataContainer, #numberDisplay, #bottomNavZoom, #bottomNavZoomOut').hide();$('#outerImageContainer').css({'width':'250px','height':'250px'});$('#lightbox').css({'zIndex':'10500','top':lightboxTop+'px','left':lightboxLeft+'px'}).show();Lightbox.total=Lightbox.imageArray.length;Lightbox.changeData(Lightbox.imageNum);},changeData:function(imageNum,zoomIn){if(Lightbox.inprogress===false){if(Lightbox.total>1&&((Lightbox.isSlideshow&&Lightbox.loopSlides)||(!Lightbox.isSlideshow&&Lightbox.loopItems))){if(imageNum>=Lightbox.total)imageNum=0;if(imageNum<0)imageNum=Lightbox.total-1;}
if(Lightbox.isSlideshow){for(var i=0;i<Lightbox.slideIdCount;i++){window.clearTimeout(Lightbox.slideIdArray[i]);}}
Lightbox.inprogress=true;Lightbox.activeImage=imageNum;if(Lightbox.disableResize&&!Lightbox.isSlideshow){zoomIn=true;}
Lightbox.isZoomedIn=zoomIn;$('#loading').css({'zIndex':'10500'}).show();if(!Lightbox.alternative_layout){$('#imageContainer').hide();}
$('#frameContainer, #modalContainer, #lightboxImage').hide();$('#hoverNav, #prevLink, #nextLink, #frameHoverNav, #framePrevLink, #frameNextLink').hide();$('#imageDataContainer, #numberDisplay, #bottomNavZoom, #bottomNavZoomOut').hide();if(!Lightbox.isLightframe&&!Lightbox.isVideo&&!Lightbox.isModal){imgPreloader=new Image();imgPreloader.onerror=function(){Lightbox.imgNodeLoadingError(this);};imgPreloader.onload=function(){var photo=document.getElementById('lightboxImage');photo.src=Lightbox.imageArray[Lightbox.activeImage][0];photo.alt=Lightbox.imageArray[Lightbox.activeImage][2];var imageWidth=imgPreloader.width;var imageHeight=imgPreloader.height;var arrayPageSize=Lightbox.getPageSize();var targ={w:arrayPageSize[2]-(Lightbox.borderSize*2),h:arrayPageSize[3]-(Lightbox.borderSize*6)-(Lightbox.infoHeight*4)-(arrayPageSize[3]/10)};var orig={w:imgPreloader.width,h:imgPreloader.height};if(zoomIn!==true){var ratio=1.0;$('#bottomNavZoomOut, #bottomNavZoom').hide();if((orig.w>=targ.w||orig.h>=targ.h)&&orig.h&&orig.w){ratio=((targ.w/orig.w)<(targ.h/orig.h))?targ.w/orig.w:targ.h/orig.h;if(!Lightbox.disableZoom&&!Lightbox.isSlideshow){}}
imageWidth=Math.floor(orig.w*ratio);imageHeight=Math.floor(orig.h*ratio);}
else{$('#bottomNavZoom').hide();if((orig.w>=targ.w||orig.h>=targ.h)&&orig.h&&orig.w){if(!Lightbox.disableResize&&Lightbox.isSlideshow===false&&!Lightbox.disableZoom){}}}
photo.style.width=(imageWidth)+'px';photo.style.height=(imageHeight)+'px';Lightbox.resizeContainer(imageWidth,imageHeight);imgPreloader.onload=function(){};};imgPreloader.src=Lightbox.imageArray[Lightbox.activeImage][0];imgPreloader.alt=Lightbox.imageArray[Lightbox.activeImage][2];}
else if(Lightbox.isLightframe){var src=Lightbox.imageArray[Lightbox.activeImage][0];$('#frameContainer').html('<iframe id="lightboxFrame" style="display: none;" src="'+src+'"></iframe>');if($.browser.mozilla&&src.indexOf('.swf')!=-1){setTimeout(function(){document.getElementById("lightboxFrame").src=Lightbox.imageArray[Lightbox.activeImage][0];},1000);}
if(!Lightbox.iframe_border){$('#lightboxFrame').css({'border':'none'});$('#lightboxFrame').attr('frameborder','0');}
var iframe=document.getElementById('lightboxFrame');var iframeStyles=Lightbox.imageArray[Lightbox.activeImage][3];iframe=Lightbox.setStyles(iframe,iframeStyles);Lightbox.resizeContainer(parseInt(iframe.width,10),parseInt(iframe.height,10));}
else if(Lightbox.isVideo||Lightbox.isModal){var container=document.getElementById('modalContainer');var modalStyles=Lightbox.imageArray[Lightbox.activeImage][3];container=Lightbox.setStyles(container,modalStyles);if(Lightbox.isVideo){Lightbox.modalHeight=parseInt(container.height,10);Lightbox.modalWidth=parseInt(container.width,10);Lightvideo.startVideo(Lightbox.imageArray[Lightbox.activeImage][0]);}
Lightbox.resizeContainer(parseInt(container.width,10),parseInt(container.height,10));}}},imgNodeLoadingError:function(image){var s=Drupal.settings.lightbox2;var original_image=Lightbox.imageArray[Lightbox.activeImage][0];if(s.display_image_size!==""){original_image=original_image.replace(new RegExp("."+s.display_image_size),"");}
Lightbox.imageArray[Lightbox.activeImage][0]=original_image;image.onerror=function(){Lightbox.imgLoadingError(image);};image.src=original_image;},imgLoadingError:function(image){var s=Drupal.settings.lightbox2;Lightbox.imageArray[Lightbox.activeImage][0]=s.default_image;image.src=s.default_image;},resizeContainer:function(imgWidth,imgHeight){imgWidth=(imgWidth<Lightbox.minWidth?Lightbox.minWidth:imgWidth);this.widthCurrent=$('#outerImageContainer').width();this.heightCurrent=$('#outerImageContainer').height();var widthNew=(imgWidth+(Lightbox.borderSize*2));var heightNew=(imgHeight+(Lightbox.borderSize*2));this.xScale=(widthNew/this.widthCurrent)*100;this.yScale=(heightNew/this.heightCurrent)*100;wDiff=this.widthCurrent-widthNew;hDiff=this.heightCurrent-heightNew;$('#modalContainer').css({'width':imgWidth,'height':imgHeight});if(Lightbox.resizeSequence){var animate1={width:widthNew};var animate2={height:heightNew};if(Lightbox.resizeSequence==2){animate1={height:heightNew};animate2={width:widthNew};}
$('#outerImageContainer').animate(animate1,Lightbox.resizeSpeed).animate(animate2,Lightbox.resizeSpeed,'linear',function(){Lightbox.showData();});}
else{$('#outerImageContainer').animate({'width':widthNew,'height':heightNew},Lightbox.resizeSpeed,'linear',function(){Lightbox.showData();});}
if((hDiff===0)&&(wDiff===0)){if($.browser.msie){Lightbox.pause(250);}
else{Lightbox.pause(100);}}
var s=Drupal.settings.lightbox2;if(!s.use_alt_layout){$('#prevLink, #nextLink').css({'height':imgHeight+'px'});}
$('#imageDataContainer').css({'width':widthNew+'px'});},showData:function(){$('#loading').hide();if(Lightbox.isLightframe||Lightbox.isVideo||Lightbox.isModal){Lightbox.updateDetails();if(Lightbox.isLightframe){$('#frameContainer').show();if($.browser.safari){$('#lightboxFrame').css({'zIndex':'10500'}).show();}
else{$('#lightboxFrame').css({'zIndex':'10500'}).fadeIn(Lightbox.fadeInSpeed);}}
else{if(Lightbox.isVideo){$("#modalContainer").html(Lightbox.modalHTML);$("#modalContainer").click(function(){return false;});}
else{var src=unescape(Lightbox.imageArray[Lightbox.activeImage][0]);if(Lightbox.imageArray[Lightbox.activeImage][4]){$(src).appendTo("#modalContainer");}
else{$("#modalContainer").load(src);}
$('#modalContainer').unbind('click');}
$('#modalContainer').css({'zIndex':'10500'}).show();}}
else{$('#imageContainer').show();if($.browser.safari){$('#lightboxImage').css({'zIndex':'10500'}).show();}
else{$('#lightboxImage').css({'zIndex':'10500'}).fadeIn(Lightbox.fadeInSpeed);}
Lightbox.updateDetails();this.preloadNeighborImages();}
Lightbox.inprogress=false;if(Lightbox.isSlideshow){if(!Lightbox.loopSlides&&Lightbox.activeImage==(Lightbox.total-1)){if(Lightbox.autoExit){Lightbox.slideIdArray[Lightbox.slideIdCount++]=setTimeout(function(){Lightbox.end('slideshow');},Lightbox.slideInterval);}}
else{if(!Lightbox.isPaused&&Lightbox.total>1){Lightbox.slideIdArray[Lightbox.slideIdCount++]=setTimeout(function(){Lightbox.changeData(Lightbox.activeImage+1);},Lightbox.slideInterval);}}
if(Lightbox.showPlayPause&&Lightbox.total>1&&!Lightbox.isPaused){$('#lightshowPause').show();$('#lightshowPlay').hide();}
else if(Lightbox.showPlayPause&&Lightbox.total>1){$('#lightshowPause').hide();$('#lightshowPlay').show();}}
var arrayPageSize=Lightbox.getPageSize();var arrayPageScroll=Lightbox.getPageScroll();var pageHeight=arrayPageSize[1];if(Lightbox.isZoomedIn&&arrayPageSize[1]>arrayPageSize[3]){var lightboxTop=(Lightbox.topPosition==''?(arrayPageSize[3]/10):Lightbox.topPosition)*1;pageHeight=pageHeight+arrayPageScroll[1]+lightboxTop;}
$('#overlay').css({'height':pageHeight+'px','width':arrayPageSize[0]+'px'});if($.browser.mozilla){if(Lightbox.imageArray[Lightbox.activeImage][0].indexOf(".pdf")!=-1){setTimeout(function(){document.getElementById("lightboxFrame").src=Lightbox.imageArray[Lightbox.activeImage][0];},1000);}}},updateDetails:function(){$("#imageDataContainer").hide();var caption=Lightbox.imageArray[Lightbox.activeImage][1];if(!caption)caption='&nbsp;';$('#caption').html(caption).css({'zIndex':'10500'}).show();var s=Drupal.settings.lightbox2;var numberDisplay=null;if(Lightbox.total>1){var currentImage=Lightbox.activeImage+1;if(!Lightbox.isLightframe&&!Lightbox.isModal&&!Lightbox.isVideo){numberDisplay=s.image_count.replace(/\!current/,currentImage).replace(/\!total/,Lightbox.total);}
else if(Lightbox.isVideo){numberDisplay=s.video_count.replace(/\!current/,currentImage).replace(/\!total/,Lightbox.total);}
else{numberDisplay=s.page_count.replace(/\!current/,currentImage).replace(/\!total/,Lightbox.total);}
$('#numberDisplay').html(numberDisplay).css({'zIndex':'10500'}).show();}
$("#imageDataContainer").hide().slideDown(Lightbox.slideDownSpeed,function(){$("#bottomNav").show();});if(Lightbox.rtl==1){$("#bottomNav").css({'float':'left'});}
Lightbox.updateNav();},updateNav:function(){$('#hoverNav').css({'zIndex':'10500'}).show();var prevLink='#prevLink';var nextLink='#nextLink';if(Lightbox.isSlideshow){if((Lightbox.total>1&&Lightbox.loopSlides)||Lightbox.activeImage!==0){$(prevLink).css({'zIndex':'10500'}).show().click(function(){if(Lightbox.pauseOnPrevClick){Lightbox.togglePlayPause("lightshowPause","lightshowPlay");}
Lightbox.changeData(Lightbox.activeImage-1);return false;});}
else{$(prevLink).hide();}
if((Lightbox.total>1&&Lightbox.loopSlides)||Lightbox.activeImage!=(Lightbox.total-1)){$(nextLink).css({'zIndex':'10500'}).show().click(function(){if(Lightbox.pauseOnNextClick){Lightbox.togglePlayPause("lightshowPause","lightshowPlay");}
Lightbox.changeData(Lightbox.activeImage+1);return false;});}
else{$(nextLink).hide();}}
else{if((Lightbox.isLightframe||Lightbox.isModal||Lightbox.isVideo)&&!Lightbox.alternative_layout){$('#frameHoverNav').css({'zIndex':'10500'}).show();$('#hoverNav').css({'zIndex':'10500'}).hide();prevLink='#framePrevLink';nextLink='#frameNextLink';}
if((Lightbox.total>1&&Lightbox.loopItems)||Lightbox.activeImage!==0){$(prevLink).css({'zIndex':'10500'}).show().click(function(){Lightbox.changeData(Lightbox.activeImage-1);return false;});}
else{$(prevLink).hide();}
if((Lightbox.total>1&&Lightbox.loopItems)||Lightbox.activeImage!=(Lightbox.total-1)){$(nextLink).css({'zIndex':'10500'}).show().click(function(){Lightbox.changeData(Lightbox.activeImage+1);return false;});}
else{$(nextLink).hide();}}
if(!Lightbox.isModal){this.enableKeyboardNav();}},enableKeyboardNav:function(){$(document).bind("keydown",this.keyboardAction);},disableKeyboardNav:function(){$(document).unbind("keydown",this.keyboardAction);},keyboardAction:function(e){if(e===null){keycode=event.keyCode;escapeKey=27;}
else{keycode=e.keyCode;escapeKey=e.DOM_VK_ESCAPE;}
key=String.fromCharCode(keycode).toLowerCase();if(Lightbox.checkKey(Lightbox.keysClose,key,keycode)){Lightbox.end('forceClose');}
else if(Lightbox.checkKey(Lightbox.keysPrevious,key,keycode)){if((Lightbox.total>1&&((Lightbox.isSlideshow&&Lightbox.loopSlides)||(!Lightbox.isSlideshow&&Lightbox.loopItems)))||Lightbox.activeImage!==0){Lightbox.changeData(Lightbox.activeImage-1);}}
else if(Lightbox.checkKey(Lightbox.keysNext,key,keycode)){if((Lightbox.total>1&&((Lightbox.isSlideshow&&Lightbox.loopSlides)||(!Lightbox.isSlideshow&&Lightbox.loopItems)))||Lightbox.activeImage!=(Lightbox.total-1)){Lightbox.changeData(Lightbox.activeImage+1);}}
else if(Lightbox.checkKey(Lightbox.keysZoom,key,keycode)&&!Lightbox.disableResize&&!Lightbox.disableZoom&&!Lightbox.isSlideshow&&!Lightbox.isLightframe){if(Lightbox.isZoomedIn){Lightbox.changeData(Lightbox.activeImage,false);}
else if(!Lightbox.isZoomedIn){Lightbox.changeData(Lightbox.activeImage,true);}
return false;}
else if(Lightbox.checkKey(Lightbox.keysPlayPause,key,keycode)&&Lightbox.isSlideshow){if(Lightbox.isPaused){Lightbox.togglePlayPause("lightshowPlay","lightshowPause");}
else{Lightbox.togglePlayPause("lightshowPause","lightshowPlay");}
return false;}},preloadNeighborImages:function(){if((Lightbox.total-1)>Lightbox.activeImage){preloadNextImage=new Image();preloadNextImage.src=Lightbox.imageArray[Lightbox.activeImage+1][0];}
if(Lightbox.activeImage>0){preloadPrevImage=new Image();preloadPrevImage.src=Lightbox.imageArray[Lightbox.activeImage-1][0];}},end:function(caller){var closeClick=(caller=='slideshow'?false:true);if(Lightbox.isSlideshow&&Lightbox.isPaused&&!closeClick){return;}
if(Lightbox.inprogress===true&&caller!='forceClose'){return;}
Lightbox.disableKeyboardNav();$('#lightbox').hide();$("#overlay").fadeOut();Lightbox.isPaused=true;Lightbox.inprogress=false;Lightbox.toggleSelectsFlash('visible');if(Lightbox.isSlideshow){for(var i=0;i<Lightbox.slideIdCount;i++){window.clearTimeout(Lightbox.slideIdArray[i]);}
$('#lightshowPause, #lightshowPlay').hide();}
else if(Lightbox.isLightframe){$('#frameContainer').empty().hide();}
else if(Lightbox.isVideo||Lightbox.isModal){$('#modalContainer').hide().html("");}},getPageScroll:function(){var xScroll,yScroll;if(self.pageYOffset){yScroll=self.pageYOffset;xScroll=self.pageXOffset;}
else if(document.documentElement&&document.documentElement.scrollTop){yScroll=document.documentElement.scrollTop;xScroll=document.documentElement.scrollLeft;}
else if(document.body){yScroll=document.body.scrollTop;xScroll=document.body.scrollLeft;}
arrayPageScroll=[xScroll,yScroll];return arrayPageScroll;},getPageSize:function(){var xScroll,yScroll;if(document.body.scrollHeight>document.body.offsetHeight){xScroll=document.body.scrollWidth;yScroll=document.body.scrollHeight;}
else if(window.innerHeight&&window.scrollMaxY){xScroll=window.innerWidth+window.scrollMaxX;yScroll=window.innerHeight+window.scrollMaxY;}
else{xScroll=document.body.offsetWidth;yScroll=document.body.offsetHeight;}
var windowWidth,windowHeight;if(self.innerHeight){if(document.documentElement.clientWidth){windowWidth=document.documentElement.clientWidth;}
else{windowWidth=self.innerWidth;}
windowHeight=self.innerHeight;}
else if(document.documentElement&&document.documentElement.clientHeight){windowWidth=document.documentElement.clientWidth;windowHeight=document.documentElement.clientHeight;}
else if(document.body){windowWidth=document.body.clientWidth;windowHeight=document.body.clientHeight;}
if(yScroll<windowHeight){pageHeight=windowHeight;}
else{pageHeight=yScroll;}
if(xScroll<windowWidth){pageWidth=windowWidth;}
else{pageWidth=xScroll;}
arrayPageSize=[pageWidth,pageHeight,windowWidth,windowHeight];return arrayPageSize;},pause:function(ms){var date=new Date();var curDate=null;do{curDate=new Date();}
while(curDate-date<ms);},toggleSelectsFlash:function(state){if(state=='visible'){$("select.lightbox_hidden, embed.lightbox_hidden, object.lightbox_hidden").show();}
else if(state=='hide'){$("select:visible, embed:visible, object:visible").addClass("lightbox_hidden");$("select.lightbox_hidden, embed.lightbox_hidden, object.lightbox_hidden").hide();}},parseRel:function(link){var parts=[];parts["rel"]=parts["title"]=parts["group"]=parts["style"]=null;if(!$(link).attr('rel'))return parts;parts["rel"]=$(link).attr('rel').match(/\w+/)[0];if($(link).attr('rel').match(/\[(.*)\]/)){var info=$(link).attr('rel').match(/\[(.*?)\]/)[1].split('|');parts["group"]=info[0];parts["style"]=info[1];}
if($(link).attr('rel').match(/\[.*\]\[(.*)\]/)){parts["title"]=$(link).attr('rel').match(/\[.*\]\[(.*)\]/)[1];}
return parts;},setStyles:function(item,styles){item.width=Lightbox.iframe_width;item.height=Lightbox.iframe_height;item.scrolling="auto";if(!styles)return item;var stylesArray=styles.split(';');for(var i=0;i<stylesArray.length;i++){if(stylesArray[i].indexOf('width:')>=0){var w=stylesArray[i].replace('width:','');item.width=jQuery.trim(w);}
else if(stylesArray[i].indexOf('height:')>=0){var h=stylesArray[i].replace('height:','');item.height=jQuery.trim(h);}
else if(stylesArray[i].indexOf('scrolling:')>=0){var scrolling=stylesArray[i].replace('scrolling:','');item.scrolling=jQuery.trim(scrolling);}
else if(stylesArray[i].indexOf('overflow:')>=0){var overflow=stylesArray[i].replace('overflow:','');item.overflow=jQuery.trim(overflow);}}
return item;},togglePlayPause:function(hideId,showId){if(Lightbox.isSlideshow&&hideId=="lightshowPause"){for(var i=0;i<Lightbox.slideIdCount;i++){window.clearTimeout(Lightbox.slideIdArray[i]);}}
$('#'+hideId).hide();$('#'+showId).show();if(hideId=="lightshowPlay"){Lightbox.isPaused=false;if(!Lightbox.loopSlides&&Lightbox.activeImage==(Lightbox.total-1)){Lightbox.end();}
else if(Lightbox.total>1){Lightbox.changeData(Lightbox.activeImage+1);}}
else{Lightbox.isPaused=true;}},triggerLightbox:function(rel_type,rel_group){if(rel_type.length){if(rel_group&&rel_group.length){$("a[@rel^='"+rel_type+"\["+rel_group+"\]'], area[@rel^='"+rel_type+"\["+rel_group+"\]']").eq(0).trigger("click");}
else{$("a[@rel^='"+rel_type+"'], area[@rel^='"+rel_type+"']").eq(0).trigger("click");}}},detectMacFF2:function(){var ua=navigator.userAgent.toLowerCase();if(/firefox[\/\s](\d+\.\d+)/.test(ua)){var ffversion=new Number(RegExp.$1);if(ffversion<3&&ua.indexOf('mac')!=-1){return true;}}
return false;},checkKey:function(keys,key,code){return(jQuery.inArray(key,keys)!=-1||jQuery.inArray(String(code),keys)!=-1);}};Drupal.behaviors.initLightbox=function(context){$('body:not(.lightbox-processed)',context).addClass('lightbox-processed').each(function(){Lightbox.initialize();$('#lightboxAutoModal').triggerHandler('click');return false;});Lightbox.initList();};;if(document.all&&!window.opera&&(navigator.appVersion.search("MSIE 6.0")!=-1)&&$.browser.msie){function IEHoverPseudo(){$("ul.nice-menu li.menuparent").hover(function(){$(this).addClass("over").find("> ul").show().addShim();},function(){$(this).removeClass("over").find("> ul").removeShim().hide();});$("ul.nice-menu li").hover(function(){$(this).addClass("ie-over");},function(){$(this).removeClass("ie-over");});}
$(document).ready(function(){IEHoverPseudo()});}
$.fn.addShim=function(){return this.each(function(){if(document.all&&$("select").size()>0){var ifShim=document.createElement('iframe');ifShim.src="javascript:false";ifShim.style.width=$(this).width()+1+"px";ifShim.style.height=$(this).find("> li").size()*23+20+"px";ifShim.style.filter="progid:DXImageTransform.Microsoft.Alpha(style=0,opacity=0)";ifShim.style.zIndex="0";$(this).prepend(ifShim);$(this).css("zIndex","99");}});};$.fn.removeShim=function(){return this.each(function(){if(document.all)$("iframe",this).remove();});};;function formFakeSubmit(el){setTimeout("$('"+el+"').unbind('click'); $('"+el+"').click();",1000);};packt_get_external_link=function(){if($('#edit-page').val()==''){$('#edit-page').addClass('error');return false;}
if($('#edit-domain-id').val()==''){$('#edit-domain-id').addClass('error');return false;}
if($('#edit-name').val()==''){$('#edit-name').addClass('error');return false;}
if($('#edit-type').val()==''){$('#edit-type').addClass('error');return false;}
$.ajax({url:'/account/affiliate/generate_link',cache:false,type:'POST',data:{name:$('#edit-name').val(),type:$('#edit-type').val(),domain_id:$('#edit-domain-id').val(),link:$('#edit-page').val()},success:function(data,status,xhr){data=eval("("+data+")");if(status=='success'){if(data.link!==false){$('#affiliate_link_preview .inner')[0].innerHTML=data.link;$('#affiliate_link_text').show();$('#edit-save').show();$('#edit-link').val(data.link);$('#affiliate_link_preview').show();if(typeof(descm)!='undefined'){$('#edit-page-wrapper div.description').html(descm);$('#edit-page').removeClass('error');}}else{$('#edit-page').addClass('error');if(typeof(descm)=='undefined'){descm=$('#edit-page-wrapper div.description').html();}
$('#edit-page-wrapper div.description').html(descm+"<p class='error'><strong>Please enter a valid link to a currently available page on the site.</strong></p>");$('#affiliate_link_text').hide();$('#affiliate_link_preview').hide();$('#edit-save').hide();$('#edit-link').val("");}}else{console.log("Failed AJAX call");}}});}
packt_aff_switch_form=function(element){if($(element).val()=='paypal'){$('#bank').hide();$('#paypal').show();}else if($(element).val()=='bank'){$('#bank').show();$('#paypal').hide();}else{$('#bank').hide();$('#paypal').hide();}};var packt_cat={init:function(){$(document).ready(function(){$('#packt-categorypages-cat-search-form #edit-types').change(function(){packt_cat.changeCheckbox(this);});});},changeCheckbox:function(t){$('.solr-book-options .form-item').hide();if($(t).val()==1||$(t).val()==2){$('.solr-book-options .form-item').show();}}};packt_cat.init();;packthadoop={init:function(){$(document).ready(function(){$('.hadoop-offer-wrapper input[type=radio]').click(function(){packthadoop.switchForms(this);});});},switchForms:function(ele){$(ele).parent().find('form').parent().removeClass('hidden').addClass('hidden');if($(ele).attr('class')=='bundle_enabler'){$(ele).parent().find(".add-to-cart-button.bundle").removeClass('hidden');}else{$(ele).parent().find(".add-to-cart-button.ebook").removeClass('hidden');}}};packthadoop.init();;jQuery(document).ready(function(){if($('#boxy-content-video').length>0){boxy_video_help=new Boxy($('#boxy-content-video').html(),{show:false,afterShow:function(){$('.boxy-video-close').click(function(){boxy_video_help.hide();});}});$('div.video-download-button').click(function(){boxy_video_help.show();});}});;(function($,window,document,undefined){var $window=$(window);$.fn.lazyload=function(options){var elements=this;var $container;var settings={threshold:0,failure_limit:6,event:"scroll",effect:"show",container:window,data_attribute:"original",skip_invisible:true,appear:null,load:null};function update(){var counter=0;elements.each(function(){var $this=$(this);if(settings.skip_invisible&&!$this.is(":visible")){return;}
if($.abovethetop(this,settings)||$.leftofbegin(this,settings)){}else if(!$.belowthefold(this,settings)&&!$.rightoffold(this,settings)){$this.trigger("appear");counter=0;}else{if(++counter>settings.failure_limit){return false;}}});}
if(options){if(undefined!==options.failurelimit){options.failure_limit=options.failurelimit;delete options.failurelimit;}
if(undefined!==options.effectspeed){options.effect_speed=options.effectspeed;delete options.effectspeed;}
$.extend(settings,options);}
$container=(settings.container===undefined||settings.container===window)?$window:$(settings.container);if(0===settings.event.indexOf("scroll")){$container.bind(settings.event,function(event){return update();});}
this.each(function(){var self=this;var $self=$(self);self.loaded=false;$self.one("appear",function(){if(!this.loaded){if(settings.appear){var elements_left=elements.length;settings.appear.call(self,elements_left,settings);}
$("<img />").bind("load",function(){$self.hide().attr("src",$self.attr('data-'+settings.data_attribute))
[settings.effect](settings.effect_speed);self.loaded=true;var temp=$.grep(elements,function(element){return!element.loaded;});elements=$(temp);if(settings.load){var elements_left=elements.length;settings.load.call(self,elements_left,settings);}}).attr("src",$self.attr('data-'+settings.data_attribute));}});if(0!==settings.event.indexOf("scroll")){$self.bind(settings.event,function(event){if(!self.loaded){$self.trigger("appear");}});}});jQuery(window).load(function(){update();});$window.bind("resize",function(event){update();});if((/iphone|ipod|ipad.*os 5/gi).test(navigator.appVersion)){$window.bind("pageshow",function(event){if(event.originalEvent.persisted){elements.each(function(){$(this).trigger("appear");});}});}
update();return this;};$.belowthefold=function(element,settings){var fold;if(settings.container===undefined||settings.container===window){fold=$window.height()+$window.scrollTop();}else{fold=$(settings.container).offset().top+$(settings.container).height();}
return fold<=$(element).offset().top-settings.threshold;};$.rightoffold=function(element,settings){var fold;if(settings.container===undefined||settings.container===window){fold=$window.width()+$window.scrollLeft();}else{fold=$(settings.container).offset().left+$(settings.container).width();}
return fold<=$(element).offset().left-settings.threshold;};$.abovethetop=function(element,settings){var fold;if(settings.container===undefined||settings.container===window){fold=$window.scrollTop();}else{fold=$(settings.container).offset().top;}
return fold>=$(element).offset().top+settings.threshold+$(element).height();};$.leftofbegin=function(element,settings){var fold;if(settings.container===undefined||settings.container===window){fold=$window.scrollLeft();}else{fold=$(settings.container).offset().left;}
return fold>=$(element).offset().left+settings.threshold+$(element).width();};$.inviewport=function(element,settings){return!$.rightoffold(element,settings)&&!$.leftofbegin(element,settings)&&!$.belowthefold(element,settings)&&!$.abovethetop(element,settings);};$.extend($.expr[':'],{"below-the-fold":function(a){return $.belowthefold(a,{threshold:0});},"above-the-top":function(a){return!$.belowthefold(a,{threshold:0});},"right-of-screen":function(a){return $.rightoffold(a,{threshold:0});},"left-of-screen":function(a){return!$.rightoffold(a,{threshold:0});},"in-viewport":function(a){return $.inviewport(a,{threshold:0});},"above-the-fold":function(a){return!$.belowthefold(a,{threshold:0});},"right-of-fold":function(a){return $.rightoffold(a,{threshold:0});},"left-of-fold":function(a){return!$.rightoffold(a,{threshold:0});}});})(jQuery,window,document);;eval(function(p,a,c,k,e,r){e=function(c){return(c<a?'':e(parseInt(c/a)))+((c=c%a)>35?String.fromCharCode(c+29):c.toString(36))};if(!''.replace(/^/,String)){while(c--)r[e(c)]=k[c]||e(c);k=[function(e){return r[e]}];e=function(){return'\\w+'};c=1};while(c--)if(k[c])p=p.replace(new RegExp('\\b'+e(c)+'\\b','g'),k[c]);return p}('(5($){$.7.1j=5(o){2(P o==\'5\')o={L:o};o=$.2h({1h:4.X(\'2i\')||1E.2u.3D(),I:4.X(\'2g\')||\'29\'},o||{});3 p={};$.M.N(\'R.2P.2L\',[4,o,p]);2(p.1Q)6 4;3 a=4.1z(o.2r);2(o.V){H(3 n 3u o.V)a.C({z:n,A:o.V[n]})}2(o.28&&o.28(a,4,o)===E)6 4;$.M.N(\'R.K.36\',[a,4,o,p]);2(p.1Q)6 4;3 q=$.1x(a);2(o.I.31()==\'29\'){o.1h+=(o.1h.2Z(\'?\')>=0?\'&\':\'?\')+q;o.V=B}8 o.V=q;3 r=4,U=[];2(o.1r)U.C(5(){r.1r()});2(o.1o)U.C(5(){r.1o()});2(!o.18&&o.14){3 u=o.L||5(){};U.C(5(a){2(4.1N)$(o.14).X("1M",a).1N().D(u,1L);8 $(o.14).2t(a).D(u,1L)})}8 2(o.L)U.C(o.L);o.L=5(a,b){H(3 i=0,F=U.G;i<F;i++)U[i](a,b,r)};3 v=$(\'19:3v\',4).15();3 w=E;H(3 j=0;j<v.G;j++)2(v[j])w=T;2(o.2f||w){2($.1i.3o&&o.2a)$.3l(o.2a,1l);8 1l()}8 $.3h(o);$.M.N(\'R.K.3f\',[4,o]);6 4;5 1l(){3 d=r[0];3 f=$.2h({},$.39,o);3 h=\'35\'+$.7.1j.1a++;3 i=$(\'<2f 33="\'+h+\'" z="\'+h+\'" />\');3 j=i[0];3 k=$.1i.20&&1E.20.30()<9;2($.1i.1X||k)j.2Y=\'2W:E;1w.2U("");\';i.2S({2R:\'2Q\',23:\'-24\',1R:\'-24\'});3 l={Z:B,1b:B,2K:0,2J:\'n/a\',2H:5(){},2F:5(){},2E:5(){}};3 g=f.2B;2(g&&!$.1O++)$.M.N("2x");2(g)$.M.N("2w",[l,f]);3 m=0;3 n=0;1f(5(){i.2v(\'1n\');j.1K?j.1K(\'1J\',12):j.2s(\'1I\',12,E);3 a=d.1H?\'1H\':\'2q\';3 t=r.X(\'14\');r.X({14:h,2g:\'3C\',2i:f.1h});d[a]=\'3B/R-V\';2(f.1G)1f(5(){n=T;12()},f.1G);d.K();r.X(\'14\',t)},10);5 12(){2(m++)6;j.2o?j.2o(\'1J\',12):j.3A(\'1I\',12,E);3 a=T;3z{2(n)3x\'1G\';3 b,O;O=j.2n?j.2n.1w:j.2l?j.2l:j.1w;l.Z=O.1n?O.1n.1M:B;l.1b=O.2k?O.2k:O;2(f.18==\'2j\'||f.18==\'3s\'){3 c=O.1D(\'1C\')[0];b=c?c.A:l.Z;2(f.18==\'2j\')3r("V = "+b);8 $.3q(b)}8 2(f.18==\'2m\'){b=l.1b;2(!b&&l.Z!=B)b=2d(l.Z)}8{b=l.Z}}3p(e){a=E;$.3n(f,l,\'2b\',e)}2(a){f.L(b,\'L\');2(g)$.M.N("3m",[l,f])}2(g)$.M.N("3k",[l,f]);2(g&&!--$.1O)$.M.N("3j");2(f.27)f.27(l,a?\'L\':\'2b\');1f(5(){i.3i();l.1b=B},3g)};5 2d(s,a){2(1E.26){a=25 26(\'3d.3c\');a.3b=\'E\';a.3a(s)}8 a=(25 38()).37(s,\'1A/2m\');6(a&&a.22&&a.22.1e!=\'34\')?a:B}}};$.7.1j.1a=0;$.7.W=5(a){6 4.21().K(1m).D(5(){4.1u=$.7.W.1a++;$.7.W.1t[4.1u]=a;$(":K,19:Y",4).1Z(1s)})};$.7.W.1a=1;$.7.W.1t={};5 1s(e){3 a=4.R;a.Q=4;2(4.I==\'Y\'){2(e.1Y!=S){a.11=e.1Y;a.16=e.2X}8 2(P $.7.1U==\'5\'){3 b=$(4).1U();a.11=e.1V-b.1R;a.16=e.1W-b.23}8{a.11=e.1V-4.2V;a.16=e.1W-4.32}}1f(5(){a.Q=a.11=a.16=B},10)};5 1m(){3 a=4.1u;3 b=$.7.W.1t[a];$(4).1j(b);6 E};$.7.21=5(){4.1T(\'K\',1m);6 4.D(5(){$(":K,19:Y",4).1T(\'1Z\',1s)})};$.7.1z=5(b){3 a=[];2(4.G==0)6 a;3 c=4[0];3 d=b?c.1D(\'*\'):c.2T;2(!d)6 a;H(3 i=0,F=d.G;i<F;i++){3 e=d[i];3 n=e.z;2(!n)1v;2(b&&c.Q&&e.I=="Y"){2(!e.1d&&c.Q==e)a.C({z:n+\'.x\',A:c.11},{z:n+\'.y\',A:c.16});1v}3 v=$.15(e,T);2(v&&v.1c==1g){H(3 j=0,1S=v.G;j<1S;j++)a.C({z:n,A:v[j]})}8 2(v!==B&&P v!=\'S\')a.C({z:n,A:v})}2(!b&&c.Q){3 f=c.1D("19");H(3 i=0,F=f.G;i<F;i++){3 g=f[i];3 n=g.z;2(n&&!g.1d&&g.I=="Y"&&c.Q==g)a.C({z:n+\'.x\',A:c.11},{z:n+\'.y\',A:c.16})}}6 a};$.7.2O=5(a){6 $.1x(4.1z(a))};$.7.2N=5(b){3 a=[];4.D(5(){3 n=4.z;2(!n)6;3 v=$.15(4,b);2(v&&v.1c==1g){H(3 i=0,F=v.G;i<F;i++)a.C({z:n,A:v[i]})}8 2(v!==B&&P v!=\'S\')a.C({z:4.z,A:v})});6 $.1x(a)};$.7.15=5(a){H(3 b=[],i=0,F=4.G;i<F;i++){3 c=4[i];3 v=$.15(c,a);2(v===B||P v==\'S\'||(v.1c==1g&&!v.G))1v;v.1c==1g?$.3e(b,v):b.C(v)}6 b};$.15=5(b,c){3 n=b.z,t=b.I,13=b.1e.1F();2(P c==\'S\')c=T;2(c&&(!n||b.1d||t==\'17\'||t==\'2M\'||(t==\'1q\'||t==\'1B\')&&!b.1p||(t==\'K\'||t==\'Y\')&&b.R&&b.R.Q!=b||13==\'J\'&&b.1y==-1))6 B;2(13==\'J\'){3 d=b.1y;2(d<0)6 B;3 a=[],1k=b.2I;3 e=(t==\'J-2e\');3 f=(e?d+1:1k.G);H(3 i=(e?d:0);i<f;i++){3 g=1k[i];2(g.2c){3 v=$.1i.1X&&!(g.2G[\'A\'].3t)?g.1A:g.A;2(e)6 v;a.C(v)}}6 a}6 b.A};$.7.1o=5(){6 4.D(5(){$(\'19,J,1C\',4).2p()})};$.7.2p=$.7.2D=5(){6 4.D(5(){3 t=4.I,13=4.1e.1F();2(t==\'1A\'||t==\'3w\'||13==\'1C\')4.A=\'\';8 2(t==\'1q\'||t==\'1B\')4.1p=E;8 2(13==\'J\')4.1y=-1})};$.7.1r=5(){6 4.D(5(){2(P 4.17==\'5\'||(P 4.17==\'2C\'&&!4.17.3y))4.17()})};$.7.2A=5(b){2(b==S)b=T;6 4.D(5(){4.1d=!b})};$.7.J=5(b){2(b==S)b=T;6 4.D(5(){3 t=4.I;2(t==\'1q\'||t==\'1B\')4.1p=b;8 2(4.1e.1F()==\'1P\'){3 a=$(4).2z(\'J\');2(b&&a[0]&&a[0].I==\'J-2e\'){a.2y(\'1P\').J(E)}4.2c=b}})}})(3E);',62,227,'||if|var|this|function|return|fn|else|||||||||||||||||||||||||||name|value|null|push|each|false|max|length|for|type|select|submit|success|event|trigger|doc|typeof|clk|form|undefined|true|callbacks|data|ajaxForm|attr|image|responseText||clk_x|cb|tag|target|fieldValue|clk_y|reset|dataType|input|counter|responseXML|constructor|disabled|tagName|setTimeout|Array|url|browser|ajaxSubmit|ops|fileUpload|submitHandler|body|clearForm|checked|checkbox|resetForm|clickHandler|optionHash|formPluginId|continue|document|param|selectedIndex|formToArray|text|radio|textarea|getElementsByTagName|window|toLowerCase|timeout|encoding|load|onload|attachEvent|arguments|innerHTML|evalScripts|active|option|veto|left|jmax|unbind|offset|pageX|pageY|msie|offsetX|click|opera|ajaxFormUnbind|documentElement|top|1000px|new|ActiveXObject|complete|beforeSubmit|GET|closeKeepAlive|error|selected|toXml|one|iframe|method|extend|action|json|XMLDocument|contentDocument|xml|contentWindow|detachEvent|clearFields|enctype|semantic|addEventListener|html|location|appendTo|ajaxSend|ajaxStart|find|parent|enable|global|object|clearInputs|setRequestHeader|getResponseHeader|attributes|getAllResponseHeaders|options|statusText|status|serialize|button|fieldSerialize|formSerialize|pre|absolute|position|css|elements|write|offsetLeft|javascript|offsetY|src|indexOf|version|toUpperCase|offsetTop|id|parsererror|jqFormIO|validate|parseFromString|DOMParser|ajaxSettings|loadXML|async|XMLDOM|Microsoft|merge|notify|100|ajax|remove|ajaxStop|ajaxComplete|get|ajaxSuccess|handleError|safari|catch|globalEval|eval|script|specified|in|file|password|throw|nodeType|try|removeEventListener|multipart|POST|toString|jQuery'.split('|'),0,{}));(function(c){c.extend(c.fn,{validate:function(a){if(this.length){var b=c.data(this[0],"validator");if(b)return b;b=new c.validator(a,this[0]);c.data(this[0],"validator",b);if(b.settings.onsubmit){this.find("input, button").filter(".cancel").click(function(){b.cancelSubmit=true});b.settings.submitHandler&&this.find("input, button").filter(":submit").click(function(){b.submitButton=this});this.submit(function(d){function e(){if(b.settings.submitHandler){if(b.submitButton)var f=c("<input type='hidden'/>").attr("name",b.submitButton.name).val(b.submitButton.value).appendTo(b.currentForm);b.settings.submitHandler.call(b,b.currentForm);b.submitButton&&f.remove();return false}return true}b.settings.debug&&d.preventDefault();if(b.cancelSubmit){b.cancelSubmit=false;return e()}if(b.form()){if(b.pendingRequest){b.formSubmitted=true;return false}return e()}else{b.focusInvalid();return false}})}return b}else a&&a.debug&&window.console&&console.warn("nothing selected, can't validate, returning nothing")},valid:function(){if(c(this[0]).is("form"))return this.validate().form();else{var a=true,b=c(this[0].form).validate();this.each(function(){a&=b.element(this)});return a}},removeAttrs:function(a){var b={},d=this;c.each(a.split(/\s/),function(e,f){b[f]=d.attr(f);d.removeAttr(f)});return b},rules:function(a,b){var d=this[0];if(a){var e=c.data(d.form,"validator").settings,f=e.rules,g=c.validator.staticRules(d);switch(a){case"add":c.extend(g,c.validator.normalizeRule(b));f[d.name]=g;if(b.messages)e.messages[d.name]=c.extend(e.messages[d.name],b.messages);break;case"remove":if(!b){delete f[d.name];return g}var h={};c.each(b.split(/\s/),function(j,i){h[i]=g[i];delete g[i]});return h}}d=c.validator.normalizeRules(c.extend({},c.validator.metadataRules(d),c.validator.classRules(d),c.validator.attributeRules(d),c.validator.staticRules(d)),d);if(d.required){e=d.required;delete d.required;d=c.extend({required:e},d)}return d}});c.extend(c.expr[":"],{blank:function(a){return!c.trim(""+a.value)},filled:function(a){return!!c.trim(""+a.value)},unchecked:function(a){return!a.checked}});c.validator=function(a,b){this.settings=c.extend(true,{},c.validator.defaults,a);this.currentForm=b;this.init()};c.validator.format=function(a,b){if(arguments.length==1)return function(){var d=c.makeArray(arguments);d.unshift(a);return c.validator.format.apply(this,d)};if(arguments.length>2&&b.constructor!=Array)b=c.makeArray(arguments).slice(1);if(b.constructor!=Array)b=[b];c.each(b,function(d,e){a=a.replace(RegExp("\\{"+d+"\\}","g"),e)});return a};c.extend(c.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",validClass:"valid",errorElement:"label",focusInvalid:true,errorContainer:c([]),errorLabelContainer:c([]),onsubmit:true,ignore:[],ignoreTitle:false,onfocusin:function(a){this.lastActive=a;if(this.settings.focusCleanup&&!this.blockFocusCleanup){this.settings.unhighlight&&this.settings.unhighlight.call(this,a,this.settings.errorClass,this.settings.validClass);this.addWrapper(this.errorsFor(a)).hide()}},onfocusout:function(a){if(!this.checkable(a)&&(a.name in this.submitted||!this.optional(a)))this.element(a)},onkeyup:function(a){if(a.name in this.submitted||a==this.lastElement)this.element(a)},onclick:function(a){if(a.name in this.submitted)this.element(a);else a.parentNode.name in this.submitted&&this.element(a.parentNode)},highlight:function(a,b,d){a.type==="radio"?this.findByName(a.name).addClass(b).removeClass(d):c(a).addClass(b).removeClass(d)},unhighlight:function(a,b,d){a.type==="radio"?this.findByName(a.name).removeClass(b).addClass(d):c(a).removeClass(b).addClass(d)}},setDefaults:function(a){c.extend(c.validator.defaults,a)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date (ISO).",number:"Please enter a valid number.",digits:"Please enter only digits.",creditcard:"Please enter a valid credit card number.",equalTo:"Please enter the same value again.",accept:"Please enter a value with a valid extension.",maxlength:c.validator.format("Please enter no more than {0} characters."),minlength:c.validator.format("Please enter at least {0} characters."),rangelength:c.validator.format("Please enter a value between {0} and {1} characters long."),range:c.validator.format("Please enter a value between {0} and {1}."),max:c.validator.format("Please enter a value less than or equal to {0}."),min:c.validator.format("Please enter a value greater than or equal to {0}.")},autoCreateRanges:false,prototype:{init:function(){function a(e){var f=c.data(this[0].form,"validator");e="on"+e.type.replace(/^validate/,"");f.settings[e]&&f.settings[e].call(f,this[0])}this.labelContainer=c(this.settings.errorLabelContainer);this.errorContext=this.labelContainer.length&&this.labelContainer||c(this.currentForm);this.containers=c(this.settings.errorContainer).add(this.settings.errorLabelContainer);this.submitted={};this.valueCache={};this.pendingRequest=0;this.pending={};this.invalid={};this.reset();var b=this.groups={};c.each(this.settings.groups,function(e,f){c.each(f.split(/\s/),function(g,h){b[h]=e})});var d=this.settings.rules;c.each(d,function(e,f){d[e]=c.validator.normalizeRule(f)});c(this.currentForm).validateDelegate(":text, :password, :file, select, textarea","focusin focusout keyup",a).validateDelegate(":radio, :checkbox, select, option","click",a);this.settings.invalidHandler&&c(this.currentForm).bind("invalid-form.validate",this.settings.invalidHandler)},form:function(){this.checkForm();c.extend(this.submitted,this.errorMap);this.invalid=c.extend({},this.errorMap);this.valid()||c(this.currentForm).triggerHandler("invalid-form",[this]);this.showErrors();return this.valid()},checkForm:function(){this.prepareForm();for(var a=0,b=this.currentElements=this.elements();b[a];a++)this.check(b[a]);return this.valid()},element:function(a){this.lastElement=a=this.clean(a);this.prepareElement(a);this.currentElements=c(a);var b=this.check(a);if(b)delete this.invalid[a.name];else this.invalid[a.name]=true;if(!this.numberOfInvalids())this.toHide=this.toHide.add(this.containers);this.showErrors();return b},showErrors:function(a){if(a){c.extend(this.errorMap,a);this.errorList=[];for(var b in a)this.errorList.push({message:a[b],element:this.findByName(b)[0]});this.successList=c.grep(this.successList,function(d){return!(d.name in a)})}this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){c.fn.resetForm&&c(this.currentForm).resetForm();this.submitted={};this.prepareForm();this.hideErrors();this.elements().removeClass(this.settings.errorClass)},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(a){var b=0,d;for(d in a)b++;return b},hideErrors:function(){this.addWrapper(this.toHide).hide()},valid:function(){return this.size()==0},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid)try{c(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(a){}},findLastActive:function(){var a=this.lastActive;return a&&c.grep(this.errorList,function(b){return b.element.name==a.name}).length==1&&a},elements:function(){var a=this,b={};return c(this.currentForm).find("input, select, textarea").not(":submit, :reset, :image, [disabled]").not(this.settings.ignore).filter(function(){!this.name&&a.settings.debug&&window.console&&console.error("%o has no name assigned",this);if(this.name in b||!a.objectLength(c(this).rules()))return false;return b[this.name]=true})},clean:function(a){return c(a)[0]},errors:function(){return c(this.settings.errorElement+"."+this.settings.errorClass,this.errorContext)},reset:function(){this.successList=[];this.errorList=[];this.errorMap={};this.toShow=c([]);this.toHide=c([]);this.currentElements=c([])},prepareForm:function(){this.reset();this.toHide=this.errors().add(this.containers)},prepareElement:function(a){this.reset();this.toHide=this.errorsFor(a)},check:function(a){a=this.clean(a);if(this.checkable(a))a=this.findByName(a.name).not(this.settings.ignore)[0];var b=c(a).rules(),d=false,e;for(e in b){var f={method:e,parameters:b[e]};try{var g=c.validator.methods[e].call(this,a.value.replace(/\r/g,""),a,f.parameters);if(g=="dependency-mismatch")d=true;else{d=false;if(g=="pending"){this.toHide=this.toHide.not(this.errorsFor(a));return}if(!g){this.formatAndAdd(a,f);return false}}}catch(h){this.settings.debug&&window.console&&console.log("exception occured when checking element "+a.id+", check the '"+f.method+"' method",h);throw h;}}if(!d){this.objectLength(b)&&this.successList.push(a);return true}},customMetaMessage:function(a,b){if(c.metadata){var d=this.settings.meta?c(a).metadata()[this.settings.meta]:c(a).metadata();return d&&d.messages&&d.messages[b]}},customMessage:function(a,b){var d=this.settings.messages[a];return d&&(d.constructor==String?d:d[b])},findDefined:function(){for(var a=0;a<arguments.length;a++)if(arguments[a]!==undefined)return arguments[a]},defaultMessage:function(a,b){return this.findDefined(this.customMessage(a.name,b),this.customMetaMessage(a,b),!this.settings.ignoreTitle&&a.title||undefined,c.validator.messages[b],"<strong>Warning: No message defined for "+
a.name+"</strong>")},formatAndAdd:function(a,b){var d=this.defaultMessage(a,b.method),e=/\$?\{(\d+)\}/g;if(typeof d=="function")d=d.call(this,b.parameters,a);else if(e.test(d))d=jQuery.format(d.replace(e,"{$1}"),b.parameters);this.errorList.push({message:d,element:a});this.errorMap[a.name]=d;this.submitted[a.name]=d},addWrapper:function(a){if(this.settings.wrapper)a=a.add(a.parent(this.settings.wrapper));return a},defaultShowErrors:function(){for(var a=0;this.errorList[a];a++){var b=this.errorList[a];this.settings.highlight&&this.settings.highlight.call(this,b.element,this.settings.errorClass,this.settings.validClass);this.showLabel(b.element,b.message)}if(this.errorList.length)this.toShow=this.toShow.add(this.containers);if(this.settings.success)for(a=0;this.successList[a];a++)this.showLabel(this.successList[a]);if(this.settings.unhighlight){a=0;for(b=this.validElements();b[a];a++)this.settings.unhighlight.call(this,b[a],this.settings.errorClass,this.settings.validClass)}this.toHide=this.toHide.not(this.toShow);this.hideErrors();this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return c(this.errorList).map(function(){return this.element})},showLabel:function(a,b){var d=this.errorsFor(a);if(d.length){d.removeClass().addClass(this.settings.errorClass);d.attr("generated")&&d.html(b)}else{d=c("<"+this.settings.errorElement+"/>").attr({"for":this.idOrName(a),generated:true}).addClass(this.settings.errorClass).html(b||"");if(this.settings.wrapper)d=d.hide().show().wrap("<"+this.settings.wrapper+"/>").parent();this.labelContainer.append(d).length||(this.settings.errorPlacement?this.settings.errorPlacement(d,c(a)):d.insertAfter(a))}if(!b&&this.settings.success){d.text("");typeof this.settings.success=="string"?d.addClass(this.settings.success):this.settings.success(d)}this.toShow=this.toShow.add(d)},errorsFor:function(a){var b=this.idOrName(a);return this.errors().filter(function(){return c(this).attr("for")==b})},idOrName:function(a){return this.groups[a.name]||(this.checkable(a)?a.name:a.id||a.name)},checkable:function(a){return/radio|checkbox/i.test(a.type)},findByName:function(a){var b=this.currentForm;return c(document.getElementsByName(a)).map(function(d,e){return e.form==b&&e.name==a&&e||null})},getLength:function(a,b){switch(b.nodeName.toLowerCase()){case"select":return c("option:selected",b).length;case"input":if(this.checkable(b))return this.findByName(b.name).filter(":checked").length}return a.length},depend:function(a,b){return this.dependTypes[typeof a]?this.dependTypes[typeof a](a,b):true},dependTypes:{"boolean":function(a){return a},string:function(a,b){return!!c(a,b.form).length},"function":function(a,b){return a(b)}},optional:function(a){return!c.validator.methods.required.call(this,c.trim(a.value),a)&&"dependency-mismatch"},startRequest:function(a){if(!this.pending[a.name]){this.pendingRequest++;this.pending[a.name]=true}},stopRequest:function(a,b){this.pendingRequest--;if(this.pendingRequest<0)this.pendingRequest=0;delete this.pending[a.name];if(b&&this.pendingRequest==0&&this.formSubmitted&&this.form()){c(this.currentForm).submit();this.formSubmitted=false}else if(!b&&this.pendingRequest==0&&this.formSubmitted){c(this.currentForm).triggerHandler("invalid-form",[this]);this.formSubmitted=false}},previousValue:function(a){return c.data(a,"previousValue")||c.data(a,"previousValue",{old:null,valid:true,message:this.defaultMessage(a,"remote")})}},classRuleSettings:{required:{required:true},email:{email:true},url:{url:true},date:{date:true},dateISO:{dateISO:true},dateDE:{dateDE:true},number:{number:true},numberDE:{numberDE:true},digits:{digits:true},creditcard:{creditcard:true}},addClassRules:function(a,b){a.constructor==String?this.classRuleSettings[a]=b:c.extend(this.classRuleSettings,a)},classRules:function(a){var b={};(a=c(a).attr("class"))&&c.each(a.split(" "),function(){this in c.validator.classRuleSettings&&c.extend(b,c.validator.classRuleSettings[this])});return b},attributeRules:function(a){var b={};a=c(a);for(var d in c.validator.methods){var e=a.attr(d);if(e)b[d]=e}b.maxlength&&/-1|2147483647|524288/.test(b.maxlength)&&delete b.maxlength;return b},metadataRules:function(a){if(!c.metadata)return{};var b=c.data(a.form,"validator").settings.meta;return b?c(a).metadata()[b]:c(a).metadata()},staticRules:function(a){var b={},d=c.data(a.form,"validator");if(d.settings.rules)b=c.validator.normalizeRule(d.settings.rules[a.name])||{};return b},normalizeRules:function(a,b){c.each(a,function(d,e){if(e===false)delete a[d];else if(e.param||e.depends){var f=true;switch(typeof e.depends){case"string":f=!!c(e.depends,b.form).length;break;case"function":f=e.depends.call(b,b)}if(f)a[d]=e.param!==undefined?e.param:true;else delete a[d]}});c.each(a,function(d,e){a[d]=c.isFunction(e)?e(b):e});c.each(["minlength","maxlength","min","max"],function(){if(a[this])a[this]=Number(a[this])});c.each(["rangelength","range"],function(){if(a[this])a[this]=[Number(a[this][0]),Number(a[this][1])]});if(c.validator.autoCreateRanges){if(a.min&&a.max){a.range=[a.min,a.max];delete a.min;delete a.max}if(a.minlength&&a.maxlength){a.rangelength=[a.minlength,a.maxlength];delete a.minlength;delete a.maxlength}}a.messages&&delete a.messages;return a},normalizeRule:function(a){if(typeof a=="string"){var b={};c.each(a.split(/\s/),function(){b[this]=true});a=b}return a},addMethod:function(a,b,d){c.validator.methods[a]=b;c.validator.messages[a]=d!=undefined?d:c.validator.messages[a];b.length<3&&c.validator.addClassRules(a,c.validator.normalizeRule(a))},methods:{required:function(a,b,d){if(!this.depend(d,b))return"dependency-mismatch";switch(b.nodeName.toLowerCase()){case"select":return(a=c(b).val())&&a.length>0;case"input":if(this.checkable(b))return this.getLength(a,b)>0;default:return c.trim(a).length>0}},remote:function(a,b,d){if(this.optional(b))return"dependency-mismatch";var e=this.previousValue(b);this.settings.messages[b.name]||(this.settings.messages[b.name]={});e.originalMessage=this.settings.messages[b.name].remote;this.settings.messages[b.name].remote=e.message;d=typeof d=="string"&&{url:d}||d;if(this.pending[b.name])return"pending";if(e.old===a)return e.valid;e.old=a;var f=this;this.startRequest(b);var g={};g[b.name]=a;c.ajax(c.extend(true,{url:d,mode:"abort",port:"validate"+b.name,dataType:"json",data:g,success:function(h){f.settings.messages[b.name].remote=e.originalMessage;var j=h===true;if(j){var i=f.formSubmitted;f.prepareElement(b);f.formSubmitted=i;f.successList.push(b);f.showErrors()}else{i={};h=h||f.defaultMessage(b,"remote");i[b.name]=e.message=c.isFunction(h)?h(a):h;f.showErrors(i)}e.valid=j;f.stopRequest(b,j)}},d));return"pending"},minlength:function(a,b,d){return this.optional(b)||this.getLength(c.trim(a),b)>=d},maxlength:function(a,b,d){return this.optional(b)||this.getLength(c.trim(a),b)<=d},rangelength:function(a,b,d){a=this.getLength(c.trim(a),b);return this.optional(b)||a>=d[0]&&a<=d[1]},min:function(a,b,d){return this.optional(b)||a>=d},max:function(a,b,d){return this.optional(b)||a<=d},range:function(a,b,d){return this.optional(b)||a>=d[0]&&a<=d[1]},email:function(a,b){return this.optional(b)||/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?$/i.test(a)},url:function(a,b){return this.optional(b)||/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(a)},date:function(a,b){return this.optional(b)||!/Invalid|NaN/.test(new Date(a))},dateISO:function(a,b){return this.optional(b)||/^\d{4}[\/-]\d{1,2}[\/-]\d{1,2}$/.test(a)},number:function(a,b){return this.optional(b)||/^-?(?:\d+|\d{1,3}(?:,\d{3})+)(?:\.\d+)?$/.test(a)},digits:function(a,b){return this.optional(b)||/^\d+$/.test(a)},creditcard:function(a,b){if(this.optional(b))return"dependency-mismatch";if(/[^0-9-]+/.test(a))return false;var d=0,e=0,f=false;a=a.replace(/\D/g,"");for(var g=a.length-1;g>=0;g--){e=a.charAt(g);e=parseInt(e,10);if(f)if((e*=2)>9)e-=9;d+=e;f=!f}return d%10==0},accept:function(a,b,d){d=typeof d=="string"?d.replace(/,/g,"|"):"png|jpe?g|gif";return this.optional(b)||a.match(RegExp(".("+d+")$","i"))},equalTo:function(a,b,d){d=c(d).unbind(".validate-equalTo").bind("blur.validate-equalTo",function(){c(b).valid()});return a==d.val()}}});c.format=c.validator.format})(jQuery);(function(c){var a={};if(c.ajaxPrefilter)c.ajaxPrefilter(function(d,e,f){e=d.port;if(d.mode=="abort"){a[e]&&a[e].abort();a[e]=f}});else{var b=c.ajax;c.ajax=function(d){var e=("port"in d?d:c.ajaxSettings).port;if(("mode"in d?d:c.ajaxSettings).mode=="abort"){a[e]&&a[e].abort();return a[e]=b.apply(this,arguments)}return b.apply(this,arguments)}}})(jQuery);(function(c){!jQuery.event.special.focusin&&!jQuery.event.special.focusout&&document.addEventListener&&c.each({focus:"focusin",blur:"focusout"},function(a,b){function d(e){e=c.event.fix(e);e.type=b;return c.event.handle.call(this,e)}c.event.special[b]={setup:function(){this.addEventListener(a,d,true)},teardown:function(){this.removeEventListener(a,d,true)},handler:function(e){arguments[0]=c.event.fix(e);arguments[0].type=b;return c.event.handle.apply(this,arguments)}}});c.extend(c.fn,{validateDelegate:function(a,b,d){return this.bind(b,function(e){var f=c(e.target);if(f.is(a))return d.apply(f,arguments)})}})})(jQuery);;if(typeof Packt=='undefined'){Packt={};}
var live_search={init:function(){$(document).ready(function(){if($('#packt-libraries-main-search-form').length>0){$('#packt-libraries-main-search-form').submit(function(){return true;});}
if(document.cookie.indexOf("__upsell_journey")==-1){var n=Math.floor(Math.random()*2)+1;var c="A";if(n==1){c="A";}else if(n==2){c="B";}
document.cookie="__upsell_journey="+c+"; expires=Tue 19 Jan 2038 00:00:00 UTC; path=/; domain=.packtpub.com";}});},alterUrl:function(){$('#packt-libraries-main-search-form').attr('action',$('#packt-libraries-main-search-form #edit-prepend').val()+encodeURIComponent($('#packt-libraries-main-search-form input#edit-product-autocomplete').val()));}};live_search.init();jQuery(document).ready(function(){if(typeof Drupal.jsAC=='undefined'){return;}
Drupal.jsAC.prototype.hidePopup=function(keycode){var popup=this.popup;if(popup){this.popup=null;$(popup).fadeOut('fast',function(){$(popup).remove();});}
this.selected=false;};Drupal.jsAC.prototype.oldSelect=Drupal.jsAC.prototype.select;Drupal.jsAC.prototype.select=function(node){if(this.input.id!=="undefined"&&(this.input.id==='edit-keys'||this.input.id==='edit-key'||this.input.id==="edit-keys-1")){this.input.value=node.textContent;window.location.href=node.autocompleteValue;}else{this.input.value=node.autocompleteValue;}};if(jQuery('.feedback-form').length>0){jQuery('#edit-submitted-how-did-you-hear-about-packt-other-reason').hide();jQuery("#webform-component-how_did_you_hear_about_packt input[type=radio]").change(function(e){if(jQuery(this).attr('id')=='edit-submitted-how-did-you-hear-about-packt-Other'){jQuery('#edit-submitted-how-did-you-hear-about-packt-other-reason').show();}else{jQuery('#edit-submitted-how-did-you-hear-about-packt-other-reason').hide();}});var other_input=jQuery("#webform-component-how_did_you_hear_about_packt_other_reason").find('input[type=text]');jQuery('#webform-component-how_did_you_hear_about_packt #edit-submitted-how-did-you-hear-about-packt-Other-wrapper').append(other_input);jQuery('#edit-submitted-how-did-you-hear-about-packt-other-reason-wrapper').remove();jQuery('#edit-submitted-how-did-you-hear-about-packt-other-reason').click(function(e){if(jQuery(this).val()=='If other, please specify')jQuery(this).val('');});jQuery('#edit-submitted-how-did-you-hear-about-packt-other-reason').blur(function(e){if(jQuery(this).val()=='')jQuery(this).val('If other, please specify');});}});;jQuery.validator.addMethod("userinfo",function(value,element,params){if(this.optional(element)||$(element).attr('ovalue')!=value){return true;}else{return false;}},"This field requires a valid value.");jQuery.validator.addMethod("kindleemail",function(value,element,params){if(this.optional(element)||value.search(/@(free\.){0,1}kindle.com$/g)!=-1){return true;}else{return false;}},"This address must end in <strong>@kindle.com</strong> or <strong>@free.kindle.com</strong>.");jQuery.validator.addClassRules({"vr-userinfo":{userinfo:true},"vr-kindleemail":{kindleemail:true}});jQuery(document).ready(function(){$('form.packt-auto-validation').validate();});;var captcha_popup={init:function(){$(document).ready(function(){$('.captcha').parents('form').not('#packt-send-to-friend-send-form-popup, #code-download-form, .nocaptchapopup, #packt-upgrade-register-do-form').submit(function(){captcha_popup.popup($(this).find('.captcha'),$(this).attr('id'));return false;});});},popup:function(form,id){var h=$(form).find('#captcha-popupz');if(h.length>0){}else{$(form).append('<input type="submit" id="captcha-popupz" value="Submit" class="form-submit captcha-popup" style="float: right; margin-bottom: 10px; margin-right: 20px;" />');}
var pop=new Boxy($(form).html(),{modal:true,title:'Captcha',unloadOnHide:true,beforeUnload:function(){$(form).find('#captcha-popupz').remove();}});$('.boxy-inner').find('#captcha-popupz').click(function(){$('#'+id).find('#captcha-popupz').remove();var i=$(this).prev().find('input').val();$('#'+id).find('input[name=captcha_response]').val(i);$('#'+id).unbind('submit');$('#'+id).trigger('submit');});}};captcha_popup.init();;packtoracle={init:function(){$(document).ready(function(){$('.oracle-offer-wrapper input[type=radio]').click(function(){packtoracle.switchForms(this);});});},switchForms:function(ele){$(ele).parent().find('form').parent().removeClass('hidden').addClass('hidden');if($(ele).attr('class')=='bundle_enabler'){$(ele).parent().find(".add-to-cart-button.bundle").removeClass('hidden');}else{$(ele).parent().find(".add-to-cart-button.ebook").removeClass('hidden');}}};packtoracle.init();;if(typeof JSON!=='object'){JSON={};}
(function(){'use strict';function f(n){return n<10?'0'+n:n;}
if(typeof Date.prototype.toJSON!=='function'){Date.prototype.toJSON=function(key){return isFinite(this.valueOf())?this.getUTCFullYear()+'-'+
f(this.getUTCMonth()+1)+'-'+
f(this.getUTCDate())+'T'+
f(this.getUTCHours())+':'+
f(this.getUTCMinutes())+':'+
f(this.getUTCSeconds())+'Z':null;};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(key){return this.valueOf();};}
var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={'\b':'\\b','\t':'\\t','\n':'\\n','\f':'\\f','\r':'\\r','"':'\\"','\\':'\\\\'},rep;function quote(string){escapable.lastIndex=0;return escapable.test(string)?'"'+string.replace(escapable,function(a){var c=meta[a];return typeof c==='string'?c:'\\u'+('0000'+a.charCodeAt(0).toString(16)).slice(-4);})+'"':'"'+string+'"';}
function str(key,holder){var i,k,v,length,mind=gap,partial,value=holder[key];if(value&&typeof value==='object'&&typeof value.toJSON==='function'){value=value.toJSON(key);}
if(typeof rep==='function'){value=rep.call(holder,key,value);}
switch(typeof value){case'string':return quote(value);case'number':return isFinite(value)?String(value):'null';case'boolean':case'null':return String(value);case'object':if(!value){return'null';}
gap+=indent;partial=[];if(Object.prototype.toString.apply(value)==='[object Array]'){length=value.length;for(i=0;i<length;i+=1){partial[i]=str(i,value)||'null';}
v=partial.length===0?'[]':gap?'[\n'+gap+partial.join(',\n'+gap)+'\n'+mind+']':'['+partial.join(',')+']';gap=mind;return v;}
if(rep&&typeof rep==='object'){length=rep.length;for(i=0;i<length;i+=1){if(typeof rep[i]==='string'){k=rep[i];v=str(k,value);if(v){partial.push(quote(k)+(gap?': ':':')+v);}}}}else{for(k in value){if(Object.prototype.hasOwnProperty.call(value,k)){v=str(k,value);if(v){partial.push(quote(k)+(gap?': ':':')+v);}}}}
v=partial.length===0?'{}':gap?'{\n'+gap+partial.join(',\n'+gap)+'\n'+mind+'}':'{'+partial.join(',')+'}';gap=mind;return v;}}
if(typeof JSON.stringify!=='function'){JSON.stringify=function(value,replacer,space){var i;gap='';indent='';if(typeof space==='number'){for(i=0;i<space;i+=1){indent+=' ';}}else if(typeof space==='string'){indent=space;}
rep=replacer;if(replacer&&typeof replacer!=='function'&&(typeof replacer!=='object'||typeof replacer.length!=='number')){throw new Error('JSON.stringify');}
return str('',{'':value});};}
if(typeof JSON.parse!=='function'){JSON.parse=function(text,reviver){var j;function walk(holder,key){var k,v,value=holder[key];if(value&&typeof value==='object'){for(k in value){if(Object.prototype.hasOwnProperty.call(value,k)){v=walk(value,k);if(v!==undefined){value[k]=v;}else{delete value[k];}}}}
return reviver.call(holder,key,value);}
text=String(text);cx.lastIndex=0;if(cx.test(text)){text=text.replace(cx,function(a){return'\\u'+
('0000'+a.charCodeAt(0).toString(16)).slice(-4);});}
if(/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,'@').replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,']').replace(/(?:^|:|,)(?:\s*\[)+/g,''))){j=eval('('+text+')');return typeof reviver==='function'?walk({'':j},''):j;}
throw new SyntaxError('JSON.parse');};}}());;if(typeof(_paq)!='undefined'){var _paqb=_paq;}
var _gaq=_gaq||[];_paq={initialised:false,events:_paqb||[],init:function(){if(!this.initialised){while((handler=this.initHandlers.shift())!=null){handler.call();}
this.fireHandlers();}
this.initialised=true;},push:function(arr){this.events.push(arr);this.fireHandlers();},getSessionID:function(){var cookies=document.cookie.split(";");for(var i=0;i<cookies.length;i++){ccookie=cookies[i].split("=");if(ccookie[0].trim().search("SESS")==0){return ccookie[1];}}},handlers:[function(arr){if(typeof arr.length!='undefined'){if(arr[0]&&arr[0].search("_")==0){if(arr[0]=='_trackEvent'&&arr.length<6){arr[5]=true;}
_gaq=_gaq||[];_gaq.push(arr);}}},function(arr){parr={};if(typeof arr.length!='undefined'){if(arr[0]=='_trackEvent'){parr.type='ga_event';if(arr[1])parr.category=arr[1];if(arr[2])parr.action=arr[2];if(arr[3])parr.label=arr[3];if(arr[4])parr.value=arr[4];if(arr[5])parr.noninteraction=arr[5];}
else if(arr[0]=='_trackPageview'){parr.type="ga_page_view"
if(arr[1])parr.url=arr[1];else parr.url=window.location.href;}
else if(arr[0]=='_addItem'){parr.type="ga_ecomm_add_item"
if(arr[1])parr.orderId=arr[1];if(arr[2])parr.sku=arr[2];if(arr[3])parr.name=arr[3];if(arr[4])parr.price=arr[4];if(arr[5])parr.quantity=arr[5];}
else if(arr[0]=='_addTrans'){parr.type="ga_ecomm_transaction"
if(arr[1])parr.orderId=arr[1];if(arr[2])parr.affiliation=arr[2];if(arr[3])parr.total=arr[3];if(arr[4])parr.tax=arr[4];if(arr[5])parr.shipping=arr[5];if(arr[6])parr.city=arr[6];if(arr[7])parr.state=arr[7];if(arr[8])parr.country=arr[8];}
else{return;}}else{parr=arr;}
var session_id=_paq.getSessionID();if(session_id){parr.session_id=session_id;}
if(Drupal.uid){parr.uid=Drupal.uid;}
$(document).ready(function(){setTimeout(function(){$.ajax({url:"/server_ajax/l.php",type:"POST",data:{event:JSON.stringify(parr)}});},5);});}],initHandlers:[function(){var ga=document.createElement("script");ga.type="text/javascript";ga.async=true;ga.src=("https:"==document.location.protocol?"https://ssl":"http://www")+".google-analytics.com/ga.js";var s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(ga,s);}],fireHandlers:function(){var event,x;while((event=this.events.shift())!=null){for(x=0;x<this.handlers.length;x++){this.handlers[x](event);}}}};_paq.init();;Packt.boxes=new Object();Packt.staf=new Object();Packt.staf_open=function(nid){Packt.boxes.staf=new Boxy('#staf_send',{modal:true});Packt.boxes.staf.show();$('#staf_cancel')[0].onclick=function(){Packt.boxes.staf.hide();return false;};$('#packt-send-to-friend-send-form-popup').ajaxForm({beforeSubmit:function(arr,form,options){var x=form.valid();if(!x)return false;},success:function(json){try{var result=eval("("+json+")");}catch(err){alert("Send to a friend failed because the CAPTCHA response was invalid.");window.location.reload();}
if(result.success){Packt.boxes.staf.hide();$('#send_again_message').show();$('#send_content #edit-submit').val("Sent");$('#send_content #edit-submit').attr("disabled","disabled");}}});if($('#edit-node-format').length>0){$('#edit-node-format-1').val($('#edit-node-format').val());}}
Packt.save_open=function(nid){Packt.boxes.save=new Boxy('#staf_send',{modal:true});Packt.boxes.save.show();$('#staf_cancel').click(function(){Packt.boxes.save.hide();return false;});$('#packt-send-to-friend-save-form').ajaxForm({beforeSubmit:function(arr,form,options){var x=form.valid();if(!x)return false;},success:function(json){try{var result=eval("("+json+")");}catch(err){alert("Send to a friend failed because the CAPTCHA response was invalid.");window.location.reload();}
if(result.success){Packt.boxes.save.hide();}else{alert("Sorry, we couldn't save this article now. Try again later.");}}});if($('#edit-node-format').length>0){$('#edit-node-format-1').val($('#edit-node-format').val());}}
Packt.getID=function(element){var name=element.name;var ids=name.match(/\[[a-z0-9_-]+\]$/);if(ids.length>0){return ids[0].replace(/[\[\]]/g,'');}}
Packt.removeArticle=function(id){window.location.href="/account/articles/remove/"+id;}
Packt.sendArticle=function(id){var html=$.ajax({url:"/unthemed/staf/send/node/"+id,method:'GET',success:function(data){$('#staf_send').html(data);Packt.staf_open();}});}
Packt.saveArticle=function(id){$.ajax({url:"/unthemed/staf/save/node/"+id,data:{kindle:'1'},method:'GET',success:function(data){data="<h1>Send to Kindle</h1><p>Please confirm your Kindle address.</p>\n"+data;$('#staf_send').html(data);$('#edit-kindle-address-wrapper').show();$('#edit-kindle-address').show();Packt.save_open();}});}
Packt.searchRelatedArticles=function(id){$.ajax({url:"/unthemed/staf/get_keywords/node/"+id,success:function(data){try{var result=eval("("+data+")");}catch(err){alert("Send to a friend failed because the CAPTCHA response was invalid.");window.location.reload();}
window.location.href="/search/luceneapi_node/"+escape(result.string);}});}
jQuery(document).ready(function(){if($('select.article-actions').length>0){$('select.article-actions').unbind('change');$('select.article-actions').change(function(){var action=$(this).val();var id=Packt.getID(this);switch(action){case'remove':return Packt.removeArticle(id);case'send':return Packt.sendArticle(id);case'kindle':return Packt.saveArticle(id,'kindle');case'related':return Packt.searchRelatedArticles(id);}});}
if($('div.accordion').length>0){$('select#edit-destination').change(function(){if($(this).val()=='kindle'){$('div#edit-kindle-address-wrapper, div#edit-kindle-address-wrapper *').show();$('div#edit-kindle-address-wrapper input').removeClass('optional');$('div#edit-kindle-address-wrapper input').addClass('vr-kindleemail');}else{$('div#edit-kindle-address-wrapper').hide();$('div#edit-kindle-address-wrapper input').addClass('optional');$('div#edit-kindle-address-wrapper input').removeClass('vr-kindleemail');}
$('#packt-send-to-friend-save-form').validate();});$('div.accordion > div.header').each(function(){this.onclick=function(){$('div.accordion > div.content.active').slideUp(300,function(){$(this).removeClass('active');});$(this).next().slideDown(300,function(){$(this).addClass('active');});}});$('div#staf_send input.form-text').focus(function(){var val=$(this).val();if(val=='First name'||val=='Last name'||val=='Email address')
$(this).val('');});Packt.staf.ajaxConfig={beforeSubmit:function(arr,form,options){var x=form.valid();if(!x)return false;},success:function(json){var result="";try{var result=eval("("+json+")");}
catch(err){alert("Send to a friend failed because the CAPTCHA response was invalid.");window.location.reload();}
if(result.success){$('#save_content div.inner > *').hide();if(result.format&&result.format=='kindle'){$('#saved_kindle').show();}else{$('#saved_account').show();}}else{$('div#staf_send').html('<p>An error occurred saving this article.</p>');}}};if($('#packt-send-to-friend-save-form input#edit-login').length==0){$('#packt-send-to-friend-save-form').ajaxForm(Packt.staf.ajaxConfig);}}});;var Packt=Packt||{};var packtupsell={packt_ajax_add:function(nid,qty){if(!qty)qty=1;var r_url="/add_to_cart_upsell";$.ajax({url:r_url,type:"POST",dataType:"html",data:{nids:nid,qty:qty,cookie:packtupsell.readcookie('multiupsell')},success:function(data,textStatus){var cooki=packtupsell.readcookie('multiupsell');if(cooki==2){packtupsell.packt_ajax_callback(data,textStatus);}}});return false;},packt_ajax_callback:function(data,textStatus){$("#block-uc_cart-0").find('div.block-content-inner').html(data);$('#sidebar-right').css('position','relative');$('#block-uc_cart-0').after('<div class="upsell-two"><div class="inner-upsell-two"><table width="100%" align="center"><tr><td>This item has been added to your basket.</td></tr></table><table width="100%"><tr><td style="width: 34%;"><a href="/cart/checkout"><input type="button" class="form-submit" value="Checkout" id="check-shop"></a></td><td style="width: 50%;"><input type="button" class="form-submit" value="Continue Shopping" id="cont-shop"></td></tr></table></div></div>');$('div.upsell-two').find('#cont-shop').click(function(){$('div.upsell-two').fadeOut().remove();});},randomnumber:function(){var random=Math.floor(Math.random()*3)+1;return random;},setcookie:function(name,value,days){if(days){var date=new Date();date.setTime(date.getTime()+(days*24*60*60*1000));var expires="; expires="+date.toGMTString();}
else var expires="";document.cookie=name+"="+value+expires+"; path=/";},readcookie:function(name){var nameEQ=name+"=";var ca=document.cookie.split(';');for(var i=0;i<ca.length;i++){var c=ca[i];while(c.charAt(0)==' ')c=c.substring(1,c.length);if(c.indexOf(nameEQ)==0)return c.substring(nameEQ.length,c.length);}
return null;},erasecookie:function(name){packtupsell.setcookie(name,"",-1);}};;var Packt=Packt||{}
Packt.videoStreaming={init:function(){$('a#feedback-link').click(function(e){Packt.videoStreaming.feedbackMailTo();})
$('a.section-link').click(function(e){Packt.videoStreaming.skipChapter(this,e);});$('div.video-navigation-container div.blue-btn').click(function(e){Packt.videoStreaming.innerLink(this,e);});Packt.videoStreaming.isMobile=Packt.videoStreaming.mobileCheck();if(Packt.videoStreaming.isMobile){Packt.videoStreaming.currentType='mobile';Packt.videoStreaming.initMobileScreen('first');}else{Packt.videoStreaming.currentType='desktop';Packt.videoStreaming.initLargeScreen('first');}
if($('.video-player-container').length>0){jwplayer().onPlaylistItem(function(e){Packt.videoStreaming.sectionDetails(this,e);});}
$(window).resize(function(){Packt.videoStreaming.mobileDesktopSwitch();});$('head').append("<meta name='viewport' content='width=device-width' initial-sclae=1, maximum-scale=1/>");},mailToError:false,currentType:'desktop',isMobile:false,initLargeScreen:function(){$('div.collapse-menu').click(function(e){Packt.videoStreaming.collapseMenu(this,e);});$('div.collapse-menu div.chapter-close-button').click(function(e){Packt.videoStreaming.collapseMenu(this,e);});$('div#chapter-scroll-overlay div.chapter-menu-item div.chapter-menu-item-top').click(function(e){Packt.videoStreaming.removeSelected($(this).find('div.expand-chapter-btn'));$(this).parent().parent().addClass('selected');Packt.videoStreaming.sectionDisplay($(this).find('div.expand-chapter-btn'),e);});},initMobileScreen:function(type){Packt.videoStreaming.resizingMobile();if(type=='first'){jwplayer().onReady(function(){Packt.videoStreaming.sectionDisplayIOS($('div.sections-list-container.show').parent(),null);$('div#chapter-scroll-overlay div.chapter-menu-item ').click(function(e){$('div.mobile-section-menu').addClass('selected');Packt.videoStreaming.sectionDisplayIOS($(this).find('div.chapter-menu-item-inner'),e);});$('div.mobile-section-menu-container div.left-placeholder, div.mobile-section-menu-container div.right-placeholder').click(function(e){Packt.videoStreaming.scrollMobileMenu(this,$('div.mobile-section-menu-container'),'div.section-container',e);});$('div#chapter-scroll-overlay div.left-placeholder, div#chapter-scroll-overlay div.right-placeholder').click(function(e){Packt.videoStreaming.scrollMobileMenu(this,$('div#chapter-scroll-overlay'),'div.chapter-menu-item',e);});Packt.videoStreaming.resizingMobile();$(window).resize(function(){Packt.videoStreaming.resizingMobile();});Packt.videoStreaming.phoneChapterResize();});}else if(type=='after'){if($('div#chapter-scroll-overlay div.chapter-menu-item.selected').length<1){var idx=0;$('div#chapter-scroll-overlay div.chapter-menu-item.selected').each(function(){if(idx!=0){$(this).removeClass('selected');}});}
Packt.videoStreaming.sectionDisplayIOS($('div.chapter-menu-item.current div.chapter-menu-item-inner'),null);$('div#chapter-scroll-overlay div.chapter-menu-item').click(function(e){$('div.mobile-section-menu').addClass('selected');Packt.videoStreaming.sectionDisplayIOS($(this).find('div.chapter-menu-item-inner'),e);});$('div.mobile-section-menu-container div.left-placeholder, div.mobile-section-menu-container div.right-placeholder').click(function(e){Packt.videoStreaming.scrollMobileMenu(this,$('div.mobile-section-menu-container'),'div.section-container',e);});$('div#chapter-scroll-overlay div.left-placeholder, div#chapter-scroll-overlay div.right-placeholder').click(function(e){Packt.videoStreaming.scrollMobileMenu(this,$('div#chapter-scroll-overlay'),'div.chapter-menu-item',e);});$(window).resize(function(){Packt.videoStreaming.resizingMobile();});Packt.videoStreaming.phoneChapterResize();}},mobileCheck:function(){var windowWidth=Packt.videoStreaming.getWindowWidth();return windowWidth<981;},scrollMobileMenu:function(btn,container,childSelector,event){event.stopPropagation();var x=0;var scrolled=$(btn).parent().scrollLeft();if($(btn).attr('class').indexOf('left')!==-1){if(scrolled!=0){var items=$(container).find(childSelector);for(var i=0;i<items.length;i++){x+=$(items[i]).outerWidth(true);if(x>scrolled){x-=$(items[i]).outerWidth(true);}else if(x==scrolled){x-=$(items[i]).outerWidth(true);}}}}else{$(container).find(childSelector).each(function(){if(x<scrolled){x+=$(this).outerWidth(true);}else if(scrolled==0&&x==0){x+=$(this).outerWidth(true);}else if(x==scrolled){x+=$(this).outerWidth(true);}});}
$(btn).parent().animate({scrollLeft:x},500);},collapseMenu:function(bar,event){if($(event.target).hasClass('collapse-menu')==true||$(event.target).hasClass('chapter-close-button')){if($(event.target).hasClass('collapse-menu')==true){bar=bar;}else if($(event.target).hasClass('chapter-close-button')==true){bar=$('div.chapter-menu-left.collapse-menu');}
if($(bar).hasClass('hide')==true){$(bar).css('height',$(bar).height()+'px');$('div.chapter-menu-item').stop().animate({'width':'0px'},500);$('div.video-player-container').stop().animate({'width':'885px'},500);$(bar).stop().animate({'width':'10px'},500,function(){$(bar).find('div.chapter-close-button').removeClass('close').addClass('open');$(bar).removeClass('hide').addClass('show');});}else{$('div.chapter-menu-item').stop().animate({'width':'225px'},500);$('div.video-player-container').stop().animate({'width':'663px'},500);$(bar).stop().animate({'width':'235px'},500,function(){$(bar).css('height','auto');$(bar).find('div.chapter-close-button').removeClass('open').addClass('close');$(bar).addClass('hide').removeClass('show');});}}},innerLink:function(item,event){window.location.href=$(item).find('a').attr('href');},skipChapter:function(chapter,event){event.stopPropagation();$('div.chapter-menu-item div.current').each(function(){$(this).removeClass('current');});if(Packt.videoStreaming.isMobile){$('div.mobile-section-menu-container div.section-container.current').each(function(){$(this).removeClass('current');});}
$(chapter).parent().addClass('current');var number=$(chapter).attr('name').replace('section-','');jwplayer().playlistItem(number);},sectionDisplayIOS:function(btn,event){$('div.chapter-menu-item.current').removeClass('current');$(btn).parent().addClass('current');$('div.mobile-section-menu').html($(btn).parent().find('div.sections-list-container').html());var sectionMenuDetails=Packt.videoStreaming.getMobileSectionInfo(btn);$('div.mobile-section-menu').css('width',sectionMenuDetails.width+'px');$('div.mobile-section-menu div.section-container').each(function(){$(this).css('height',sectionMenuDetails.maxHeight+'px');});if($('div.mobile-section-menu div.section-container.current').length!=0){$('div.mobile-section-menu-container').animate({scrollLeft:sectionMenuDetails.scroll},500);}else{$('div.mobile-section-menu-container').animate({scrollLeft:0},500);}
var name=$(btn).prev().attr('title');$('[id^=#section-ios-]').hide();$("#"+name).show();Packt.videoStreaming.bindClickEvents();},bindClickEvents:function(){$('div.mobile-section-menu div.section-container').click(function(e){Packt.videoStreaming.skipChapter($(this).find('a.section-link'),e);});},sectionDisplay:function(btn,event){var list=$(btn).parent().parent().find('div.sections-list-container');if($(list).hasClass('hide')){var children=$(list).children('div');var height=0;for(var i=0;i<children.length;i++){height+=$(children[i]).outerHeight();}
$(list).stop().animate({'height':height},500,function(){$(btn).html('-');$(list).removeClass('hide').addClass('show');});}else{$(list).parent().parent().removeClass('selected');$(list).stop().animate({'height':'0px'},500,function(){$(btn).html('+');$(list).removeClass('show').addClass('hide');});}},sectionSkipMobileMenu:function(ctpId,secId){if(!$('div.mobile-section-menu').hasClass('selected')){var ctpName='';$('div.chapter-menu-left.collapse-menu div.chapter-menu-item').each(function(){ctpName=$(this).attr('id').replace('chapter-','');if($(this).hasClass('current')&&ctpName==ctpId){Packt.videoStreaming.scrollToSection(this,secId);Packt.videoStreaming.scrollToChapter(this,ctpId);}else if(ctpId==ctpName){Packt.videoStreaming.sectionDisplayIOS($(this).find('div.chapter-menu-item-inner'),null,ctpId);Packt.videoStreaming.scrollToSection(this,secId);Packt.videoStreaming.scrollToChapter(this,ctpId);}else{$(this).removeClass('current');}});}else{var cPlaylistItem=jwplayer().getPlaylistItem();var secIdx=0;var ctpName=$('div.chapter-menu-item.current').attr('id').replace('chapter-','');$('div.mobile-section-menu-container div.section-container').each(function(){if(secIdx==secId&&cPlaylistItem.ctpId==ctpName){$(this).addClass('current');}else{$(this).removeClass('current');}
secIdx++;});}},scrollToChapter:function(ctp,ctpId){var x=0;var ctpName='';$('div#chapter-scroll-overlay div.chapter-menu-item').each(function(){var ctpName=$(this).attr('id').replace('chapter-','');if(ctpName==ctpId&&$(this).hasClass('current')){$('div#chapter-scroll-overlay').animate({scrollLeft:x},500);}else{x+=$(this).outerWidth(true);}});},scrollToSection:function(ctp,secId){if(Packt.videoStreaming.isMobile==true){if(!$('div.mobile-section-menu').hasClass('selected')){if(secId!=0){var secIdx=0;var scrollTo=0;$('div.mobile-section-menu-container div.section-container').each(function(){if(secIdx==secId){$('div.chapter-menu-left div.chapter-menu-item div.section-container a[name=section-'+secId+']').parent().addClass('current');$('div.section-container.current').each(function(){$(this).removeClass('current');});$(this).addClass('current');$('div.mobile-section-menu-container').animate({scrollLeft:scrollTo},500);}else{$('div.chapter-menu-left div.chapter-menu-item div.section-container a[name=section-'+secId+']').parent().removeClass('current');scrollTo+=$(this).outerWidth(true);}
secIdx++;});}else{$('div.mobile-section-menu-container div.section-container').eq(0).addClass('current');}}else{var secIdx=0;$('div.mobile-section-menu-container div.section-container').each(function(){if(secIdx==secId){$(this).addClass('current');}else{$(this).removeClass('current');}
secIdx++;});}}else{var secIdx=0;$('div.chapter-menu-item.current div.sections-list-container div.section-container').each(function(){if(secIdx==secId){$(this).addClass('current');}
secIdx++;});}},sectionDetails:function(player,event){if(!$('div.section-description').hasClass('first')){var chapter_id=event.index;$.ajax({url:'/account/get_chapter_information/'+document.location.href.split("/").pop()+'/'+chapter_id,dataType:'json',type:'GET',success:function(data){$('div#content-header h1.title').html(data.chapter_name+' / '+data.section_name);document.title=data.video_name+' / '+data.chapter_name+' / '+data.section_name+" | Packt Publishing";$('div.video-overview-container div.section-description').html(data.description);if(Packt.videoStreaming.isMobile==true){Packt.videoStreaming.sectionSkipMobileMenu(data.chapter_id,data.section_id);}else{Packt.videoStreaming.sectionSkipMenu(data.chapter_id,data.section_id);}}});}else{$('div.section-description').removeClass('first');}},mobileChapterHide:function(ctp){return false;},sectionSkipMenu:function(ctpId,secId){$('div.chapter-menu-left.collapse-menu div.chapter-menu-item').each(function(){var ctpName=$(this).attr('id').replace('chapter-','');if(!$(this).hasClass('selected')){if(ctpName==ctpId&&!$(this).find('div.sections-list-container').hasClass('show')){$(this).addClass('current');var secIdx=0;Packt.videoStreaming.sectionDisplay($(this).find('div.expand-chapter-btn'),null);$(this).find('div.sections-list-container div.section-container').each(function(){if(secId==secIdx){$(this).addClass('current');}else{$(this).removeClass('current');}
secIdx++;});}else if(ctpName==ctpId){$(this).addClass('current');var secIdx=0;$(this).find('div.sections-list-container div.section-container').each(function(){if(secId==secIdx){$(this).addClass('current');}else{$(this).removeClass('current');}
secIdx++;});}else if(!$(this).find('div.sections-list-container').hasClass('hide')&&ctpName!=ctpId){Packt.videoStreaming.sectionDisplay($(this).find('div.expand-chapter-btn'),null);$(this).removeClass('current');$(this).find('div.section-container.current').each(function(){$(this).removeClass('current');});}}else if(ctpName==ctpId&&$(this).hasClass('selected')){$(this).addClass('current');var secIdx=0;$(this).find('div.sections-list-container div.section-container').each(function(){if(secIdx==secId){$(this).addClass('current');Packt.videoStreaming.sectionDisplay($(this).find('div.expand-chapter-btn'),null);}else{$(this).removeClass('current');}
secIdx++;});}else if($(this).hasClass('selected')){$(this).removeClass('current');$(this).find('div.section-container.current').each(function(){$(this).removeClass('current');});}else{$(this).removeClass('current');}});},removeSelected:function(){$('div.chapter-menu-item.selected').each(function(){$(this).removeClass('selected');Packt.videoStreaming.sectionDisplay($(this).find('div.expand-chapter-btn'),null);});},phoneChapterResize:function(){$('div.chapter-menu-left').css('width',function(){var width=0;$(this).find('div.chapter-menu-item').each(function(){width+=$(this).outerWidth(true);});return width;});$('div.chapter-menu-left').css('height','48px');},resizingMobile:function(){var windowWidth=Packt.videoStreaming.getWindowWidth();if(windowWidth<981){if(windowWidth<321){var margin=10;var sMargin=50;}else{var margin=40;var sMargin=90;}
$('html.streaming-video-page divchapter-menu-left').css('height','48px');$('html.streaming-video-page div#page').css('width',function(){return windowWidth+'px';});$('html.streaming-video-page div#main').css('width',function(){return windowWidth+'px';});$('html.streaming-video-page div.video-player-container').css('width',function(){var width=windowWidth-margin;return width+'px';});$('html.streaming-video-page div#chapter-scroll-overlay').css('width',function(){var width=windowWidth-sMargin;return width+'px';});$('html.streaming-video-page div.mobile-section-menu-container').css('width',function(){var width=windowWidth-sMargin;return width+'px';});}},mobileDesktopSwitch:function(){var windowWidth=Packt.videoStreaming.getWindowWidth();if(windowWidth>980){if(Packt.videoStreaming.currentType=='mobile'){Packt.videoStreaming.isMobile=false;Packt.videoStreaming.unbindLargeEvents();Packt.videoStreaming.unbindMobileEvents();Packt.videoStreaming.initLargeScreen();Packt.videoStreaming.currentType='desktop';}}else{if(Packt.videoStreaming.currentType=='desktop'){Packt.videoStreaming.isMobile=true;$('div#chapter-scroll-overlay div.chapter-menu-item').unbind('click');$('div.mobile-section-menu-container div.left-placeholder, div.mobile-section-menu-container div.right-placeholder').unbind('click')
$('div#chapter-scroll-overlay div.left-placeholder, div#chapter-scroll-overlay div.right-placeholder').unbind('click');Packt.videoStreaming.unbindLargeEvents();Packt.videoStreaming.initMobileScreen('after');Packt.videoStreaming.currentType='mobile';}}},unbindLargeEvents:function(){Packt.videoStreaming.hideOpenSections();$('div.collapse-menu').unbind('click');$('div.collapse-menu div.chapter-close-button').unbind('click');$('div.expand-chapter-btn').unbind('click');$('div#chapter-scroll-overlay div.chapter-menu-item').unbind('click');$('div.chapter-menu-item-top').unbind('click');},unbindMobileEvents:function(){Packt.videoStreaming.redisplayChaptersSections();$('div#chapter-scroll-overlay div.chapter-menu-item').unbind('click');$('div.mobile-section-menu-container div.left-placeholder, div.mobile-section-menu-container div.right-placeholder').unbind('click')
$('div#chapter-scroll-overlay div.left-placeholder, div#chapter-scroll-overlay div.right-placeholder').unbind('click');$('div#chapter-scroll-overlay div.section-list-container.show').removeAttr('style');$('div.video-player-container').removeAttr('style');$('div.mobile-section-menu-container').removeAttr('style');$('div#chapter-scroll-overlay').removeAttr('style');$('div.chapter-menu-left').css('height','auto');$('div#page').removeAttr('style');$('div#main').removeAttr('style');},getMobileSectionInfo:function(btn){var width=0;var secId=0;var windowWidth=Packt.videoStreaming.getWindowWidth();var cPlaylistItem=jwplayer().getPlaylistItem();var ctpId=$(btn).parent().attr('id').replace('chapter-','');var maxHeight=0;var x=0;$('div.mobile-section-menu div.section-container').each(function(){if(maxHeight<$(this).outerHeight()&&$(this).outerHeight()<80){maxHeight=$(this).outerHeight();}
if(secId==cPlaylistItem.secId&&cPlaylistItem.ctpId==ctpId){$(this).addClass('current');scroll=x;}else{x+=$(this).outerWidth(true);$(this).removeClass('current');}
width+=$(this).outerWidth(true);secId++;});if(width<windowWidth){width=windowWidth;}
var Results={height:maxHeight,width:width,scroll:scroll};return Results;},hideOpenSections:function(){$('div#chapter-scroll-overlay div.chapter-menu-item div.sections-list-container').each(function(){$(this).css('height','0px');});},redisplayChaptersSections:function(){var windowWidth=Packt.videoStreaming.getWindowWidth();if(windowWidth>980){var currentSection=jwplayer().getPlaylistItem();$('div.chapter-menu-item div.sections-list-container.show').each(function(){var secIdx=0;var height=0;$(this).find('div.section-container').each(function(){if(currentSection.secId==secIdx){$(this).addClass('current');}else{$(this).removeClass('current');}
height+=$(this).outerHeight();secIdx++;});$(this).css('height',height);});}},getWindowWidth:function(){var width=0
if(window.innerWidth!=$('body').outerWidth(true)&&$.browser.safari==false){var scrollBarWidth=window.innerWidth-$('body').outerWidth();width=$(window).width()+scrollBarWidth;}else if(window.innerWidth!=$('body').outerWidth(true)&&$.browser.safari==true){var scrollBarWidth=window.innerWidth-$('body').outerWidth();width=$(window).width()-scrollBarWidth;}else{width=$(window).width();}
return width;},feedbackMailTo:function(link,e){jwplayer('player_2').pause(true);}}
$(document).ready(function(){if($('html').hasClass('streaming-video-page')){Packt.videoStreaming.init();}});;var copy_box_checked=false;var uc_ce_submit_disable=false;Drupal.behaviors.ucShowOnLoad=function(context){$('.show-onload:not(.ucShowOnLoad-processed)',context).addClass('ucShowOnLoad-processed').show();}
Drupal.behaviors.ucSubmitOrderThrobber=function(context){$('form#uc-cart-checkout-review-form input#edit-submit:not(.ucSubmitOrderThrobber-processed)',context).addClass('ucSubmitOrderThrobber-processed').click(function(){$(this).clone().insertAfter(this).attr('disabled',true).after('<span class="ubercart-throbber">&nbsp;&nbsp;&nbsp;&nbsp;</span>').end().hide();$('#uc-cart-checkout-review-form #edit-back').attr('disabled',true);});}
function uc_cart_next_button_click(button,pane_id,current){if(current!=='false'){$('#'+current+'-pane legend a').click();}
else{button.disabled=true;}
if($('#'+pane_id+'-pane').attr('class').indexOf('collapsed')>-1&&$('#'+pane_id+'-pane').html()!==null){$('#'+pane_id+'-pane legend a').click();}
return false;}
function uc_cart_copy_address(checked,source,target){if(!checked){$('#'+target+'-pane').slideDown();copy_box_checked=false;return false;}
if(target=='billing'){var x=28;}
else{var x=26;}
$('#'+target+'-pane').slideUp();copy_box_checked=true;if($('#edit-panes-'+target+'-'+target+'-zone').html()!=$('#edit-panes-'+source+'-'+source+'-zone').html()){$('#edit-panes-'+target+'-'+target+'-zone').empty().append($('#edit-panes-'+source+'-'+source+'-zone').children().clone());$('#edit-panes-'+target+'-'+target+'-zone').attr('disabled',$('#edit-panes-'+source+'-'+source+'-zone').attr('disabled'));}
$('#'+source+'-pane input, select, textarea').each(function(){if(this.id.substring(0,x)=='edit-panes-'+source+'-'+source){$('#edit-panes-'+target+'-'+target+this.id.substring(x)).val($(this).val());if(target=='billing'){$(this).change(function(){update_billing_field(this);});}
else{$(this).change(function(){update_delivery_field(this);});}}});return false;}
function update_billing_field(field){if(copy_box_checked){if(field.id.substring(29)=='zone'){$('#edit-panes-billing-billing-zone').empty().append($('#edit-panes-delivery-delivery-zone').children().clone());$('#edit-panes-billing-billing-zone').attr('disabled',$('#edit-panes-delivery-delivery-zone').attr('disabled'));}
$('#edit-panes-billing-billing'+field.id.substring(28)).val($(field).val()).change();}}
function update_delivery_field(field){if(copy_box_checked){if(field.id.substring(27)=='zone'){$('#edit-panes-delivery-delivery-zone').empty().append($('#edit-panes-billing-billing-zone').children().clone());$('#edit-panes-delivery-delivery-zone').attr('disabled',$('#edit-panes-billing-billing-zone').attr('disabled'));}
$('#edit-panes-delivery-delivery'+field.id.substring(26)).val($(field).val()).change();}}
function apply_address(type,address_str){var temp=type+'-'+type;if(address_str=='0'){$('#'+type+'-pane input').val('');$('#edit-panes-'+temp+'-zone').val('');return;}
eval('var address = '+address_str+';');$('#edit-panes-'+temp+'-first-name').val(address.first_name).trigger('change');$('#edit-panes-'+temp+'-last-name').val(address.last_name).trigger('change');$('#edit-panes-'+temp+'-phone').val(address.phone).trigger('change');$('#edit-panes-'+temp+'-company').val(address.company).trigger('change');$('#edit-panes-'+temp+'-street1').val(address.street1).trigger('change');$('#edit-panes-'+temp+'-street2').val(address.street2).trigger('change');$('#edit-panes-'+temp+'-city').val(address.city).trigger('change');$('#edit-panes-'+temp+'-postal-code').val(address.postal_code).trigger('change');if($('#edit-panes-'+temp+'-country').val()!=address.country){$('#edit-panes-'+temp+'-country').val(address.country).trigger('change');try{uc_update_zone_select('edit-panes-'+temp+'-country',address.zone);}
catch(err){}}
$('#edit-panes-'+temp+'-zone').val(address.zone).trigger('change');}
Drupal.behaviors.ucDisableNav=function(context){$('form#uc-cart-checkout-review-form input#edit-submit:not(.ucDisableNav-processed)',context).addClass('ucDisableNav-processed').click(function(){if(uc_ce_submit_disable){$(this).clone().insertAfter(this).attr('disabled',true).after('<span id=\"submit-throbber\" style=\"background: url('+Drupal.settings.basePath+'misc/throbber.gif) no-repeat 100% -20px;\">&nbsp;&nbsp;&nbsp;&nbsp;</span>').end().hide();$('#uc-cart-checkout-review-form #edit-back').attr('disabled',true);}});}
var editaddress={init:function(){$(document).ready(function(){$('#delivery-button, #billing-button').click(function(){editaddress.slidePane(this);});});},slidePane:function(i){var table=$(i).parents('table:first');var trs=$(table).find('tr.address-tr-hide, tr.address-tr-show');if($(trs).attr('class')=='address-tr-hide'){$(trs).attr('class','address-tr-show');}else{$(trs).attr('class','address-tr-hide');}
$(trs).css('display','');if($(i).attr('value')=='Edit'){$(i).hide();}else{$(i).attr('value','Edit');}}};editaddress.init();;var uc_file_list={};function _uc_file_expiration_disable_check(granularity,quantity){if($(granularity).val()=='never'){$(quantity).attr('disabled','disabled').val('');}
else{$(quantity).removeAttr('disabled');}}
function _uc_file_delete_list_populate(){$('.affected-file-name').empty().append(uc_file_list[$('#edit-recurse-directories').attr('checked')]);}
$(document).ready(function(){_uc_file_expiration_disable_check('#edit-uc-file-download-limit-duration-granularity','#edit-uc-file-download-limit-duration-qty');_uc_file_expiration_disable_check('#edit-download-limit-duration-granularity','#edit-download-limit-duration-qty');_uc_file_expiration_disable_check('#edit-download-limit-duration-granularity','#edit-download-limit-duration-qty');_uc_file_delete_list_populate();toggle_limit_settings('#edit-download-override','#edit-download-limit-number-wrapper');toggle_limit_settings('#edit-location-override','#edit-download-limit-addresses-wrapper');toggle_limit_settings('#edit-time-override','#edit-download-limit-duration-qty-wrapper');toggle_limit_settings('#edit-time-override','#edit-download-limit-duration-granularity-wrapper');});Drupal.behaviors.ucGlobalFileDownloadGranularity=function(context){$('#edit-uc-file-download-limit-duration-granularity:not(.ucGlobalFileDownloadGranularity-processed)',context).addClass('ucGlobalFileDownloadGranularity-processed').change(function(){_uc_file_expiration_disable_check('#edit-uc-file-download-limit-duration-granularity','#edit-uc-file-download-limit-duration-qty');});}
Drupal.behaviors.ucFileDownloadGranularity=function(context){$('#edit-download-limit-duration-granularity:not(.ucFileDownloadGranularity-processed)',context).addClass('ucFileDownloadGranularity-processed').change(function(){_uc_file_expiration_disable_check('#edit-download-limit-duration-granularity','#edit-download-limit-duration-qty');});}
Drupal.behaviors.ucFileSelectAll=function(context){$('#uc_file_select_all:not(.ucFileSelectAll-processed)',context).addClass('ucFileSelectAll-processed').click(function(){$('.form-checkbox').attr('checked',true);});}
Drupal.behaviors.ucFileSelectNone=function(context){$('#uc_file_select_none:not(.ucFileSelectNone-processed)',context).addClass('ucFileSelectNone-processed').click(function(){$('.form-checkbox').removeAttr('checked');});}
Drupal.behaviors.ucFileDeleteList=function(context){$('#edit-recurse-directories:not(.ucFileDeleteList-processed)',context).addClass('ucFileDeleteList-processed').change(function(){_uc_file_delete_list_populate()});}
function uc_file_update_download(id,accessed,limit){if(accessed<limit||limit==-1){var downloads='';downloads+=accessed+1;downloads+='/';downloads+=limit==-1?'Unlimited':limit;$('td#download-'+id).html(downloads);$('td#download-'+id).attr("onclick","");}}
Drupal.behaviors.ucFileLimitDownloads=function(context){$('#edit-download-override:not(.ucFileLimitDownloads-processed)',context).addClass('ucFileLimitDownloads-processed').click(function(){toggle_limit_settings('#edit-download-override','#edit-download-limit-number-wrapper');});}
Drupal.behaviors.ucFileLimitLocations=function(context){$('#edit-location-override:not(.ucFileLimitLocations-processed)',context).addClass('ucFileLimitLocations-processed').click(function(){toggle_limit_settings('#edit-location-override','#edit-download-limit-addresses-wrapper');});}
Drupal.behaviors.ucFileLimitTime=function(context){$('#edit-time-override:not(.ucFileLimitTime-processed)',context).addClass('ucFileLimitTime-processed').click(function(){toggle_limit_settings('#edit-time-override','#edit-download-limit-duration-qty-wrapper');toggle_limit_settings('#edit-time-override','#edit-download-limit-duration-granularity-wrapper');});}
function toggle_limit_settings(cause,effect){if($(cause).attr('checked')){$(effect).show();}
else{$(effect).hide();}};Drupal.Panels={};Drupal.Panels.autoAttach=function(){if($.browser.msie){$("div.panel-pane").hover(function(){$('div.panel-hide',this).addClass("panel-hide-hover");return true;},function(){$('div.panel-hide',this).removeClass("panel-hide-hover");return true;});$("div.admin-links").hover(function(){$(this).addClass("admin-links-hover");return true;},function(){$(this).removeClass("admin-links-hover");return true;});}};$(Drupal.Panels.autoAttach);;function packt_ajax_add(nid,qty,code){if(!qty)qty=1;if(!code)code="";var r_url="/cart/ajax_add";$.ajax({url:r_url,type:"POST",dataType:"html",data:{nid:nid,qty:qty,code:code},success:packt_update_cart_block_highlight});return false;}
function packt_ajax_add_multi(nid,stay,fid){if(stay==null)stay=false;if(fid==null)fid=false;var pid=0;if(fid){pid=fid;}else{pid=false;}
if(pid){var bookqty=$('#'+pid+' .book-qty').val();var ebookqty=$('#'+pid+' .ebook-qty').val();}else{var bookqty=$('#buynow-'+nid+' .book-qty').val();var ebookqty=$('#buynow-'+nid+' .ebook-qty').val();}
var r_url="/cart/ajax_add";var ebookid=0;var senddata=Array();senddata[nid]=bookqty;$.ajax({url:r_url,type:"POST",dataType:"html",data:{nid:nid,qty:bookqty,eid:ebookid,eqty:ebookqty},success:function(data,textStatus){if(stay==false){window.location.href='/cart/checkout';}else{packt_update_cart_block_highlight(data,textStatus);}}});return false;}
function packt_ajax_add_multi_generic(nid,bookqty,ebookqty,eid){stay=false;var r_url="/cart/ajax_add";if(eid>0){var ebookid=eid;}else{var ebookid=0;}
var senddata=Array();senddata[nid]=bookqty;$.ajax({url:r_url,type:"POST",dataType:"html",data:{nid:nid,qty:bookqty,eid:ebookid,eqty:ebookqty},success:function(){if(stay==false)document.location.href="/cart/checkout";}});return false;}
function packt_ajax_add_bundle(items){var r_url="/cart/ajax_add_bundle";var item=new Object();for(var i=0;i<items.length;i++){item[items[i]]=1;}
$.ajax({url:r_url,type:"POST",dataType:"html",data:{itemArray:JSON.stringify(item)},success:function(){document.location.href="/cart/checkout";}});return false;}
function packt_ajax_cart(){$.ajax({url:"/cart/ajax",type:"GET",dataType:"html",success:packt_update_cart_block});}
function packt_update_cart_block(data,textStatus){$("html:not(:animated),body:not(:animated)").animate({scrollTop:0});$("#block-uc_cart-0 .block-content-inner").html(data);}
function packt_update_cart_block_highlight(data,textStatus){$("html:not(:animated),body:not(:animated)").animate({scrollTop:0},'normal','linear',function(){$("#block-uc_cart-0 .block-content-inner").html(data);});}
$(document).ready(function(){var links=$('a[href$=pdf]');for(var i=0;i<links.length;i++){if($(links[i]).attr('href').indexOf('utm_source')<=-1){$(links[i]).attr('href',$(links[i]).attr('href')+"?utm_source=packtpub&utm_medium=free&utm_campaign=pdf");}}});var packtchristmas={init:function(){$(document).ready(function(){$('div#search-bar-box, div#login-box').click(function(event){event.stopPropagation();});$('div#top-banner').click(function(event){event.stopPropagation();packtchristmas.doLink();});$('div#top-banner').mouseover(function(event){event.stopPropagation();packtchristmas.doOnHover();});});},doLink:function(){top.location="/account/title/upgrade";},doOnHover:function(){$('div#top-banner').css('cursor','pointer');$('div#search-bar-box, div#login-box').css('cursor','auto');}};packtchristmas.init();;function clearIf(el,text){if(el.value==text){el.value="";el.rtext=text;el.onblur=function(){if(el.value==""){el.value=el.rtext;}}}}
jQuery(document).ready(function(){toggleValidFrom('#edit-card-type');jQuery('#edit-card-type').bind('change',function(){toggleValidFrom('#edit-card-type');});function expandit(){$('#block-menu-menu-footer-links li').removeClass("collapsed");$('#block-menu-menu-footer-links li').addClass("expanded");$('#block-menu-menu-footer-links ul').css('display','block');}
$("#dhtml_menu-6865").bind("click",function(e){expandit();});$("#dhtml_menu-6866").bind("click",function(e){expandit();});$("#dhtml_menu-6878").bind("click",function(e){expandit();});$("#dhtml_menu-6884").bind("click",function(e){expandit();});expandit();$(".menu-2234").append($("#books-menu"));$(".menu-2234").bind("mouseover",function(e){$("#books-menu").show();});$(".menu-2234").bind("mouseout",function(e){$("#books-menu").hide();});$("#books-menu").bind("mouseout",function(e){});$(".menu-2347").append($("#support-menu"));$(".menu-2347").bind("mouseover",function(e){$("#support-menu").show();});$(".menu-2347").bind("mouseout",function(e){$("#support-menu").hide();});$(".menu-7357").append($("#awards-menu"));$(".menu-7357").bind("mouseover",function(e){$("#awards-menu").show();});$(".menu-7357").bind("mouseout",function(e){$("#awards-menu").hide();});if($('#book_page_tabs').length>0){$('div.tab').click(function(){$('div.tab').removeClass('active');$('#'+this.id).addClass('active');$('div#tab_ebook_content').hide();$('div#tab_book_content').hide();$('div#tab_book_and_ebook_content').hide();$('div#tab_packtlib_content').hide();$('div#tab_annual_content').hide();$('div#tab_monthly_content').hide();$('div#'+this.id+'_content').show();if($('div#tab_annual_content').length==0){var id=document.getElementById("arg1_hidden").innerHTML;var btn=document.getElementById('edit-submit-'+id);bta=(this.id=='tab_book'||this.id=='tab_book_and_ebook'?1:0);eta=(this.id=='tab_ebook'||this.id=='tab_book_and_ebook'?1:0);$('form[id^=uc-product-add-to-cart] input[id^=edit-submit]').each(function(){this.onclick=function(){var id=document.getElementById("arg1_hidden").innerHTML;packt_ajax_add_multi_generic(id,bta,eta);return false;}});}
$('div#dont_miss_ebook').hide();$('div#dont_miss_multi').hide();$('div#dont_miss_packtlib').hide();if(this.id=='tab_ebook'){$('#dont_miss_multi').show();}
else if(this.id=='tab_book'){$('#dont_miss_ebook').show();}
else if(this.id=='tab_book_and_ebook'){$('#dont_miss_packtlib').show();}
else if(this.id=='tab_packtlib'){$('#dont_miss_multi').show();}
if(this.id=='tab_packtlib'){$('#purchase-options').hide();}else{$('#purchase-options').show();}});$('div.tab.active').click();}
$('[href=$".pdf"]').click(function(){var pageTracker=_gat._getTracker("UA-284627-1");pageTracker._trackEvent('PDF Download',this.href);return true;});if($('.node-type-book-offer').length>0){$('.node-type-book-offer div.upsell-see-more').click(function(){$('div.upsell-more.padding').fadeOut(function(){$('div.extended-nodes').slideDown();});});$('.node-type-book-offer div.banners').click(function(){$('div.banners input[type=submit]').click();});}});function toggleValidFrom(obj){if(jQuery(obj).val()=="SOLO_GB-SSL")
jQuery("#edit-valid-from-wrapper, #edit-valid-from-year-wrapper").show();else
jQuery("#edit-valid-from-wrapper, #edit-valid-from-year-wrapper").hide();}
function do_offer_countdown(){countdown_expires=true_expires-parseInt((+new Date)/1000);if(countdown_expires>=0){var h=Math.floor(countdown_expires/60/60);var m=Math.floor(countdown_expires/60)%60;if(m<10)m='0'+m.toString();var s=countdown_expires%60;if(s<10)s='0'+s.toString();jQuery('#count-time').html(h+":"+m+":"+s);setTimeout(function(){do_offer_countdown();},1000);}}
if(typeof(PacktLib)=='undefined')PacktLib=new Object();PacktLib.otherReasonShowHide=function(select){if($('#'+select.id)[0].value=='other'){$('#other_reason').show();}else{$('#other_reason').hide();}}
function saveForLater(){new Boxy("<p>Thank you, your items will be saved in your cart for the next 72 hours.</p>",{title:'Items saved',closeable:true,modal:true});return false;}
function evLog(data,async){var params=[];if(async==null)async=true;if(data==null){params={event_type:'Page view'};}else if(typeof(data)=='object'){params=data;}else{var p=1;for(i in data){params['d'+i]=data[i];p++;}}
params.url=location.pathname;$.ajax({url:'/server_ajax/log.php',type:'POST',async:async,data:{ev:$.toJSON(params)}});}
(function($){$.toJSON=function(o)
{if(typeof(JSON)=='object'&&JSON.stringify)
return JSON.stringify(o);var type=typeof(o);if(o===null)
return"null";if(type=="undefined")
return undefined;if(type=="number"||type=="boolean")
return o+"";if(type=="string")
return $.quoteString(o);if(type=='object')
{if(typeof o.toJSON=="function")
return $.toJSON(o.toJSON());if(o.constructor===Date)
{var month=o.getUTCMonth()+1;if(month<10)month='0'+month;var day=o.getUTCDate();if(day<10)day='0'+day;var year=o.getUTCFullYear();var hours=o.getUTCHours();if(hours<10)hours='0'+hours;var minutes=o.getUTCMinutes();if(minutes<10)minutes='0'+minutes;var seconds=o.getUTCSeconds();if(seconds<10)seconds='0'+seconds;var milli=o.getUTCMilliseconds();if(milli<100)milli='0'+milli;if(milli<10)milli='0'+milli;return'"'+year+'-'+month+'-'+day+'T'+
hours+':'+minutes+':'+seconds+'.'+milli+'Z"';}
if(o.constructor===Array)
{var ret=[];for(var i=0;i<o.length;i++)
ret.push($.toJSON(o[i])||"null");return"["+ret.join(",")+"]";}
var pairs=[];for(var k in o){var name;var type=typeof k;if(type=="number")
name='"'+k+'"';else if(type=="string")
name=$.quoteString(k);else
continue;if(typeof o[k]=="function")
continue;var val=$.toJSON(o[k]);pairs.push(name+":"+val);}
return"{"+pairs.join(", ")+"}";}};$.quoteString=function(string)
{if(string.match(_escapeable))
{return'"'+string.replace(_escapeable,function(a)
{var c=_meta[a];if(typeof c==='string')return c;c=a.charCodeAt();return'\\u00'+Math.floor(c/16).toString(16)+(c%16).toString(16);})+'"';}
return'"'+string+'"';};var _escapeable=/["\\\x00-\x1f\x7f-\x9f]/g;var _meta={'\b':'\\b','\t':'\\t','\n':'\\n','\f':'\\f','\r':'\\r','"':'\\"','\\':'\\\\'};showPOLabel=function(select){if($(select).val()=='840'){$('#nopo').show();}else{$('#nopo').hide();}}})(jQuery);;